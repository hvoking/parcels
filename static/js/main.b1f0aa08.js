/*! For license information please see main.b1f0aa08.js.LICENSE.txt */
(()=>{var e={207:function(e){e.exports=function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}function i(e){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},i(e)}function o(e,t){return o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},o(e,t)}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function s(e,t,n){return s=a()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&o(i,n.prototype),i},s.apply(null,arguments)}function u(e){var t="function"==typeof Map?new Map:void 0;return u=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return s(e,arguments,i(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),o(r,e)},u(e)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return l(e)}function h(e){var t=a();return function(){var n,r=i(e);if(t){var o=i(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function f(e,t,n){return f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=i(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},f(e,t,n||e)}function d(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||p(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=p(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}var y=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"getEndCapStyle",value:function(){return this._endCapStyle}},{key:"isSingleSided",value:function(){return this._isSingleSided}},{key:"setQuadrantSegments",value:function(e){this._quadrantSegments=e,0===this._quadrantSegments&&(this._joinStyle=t.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=t.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),e<=0&&(this._quadrantSegments=1),this._joinStyle!==t.JOIN_ROUND&&(this._quadrantSegments=t.DEFAULT_QUADRANT_SEGMENTS)}},{key:"getJoinStyle",value:function(){return this._joinStyle}},{key:"setJoinStyle",value:function(e){this._joinStyle=e}},{key:"setSimplifyFactor",value:function(e){this._simplifyFactor=e<0?0:e}},{key:"getSimplifyFactor",value:function(){return this._simplifyFactor}},{key:"getQuadrantSegments",value:function(){return this._quadrantSegments}},{key:"setEndCapStyle",value:function(e){this._endCapStyle=e}},{key:"getMitreLimit",value:function(){return this._mitreLimit}},{key:"setMitreLimit",value:function(e){this._mitreLimit=e}},{key:"setSingleSided",value:function(e){this._isSingleSided=e}}],[{key:"constructor_",value:function(){if(this._quadrantSegments=t.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=t.CAP_ROUND,this._joinStyle=t.JOIN_ROUND,this._mitreLimit=t.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=t.DEFAULT_SIMPLIFY_FACTOR,0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.setQuadrantSegments(e)}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.setQuadrantSegments(n),this.setEndCapStyle(r)}else if(4===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3];this.setQuadrantSegments(i),this.setEndCapStyle(o),this.setJoinStyle(a),this.setMitreLimit(s)}}},{key:"bufferDistanceError",value:function(e){var t=Math.PI/2/e;return 1-Math.cos(t/2)}}]),t}();y.CAP_ROUND=1,y.CAP_FLAT=2,y.CAP_SQUARE=3,y.JOIN_ROUND=1,y.JOIN_MITRE=2,y.JOIN_BEVEL=3,y.DEFAULT_QUADRANT_SEGMENTS=8,y.DEFAULT_MITRE_LIMIT=5,y.DEFAULT_SIMPLIFY_FACTOR=.01;var m=function(t){r(o,t);var i=h(o);function o(t){var n;return e(this,o),(n=i.call(this,t)).name=Object.keys({Exception:o})[0],n}return n(o,[{key:"toString",value:function(){return this.message}}]),o}(u(Error)),_=function(t){r(i,t);var n=h(i);function i(t){var r;return e(this,i),(r=n.call(this,t)).name=Object.keys({IllegalArgumentException:i})[0],r}return i}(m),k=function(){function t(){e(this,t)}return n(t,[{key:"filter",value:function(e){}}]),t}();function x(){}function b(){}function w(){}var E,N,S,I,C,T,L,R,P=function(){function t(){e(this,t)}return n(t,null,[{key:"equalsWithTolerance",value:function(e,t,n){return Math.abs(e-t)<=n}}]),t}(),M=function(){function t(n,r){e(this,t),this.low=r||0,this.high=n||0}return n(t,null,[{key:"toBinaryString",value:function(e){var t,n="";for(t=2147483648;t>0;t>>>=1)n+=(e.high&t)===t?"1":"0";for(t=2147483648;t>0;t>>>=1)n+=(e.low&t)===t?"1":"0";return n}}]),t}();function O(){}function A(){}O.NaN=NaN,O.isNaN=function(e){return Number.isNaN(e)},O.isInfinite=function(e){return!Number.isFinite(e)},O.MAX_VALUE=Number.MAX_VALUE,O.POSITIVE_INFINITY=Number.POSITIVE_INFINITY,O.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY,"function"==typeof Float64Array&&"function"==typeof Int32Array?(T=2146435072,L=new Float64Array(1),R=new Int32Array(L.buffer),O.doubleToLongBits=function(e){L[0]=e;var t=0|R[0],n=0|R[1];return(n&T)===T&&0!=(1048575&n)&&0!==t&&(t=0,n=2146959360),new M(n,t)},O.longBitsToDouble=function(e){return R[0]=e.low,R[1]=e.high,L[0]}):(E=1023,N=Math.log2,S=Math.floor,I=Math.pow,C=function(){for(var e=53;e>0;e--){var t=I(2,e)-1;if(S(N(t))+1===e)return t}return 0}(),O.doubleToLongBits=function(e){var t,n,r,i,o,a,s,u,l;if(e<0||1/e===Number.NEGATIVE_INFINITY?(a=1<<31,e=-e):a=0,0===e)return new M(u=a,l=0);if(e===1/0)return new M(u=2146435072|a,l=0);if(e!=e)return new M(u=2146959360,l=0);if(i=0,l=0,(t=S(e))>1)if(t<=C)(i=S(N(t)))<=20?(l=0,u=t<<20-i&1048575):(l=t%(n=I(2,r=i-20))<<32-r,u=t/n&1048575);else for(r=t,l=0;0!==(r=S(n=r/2));)i++,l>>>=1,l|=(1&u)<<31,u>>>=1,n!==r&&(u|=524288);if(s=i+E,o=0===t,t=e-t,i<52&&0!==t)for(r=0;;){if((n=2*t)>=1?(t=n-1,o?(s--,o=!1):(r<<=1,r|=1,i++)):(t=n,o?0==--s&&(i++,o=!1):(r<<=1,i++)),20===i)u|=r,r=0;else if(52===i){l|=r;break}if(1===n){i<20?u|=r<<20-i:i<52&&(l|=r<<52-i);break}}return u|=s<<20,new M(u|=a,l)},O.longBitsToDouble=function(e){var t,n,r,i,o=e.high,a=e.low,s=o&1<<31?-1:1;for(r=((2146435072&o)>>20)-E,i=0,n=1<<19,t=1;t<=20;t++)o&n&&(i+=I(2,-t)),n>>>=1;for(n=1<<31,t=21;t<=52;t++)a&n&&(i+=I(2,-t)),n>>>=1;if(-1023===r){if(0===i)return 0*s;r=-1022}else{if(1024===r)return 0===i?s/0:NaN;i+=1}return s*i*I(2,r)});var D=function(t){r(i,t);var n=h(i);function i(t){var r;return e(this,i),(r=n.call(this,t)).name=Object.keys({RuntimeException:i})[0],r}return i}(m),F=function(t){r(o,t);var i=h(o);function o(){var t;return e(this,o),t=i.call(this),o.constructor_.apply(l(t),arguments),t}return n(o,null,[{key:"constructor_",value:function(){if(0===arguments.length)D.constructor_.call(this);else if(1===arguments.length){var e=arguments[0];D.constructor_.call(this,e)}}}]),o}(D),z=function(){function t(){e(this,t)}return n(t,null,[{key:"shouldNeverReachHere",value:function(){if(0===arguments.length)t.shouldNeverReachHere(null);else if(1===arguments.length){var e=arguments[0];throw new F("Should never reach here"+(null!==e?": "+e:""))}}},{key:"isTrue",value:function(){if(1===arguments.length){var e=arguments[0];t.isTrue(e,null)}else if(2===arguments.length){var n=arguments[1];if(!arguments[0])throw null===n?new F:new F(n)}}},{key:"equals",value:function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];t.equals(e,n,null)}else if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];if(!i.equals(r))throw new F("Expected "+r+" but encountered "+i+(null!==o?": "+o:""))}}}]),t}(),j=new ArrayBuffer(8),B=new Float64Array(j),q=new Int32Array(j),U=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"getM",value:function(){return O.NaN}},{key:"setOrdinate",value:function(e,n){switch(e){case t.X:this.x=n;break;case t.Y:this.y=n;break;case t.Z:this.setZ(n);break;default:throw new _("Invalid ordinate index: "+e)}}},{key:"equals2D",value:function(){if(1===arguments.length){var e=arguments[0];return this.x===e.x&&this.y===e.y}if(2===arguments.length){var t=arguments[0],n=arguments[1];return!!P.equalsWithTolerance(this.x,t.x,n)&&!!P.equalsWithTolerance(this.y,t.y,n)}}},{key:"setM",value:function(e){throw new _("Invalid ordinate index: "+t.M)}},{key:"getZ",value:function(){return this.z}},{key:"getOrdinate",value:function(e){switch(e){case t.X:return this.x;case t.Y:return this.y;case t.Z:return this.getZ()}throw new _("Invalid ordinate index: "+e)}},{key:"equals3D",value:function(e){return this.x===e.x&&this.y===e.y&&(this.getZ()===e.getZ()||O.isNaN(this.getZ())&&O.isNaN(e.getZ()))}},{key:"equals",value:function(e){return e instanceof t&&this.equals2D(e)}},{key:"equalInZ",value:function(e,t){return P.equalsWithTolerance(this.getZ(),e.getZ(),t)}},{key:"setX",value:function(e){this.x=e}},{key:"compareTo",value:function(e){var t=e;return this.x<t.x?-1:this.x>t.x?1:this.y<t.y?-1:this.y>t.y?1:0}},{key:"getX",value:function(){return this.x}},{key:"setZ",value:function(e){this.z=e}},{key:"clone",value:function(){try{return null}catch(e){if(e instanceof CloneNotSupportedException)return z.shouldNeverReachHere("this shouldn't happen because this class is Cloneable"),null;throw e}}},{key:"copy",value:function(){return new t(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+", "+this.getZ()+")"}},{key:"distance3D",value:function(e){var t=this.x-e.x,n=this.y-e.y,r=this.getZ()-e.getZ();return Math.sqrt(t*t+n*n+r*r)}},{key:"getY",value:function(){return this.y}},{key:"setY",value:function(e){this.y=e}},{key:"distance",value:function(e){var t=this.x-e.x,n=this.y-e.y;return Math.sqrt(t*t+n*n)}},{key:"hashCode",value:function(){var e=17;return 37*(e=37*e+t.hashCode(this.x))+t.hashCode(this.y)}},{key:"setCoordinate",value:function(e){this.x=e.x,this.y=e.y,this.z=e.getZ()}},{key:"interfaces_",get:function(){return[x,b,w]}}],[{key:"constructor_",value:function(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)t.constructor_.call(this,0,0);else if(1===arguments.length){var e=arguments[0];t.constructor_.call(this,e.x,e.y,e.getZ())}else if(2===arguments.length){var n=arguments[0],r=arguments[1];t.constructor_.call(this,n,r,t.NULL_ORDINATE)}else if(3===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2];this.x=i,this.y=o,this.z=a}}},{key:"hashCode",value:function(e){return B[0]=e,q[0]^q[1]}}]),t}(),G=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"compare",value:function(e,n){var r=t.compare(e.x,n.x);if(0!==r)return r;var i=t.compare(e.y,n.y);return 0!==i?i:this._dimensionsToTest<=2?0:t.compare(e.getZ(),n.getZ())}},{key:"interfaces_",get:function(){return[A]}}],[{key:"constructor_",value:function(){if(this._dimensionsToTest=2,0===arguments.length)t.constructor_.call(this,2);else if(1===arguments.length){var e=arguments[0];if(2!==e&&3!==e)throw new _("only 2 or 3 dimensions may be specified");this._dimensionsToTest=e}}},{key:"compare",value:function(e,t){return e<t?-1:e>t?1:O.isNaN(e)?O.isNaN(t)?0:-1:O.isNaN(t)?1:0}}]),t}();U.DimensionalComparator=G,U.NULL_ORDINATE=O.NaN,U.X=0,U.Y=1,U.Z=2,U.M=3;var Y=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"getArea",value:function(){return this.getWidth()*this.getHeight()}},{key:"equals",value:function(e){if(!(e instanceof t))return!1;var n=e;return this.isNull()?n.isNull():this._maxx===n.getMaxX()&&this._maxy===n.getMaxY()&&this._minx===n.getMinX()&&this._miny===n.getMinY()}},{key:"intersection",value:function(e){if(this.isNull()||e.isNull()||!this.intersects(e))return new t;var n=this._minx>e._minx?this._minx:e._minx,r=this._miny>e._miny?this._miny:e._miny;return new t(n,this._maxx<e._maxx?this._maxx:e._maxx,r,this._maxy<e._maxy?this._maxy:e._maxy)}},{key:"isNull",value:function(){return this._maxx<this._minx}},{key:"getMaxX",value:function(){return this._maxx}},{key:"covers",value:function(){if(1===arguments.length){if(arguments[0]instanceof U){var e=arguments[0];return this.covers(e.x,e.y)}if(arguments[0]instanceof t){var n=arguments[0];return!this.isNull()&&!n.isNull()&&n.getMinX()>=this._minx&&n.getMaxX()<=this._maxx&&n.getMinY()>=this._miny&&n.getMaxY()<=this._maxy}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];return!this.isNull()&&r>=this._minx&&r<=this._maxx&&i>=this._miny&&i<=this._maxy}}},{key:"intersects",value:function(){if(1===arguments.length){if(arguments[0]instanceof t){var e=arguments[0];return!this.isNull()&&!e.isNull()&&!(e._minx>this._maxx||e._maxx<this._minx||e._miny>this._maxy||e._maxy<this._miny)}if(arguments[0]instanceof U){var n=arguments[0];return this.intersects(n.x,n.y)}}else if(2===arguments.length){if(arguments[0]instanceof U&&arguments[1]instanceof U){var r=arguments[0],i=arguments[1];return!this.isNull()&&!((r.x<i.x?r.x:i.x)>this._maxx)&&!((r.x>i.x?r.x:i.x)<this._minx)&&!((r.y<i.y?r.y:i.y)>this._maxy)&&!((r.y>i.y?r.y:i.y)<this._miny)}if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var o=arguments[0],a=arguments[1];return!this.isNull()&&!(o>this._maxx||o<this._minx||a>this._maxy||a<this._miny)}}}},{key:"getMinY",value:function(){return this._miny}},{key:"getDiameter",value:function(){if(this.isNull())return 0;var e=this.getWidth(),t=this.getHeight();return Math.sqrt(e*e+t*t)}},{key:"getMinX",value:function(){return this._minx}},{key:"expandToInclude",value:function(){if(1===arguments.length){if(arguments[0]instanceof U){var e=arguments[0];this.expandToInclude(e.x,e.y)}else if(arguments[0]instanceof t){var n=arguments[0];if(n.isNull())return null;this.isNull()?(this._minx=n.getMinX(),this._maxx=n.getMaxX(),this._miny=n.getMinY(),this._maxy=n.getMaxY()):(n._minx<this._minx&&(this._minx=n._minx),n._maxx>this._maxx&&(this._maxx=n._maxx),n._miny<this._miny&&(this._miny=n._miny),n._maxy>this._maxy&&(this._maxy=n._maxy))}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.isNull()?(this._minx=r,this._maxx=r,this._miny=i,this._maxy=i):(r<this._minx&&(this._minx=r),r>this._maxx&&(this._maxx=r),i<this._miny&&(this._miny=i),i>this._maxy&&(this._maxy=i))}}},{key:"minExtent",value:function(){if(this.isNull())return 0;var e=this.getWidth(),t=this.getHeight();return e<t?e:t}},{key:"getWidth",value:function(){return this.isNull()?0:this._maxx-this._minx}},{key:"compareTo",value:function(e){var t=e;return this.isNull()?t.isNull()?0:-1:t.isNull()?1:this._minx<t._minx?-1:this._minx>t._minx?1:this._miny<t._miny?-1:this._miny>t._miny?1:this._maxx<t._maxx?-1:this._maxx>t._maxx?1:this._maxy<t._maxy?-1:this._maxy>t._maxy?1:0}},{key:"translate",value:function(e,t){if(this.isNull())return null;this.init(this.getMinX()+e,this.getMaxX()+e,this.getMinY()+t,this.getMaxY()+t)}},{key:"copy",value:function(){return new t(this)}},{key:"toString",value:function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"}},{key:"setToNull",value:function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1}},{key:"disjoint",value:function(e){return!(!this.isNull()&&!e.isNull())||e._minx>this._maxx||e._maxx<this._minx||e._miny>this._maxy||e._maxy<this._miny}},{key:"getHeight",value:function(){return this.isNull()?0:this._maxy-this._miny}},{key:"maxExtent",value:function(){if(this.isNull())return 0;var e=this.getWidth(),t=this.getHeight();return e>t?e:t}},{key:"expandBy",value:function(){if(1===arguments.length){var e=arguments[0];this.expandBy(e,e)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];if(this.isNull())return null;this._minx-=t,this._maxx+=t,this._miny-=n,this._maxy+=n,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}}},{key:"contains",value:function(){if(1===arguments.length){if(arguments[0]instanceof t){var e=arguments[0];return this.covers(e)}if(arguments[0]instanceof U){var n=arguments[0];return this.covers(n)}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];return this.covers(r,i)}}},{key:"centre",value:function(){return this.isNull()?null:new U((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)}},{key:"init",value:function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof U){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else if(arguments[0]instanceof t){var n=arguments[0];this._minx=n._minx,this._maxx=n._maxx,this._miny=n._miny,this._maxy=n._maxy}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.init(r.x,i.x,r.y,i.y)}else if(4===arguments.length){var o=arguments[0],a=arguments[1],s=arguments[2],u=arguments[3];o<a?(this._minx=o,this._maxx=a):(this._minx=a,this._maxx=o),s<u?(this._miny=s,this._maxy=u):(this._miny=u,this._maxy=s)}}},{key:"getMaxY",value:function(){return this._maxy}},{key:"distance",value:function(e){if(this.intersects(e))return 0;var t=0;this._maxx<e._minx?t=e._minx-this._maxx:this._minx>e._maxx&&(t=this._minx-e._maxx);var n=0;return this._maxy<e._miny?n=e._miny-this._maxy:this._miny>e._maxy&&(n=this._miny-e._maxy),0===t?n:0===n?t:Math.sqrt(t*t+n*n)}},{key:"hashCode",value:function(){var e=17;return 37*(e=37*(e=37*(e=37*e+U.hashCode(this._minx))+U.hashCode(this._maxx))+U.hashCode(this._miny))+U.hashCode(this._maxy)}},{key:"interfaces_",get:function(){return[x,w]}}],[{key:"constructor_",value:function(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length){if(arguments[0]instanceof U){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else if(arguments[0]instanceof t){var n=arguments[0];this.init(n)}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.init(r.x,i.x,r.y,i.y)}else if(4===arguments.length){var o=arguments[0],a=arguments[1],s=arguments[2],u=arguments[3];this.init(o,a,s,u)}}},{key:"intersects",value:function(){if(3===arguments.length){var e=arguments[0],t=arguments[1],n=arguments[2];return n.x>=(e.x<t.x?e.x:t.x)&&n.x<=(e.x>t.x?e.x:t.x)&&n.y>=(e.y<t.y?e.y:t.y)&&n.y<=(e.y>t.y?e.y:t.y)}if(4===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2],a=arguments[3],s=Math.min(o.x,a.x),u=Math.max(o.x,a.x),l=Math.min(r.x,i.x),c=Math.max(r.x,i.x);return!(l>u)&&!(c<s)&&(s=Math.min(o.y,a.y),u=Math.max(o.y,a.y),l=Math.min(r.y,i.y),c=Math.max(r.y,i.y),!(l>u)&&!(c<s))}}}]),t}(),H=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"isGeometryCollection",value:function(){return this.getTypeCode()===t.TYPECODE_GEOMETRYCOLLECTION}},{key:"getFactory",value:function(){return this._factory}},{key:"getGeometryN",value:function(e){return this}},{key:"getArea",value:function(){return 0}},{key:"isRectangle",value:function(){return!1}},{key:"equalsExact",value:function(e){return this===e||this.equalsExact(e,0)}},{key:"geometryChanged",value:function(){this.apply(t.geometryChangedFilter)}},{key:"geometryChangedAction",value:function(){this._envelope=null}},{key:"equalsNorm",value:function(e){return null!==e&&this.norm().equalsExact(e.norm())}},{key:"getLength",value:function(){return 0}},{key:"getNumGeometries",value:function(){return 1}},{key:"compareTo",value:function(){var e;if(1===arguments.length){var t=arguments[0];return e=t,this.getTypeCode()!==e.getTypeCode()?this.getTypeCode()-e.getTypeCode():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(t)}if(2===arguments.length){var n=arguments[0],r=arguments[1];return e=n,this.getTypeCode()!==e.getTypeCode()?this.getTypeCode()-e.getTypeCode():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(n,r)}}},{key:"getUserData",value:function(){return this._userData}},{key:"getSRID",value:function(){return this._SRID}},{key:"getEnvelope",value:function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())}},{key:"checkNotGeometryCollection",value:function(e){if(e.getTypeCode()===t.TYPECODE_GEOMETRYCOLLECTION)throw new _("This method does not support GeometryCollection arguments")}},{key:"equal",value:function(e,t,n){return 0===n?e.equals(t):e.distance(t)<=n}},{key:"norm",value:function(){var e=this.copy();return e.normalize(),e}},{key:"reverse",value:function(){var e=this.reverseInternal();return null!=this.envelope&&(e.envelope=this.envelope.copy()),e.setSRID(this.getSRID()),e}},{key:"copy",value:function(){var e=this.copyInternal();return e.envelope=null==this._envelope?null:this._envelope.copy(),e._SRID=this._SRID,e._userData=this._userData,e}},{key:"getPrecisionModel",value:function(){return this._factory.getPrecisionModel()}},{key:"getEnvelopeInternal",value:function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new Y(this._envelope)}},{key:"setSRID",value:function(e){this._SRID=e}},{key:"setUserData",value:function(e){this._userData=e}},{key:"compare",value:function(e,t){for(var n=e.iterator(),r=t.iterator();n.hasNext()&&r.hasNext();){var i=n.next(),o=r.next(),a=i.compareTo(o);if(0!==a)return a}return n.hasNext()?1:r.hasNext()?-1:0}},{key:"hashCode",value:function(){return this.getEnvelopeInternal().hashCode()}},{key:"isEquivalentClass",value:function(e){return this.getClass()===e.getClass()}},{key:"isGeometryCollectionOrDerived",value:function(){return this.getTypeCode()===t.TYPECODE_GEOMETRYCOLLECTION||this.getTypeCode()===t.TYPECODE_MULTIPOINT||this.getTypeCode()===t.TYPECODE_MULTILINESTRING||this.getTypeCode()===t.TYPECODE_MULTIPOLYGON}},{key:"interfaces_",get:function(){return[b,x,w]}},{key:"getClass",value:function(){return t}}],[{key:"hasNonEmptyElements",value:function(e){for(var t=0;t<e.length;t++)if(!e[t].isEmpty())return!0;return!1}},{key:"hasNullElements",value:function(e){for(var t=0;t<e.length;t++)if(null===e[t])return!0;return!1}}]),t}();H.constructor_=function(e){e&&(this._envelope=null,this._userData=null,this._factory=e,this._SRID=e.getSRID())},H.TYPECODE_POINT=0,H.TYPECODE_MULTIPOINT=1,H.TYPECODE_LINESTRING=2,H.TYPECODE_LINEARRING=3,H.TYPECODE_MULTILINESTRING=4,H.TYPECODE_POLYGON=5,H.TYPECODE_MULTIPOLYGON=6,H.TYPECODE_GEOMETRYCOLLECTION=7,H.TYPENAME_POINT="Point",H.TYPENAME_MULTIPOINT="MultiPoint",H.TYPENAME_LINESTRING="LineString",H.TYPENAME_LINEARRING="LinearRing",H.TYPENAME_MULTILINESTRING="MultiLineString",H.TYPENAME_POLYGON="Polygon",H.TYPENAME_MULTIPOLYGON="MultiPolygon",H.TYPENAME_GEOMETRYCOLLECTION="GeometryCollection",H.geometryChangedFilter={get interfaces_(){return[k]},filter:function(e){e.geometryChangedAction()}};var X=function(){function t(){e(this,t)}return n(t,null,[{key:"toLocationSymbol",value:function(e){switch(e){case t.EXTERIOR:return"e";case t.BOUNDARY:return"b";case t.INTERIOR:return"i";case t.NONE:return"-"}throw new _("Unknown location value: "+e)}}]),t}();X.INTERIOR=0,X.BOUNDARY=1,X.EXTERIOR=2,X.NONE=-1;var V=function(){function t(){e(this,t)}return n(t,[{key:"add",value:function(){}},{key:"addAll",value:function(){}},{key:"isEmpty",value:function(){}},{key:"iterator",value:function(){}},{key:"size",value:function(){}},{key:"toArray",value:function(){}},{key:"remove",value:function(){}}]),t}(),W=function(t){r(i,t);var n=h(i);function i(t){var r;return e(this,i),(r=n.call(this,t)).name=Object.keys({NoSuchElementException:i})[0],r}return i}(m),$=function(t){r(i,t);var n=h(i);function i(t){var r;return e(this,i),(r=n.call(this,t)).name=Object.keys({UnsupportedOperationException:i})[0],r}return i}(m),Z=function(t){r(o,t);var i=h(o);function o(){return e(this,o),i.apply(this,arguments)}return n(o,[{key:"contains",value:function(){}}]),o}(V),Q=function(t,i){r(a,t);var o=h(a);function a(t){var n;return e(this,a),(n=o.call(this)).map=new Map,t instanceof V&&n.addAll(t),n}return n(a,[{key:"contains",value:function(e){var t=e.hashCode?e.hashCode():e;return!!this.map.has(t)}},{key:"add",value:function(e){var t=e.hashCode?e.hashCode():e;return!this.map.has(t)&&!!this.map.set(t,e)}},{key:"addAll",value:function(e){var t,n=v(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.add(r)}}catch(e){n.e(e)}finally{n.f()}return!0}},{key:"remove",value:function(){throw new $}},{key:"size",value:function(){return this.map.size}},{key:"isEmpty",value:function(){return 0===this.map.size}},{key:"toArray",value:function(){return Array.from(this.map.values())}},{key:"iterator",value:function(){return new K(this.map)}},{key:i,value:function(){return this.map}}]),a}(Z,Symbol.iterator),K=function(){function t(n){e(this,t),this.iterator=n.values();var r=this.iterator.next(),i=r.done,o=r.value;this.done=i,this.value=o}return n(t,[{key:"next",value:function(){if(this.done)throw new W;var e=this.value,t=this.iterator.next(),n=t.done,r=t.value;return this.done=n,this.value=r,e}},{key:"hasNext",value:function(){return!this.done}},{key:"remove",value:function(){throw new $}}]),t}(),J=function(){function t(){e(this,t)}return n(t,null,[{key:"opposite",value:function(e){return e===t.LEFT?t.RIGHT:e===t.RIGHT?t.LEFT:e}}]),t}();J.ON=0,J.LEFT=1,J.RIGHT=2;var ee=function(t){r(i,t);var n=h(i);function i(t){var r;return e(this,i),(r=n.call(this,t)).name=Object.keys({EmptyStackException:i})[0],r}return i}(m),te=function(t){r(i,t);var n=h(i);function i(t){var r;return e(this,i),(r=n.call(this,t)).name=Object.keys({IndexOutOfBoundsException:i})[0],r}return i}(m),ne=function(t){r(o,t);var i=h(o);function o(){return e(this,o),i.apply(this,arguments)}return n(o,[{key:"get",value:function(){}},{key:"set",value:function(){}},{key:"isEmpty",value:function(){}}]),o}(V),re=function(t){r(o,t);var i=h(o);function o(){var t;return e(this,o),(t=i.call(this)).array=[],t}return n(o,[{key:"add",value:function(e){return this.array.push(e),!0}},{key:"get",value:function(e){if(e<0||e>=this.size())throw new te;return this.array[e]}},{key:"push",value:function(e){return this.array.push(e),e}},{key:"pop",value:function(){if(0===this.array.length)throw new ee;return this.array.pop()}},{key:"peek",value:function(){if(0===this.array.length)throw new ee;return this.array[this.array.length-1]}},{key:"empty",value:function(){return 0===this.array.length}},{key:"isEmpty",value:function(){return this.empty()}},{key:"search",value:function(e){return this.array.indexOf(e)}},{key:"size",value:function(){return this.array.length}},{key:"toArray",value:function(){return this.array.slice()}}]),o}(ne);function ie(e,t){return e.interfaces_&&e.interfaces_.indexOf(t)>-1}var oe=function(){function t(n){e(this,t),this.str=n}return n(t,[{key:"append",value:function(e){this.str+=e}},{key:"setCharAt",value:function(e,t){this.str=this.str.substr(0,e)+t+this.str.substr(e+1)}},{key:"toString",value:function(){return this.str}}]),t}(),ae=function(){function t(n){e(this,t),this.value=n}return n(t,[{key:"intValue",value:function(){return this.value}},{key:"compareTo",value:function(e){return this.value<e?-1:this.value>e?1:0}}],[{key:"compare",value:function(e,t){return e<t?-1:e>t?1:0}},{key:"isNan",value:function(e){return Number.isNaN(e)}},{key:"valueOf",value:function(e){return new t(e)}}]),t}(),se=function(){function t(){e(this,t)}return n(t,null,[{key:"isWhitespace",value:function(e){return e<=32&&e>=0||127===e}},{key:"toUpperCase",value:function(e){return e.toUpperCase()}}]),t}(),ue=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"le",value:function(e){return this._hi<e._hi||this._hi===e._hi&&this._lo<=e._lo}},{key:"extractSignificantDigits",value:function(e,n){var r=this.abs(),i=t.magnitude(r._hi),o=t.TEN.pow(i);(r=r.divide(o)).gt(t.TEN)?(r=r.divide(t.TEN),i+=1):r.lt(t.ONE)&&(r=r.multiply(t.TEN),i-=1);for(var a=i+1,s=new oe,u=t.MAX_PRINT_DIGITS-1,l=0;l<=u;l++){e&&l===a&&s.append(".");var c=Math.trunc(r._hi);if(c<0)break;var h=!1,f=0;c>9?(h=!0,f="9"):f="0"+c,s.append(f),r=r.subtract(t.valueOf(c)).multiply(t.TEN),h&&r.selfAdd(t.TEN);var d=!0,p=t.magnitude(r._hi);if(p<0&&Math.abs(p)>=u-l&&(d=!1),!d)break}return n[0]=i,s.toString()}},{key:"sqr",value:function(){return this.multiply(this)}},{key:"doubleValue",value:function(){return this._hi+this._lo}},{key:"subtract",value:function(){if(arguments[0]instanceof t){var e=arguments[0];return this.add(e.negate())}if("number"==typeof arguments[0]){var n=arguments[0];return this.add(-n)}}},{key:"equals",value:function(){if(1===arguments.length&&arguments[0]instanceof t){var e=arguments[0];return this._hi===e._hi&&this._lo===e._lo}}},{key:"isZero",value:function(){return 0===this._hi&&0===this._lo}},{key:"selfSubtract",value:function(){if(arguments[0]instanceof t){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e._hi,-e._lo)}if("number"==typeof arguments[0]){var n=arguments[0];return this.isNaN()?this:this.selfAdd(-n,0)}}},{key:"getSpecialNumberString",value:function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null}},{key:"min",value:function(e){return this.le(e)?this:e}},{key:"selfDivide",value:function(){if(1===arguments.length){if(arguments[0]instanceof t){var e=arguments[0];return this.selfDivide(e._hi,e._lo)}if("number"==typeof arguments[0]){var n=arguments[0];return this.selfDivide(n,0)}}else if(2===arguments.length){var r=arguments[0],i=arguments[1],o=null,a=null,s=null,u=null,l=null,c=null,h=null,f=null;return l=this._hi/r,f=(o=(c=t.SPLIT*l)-(o=c-l))*(s=(f=t.SPLIT*r)-(s=f-r))-(h=l*r)+o*(u=r-s)+(a=l-o)*s+a*u,f=l+(c=(this._hi-h-f+this._lo-l*i)/r),this._hi=f,this._lo=l-f+c,this}}},{key:"dump",value:function(){return"DD<"+this._hi+", "+this._lo+">"}},{key:"divide",value:function(){if(arguments[0]instanceof t){var e=arguments[0],n=null,r=null,i=null,o=null,a=null,s=null,u=null,l=null;return r=(a=this._hi/e._hi)-(n=(s=t.SPLIT*a)-(n=s-a)),l=n*(i=(l=t.SPLIT*e._hi)-(i=l-e._hi))-(u=a*e._hi)+n*(o=e._hi-i)+r*i+r*o,new t(l=a+(s=(this._hi-u-l+this._lo-a*e._lo)/e._hi),a-l+s)}if("number"==typeof arguments[0]){var c=arguments[0];return O.isNaN(c)?t.createNaN():t.copy(this).selfDivide(c,0)}}},{key:"ge",value:function(e){return this._hi>e._hi||this._hi===e._hi&&this._lo>=e._lo}},{key:"pow",value:function(e){if(0===e)return t.valueOf(1);var n=new t(this),r=t.valueOf(1),i=Math.abs(e);if(i>1)for(;i>0;)i%2==1&&r.selfMultiply(n),(i/=2)>0&&(n=n.sqr());else r=n;return e<0?r.reciprocal():r}},{key:"ceil",value:function(){if(this.isNaN())return t.NaN;var e=Math.ceil(this._hi),n=0;return e===this._hi&&(n=Math.ceil(this._lo)),new t(e,n)}},{key:"compareTo",value:function(e){var t=e;return this._hi<t._hi?-1:this._hi>t._hi?1:this._lo<t._lo?-1:this._lo>t._lo?1:0}},{key:"rint",value:function(){return this.isNaN()?this:this.add(.5).floor()}},{key:"setValue",value:function(){if(arguments[0]instanceof t){var e=arguments[0];return this.init(e),this}if("number"==typeof arguments[0]){var n=arguments[0];return this.init(n),this}}},{key:"max",value:function(e){return this.ge(e)?this:e}},{key:"sqrt",value:function(){if(this.isZero())return t.valueOf(0);if(this.isNegative())return t.NaN;var e=1/Math.sqrt(this._hi),n=this._hi*e,r=t.valueOf(n),i=this.subtract(r.sqr())._hi*(.5*e);return r.add(i)}},{key:"selfAdd",value:function(){if(1===arguments.length){if(arguments[0]instanceof t){var e=arguments[0];return this.selfAdd(e._hi,e._lo)}if("number"==typeof arguments[0]){var n=arguments[0],r=null,i=null,o=null,a=null,s=null,u=null;return a=(o=this._hi+n)-(s=o-this._hi),i=(u=(a=n-s+(this._hi-a))+this._lo)+(o-(r=o+u)),this._hi=r+i,this._lo=i+(r-this._hi),this}}else if(2===arguments.length){var l=arguments[0],c=arguments[1],h=null,f=null,d=null,p=null,g=null,v=null,y=null;p=this._hi+l,f=this._lo+c,g=p-(v=p-this._hi),d=f-(y=f-this._lo);var m=(h=p+(v=(g=l-v+(this._hi-g))+f))+(v=(d=c-y+(this._lo-d))+(v+(p-h))),_=v+(h-m);return this._hi=m,this._lo=_,this}}},{key:"selfMultiply",value:function(){if(1===arguments.length){if(arguments[0]instanceof t){var e=arguments[0];return this.selfMultiply(e._hi,e._lo)}if("number"==typeof arguments[0]){var n=arguments[0];return this.selfMultiply(n,0)}}else if(2===arguments.length){var r=arguments[0],i=arguments[1],o=null,a=null,s=null,u=null,l=null,c=null;o=(l=t.SPLIT*this._hi)-this._hi,c=t.SPLIT*r,o=l-o,a=this._hi-o,s=c-r;var h=(l=this._hi*r)+(c=o*(s=c-s)-l+o*(u=r-s)+a*s+a*u+(this._hi*i+this._lo*r)),f=c+(o=l-h);return this._hi=h,this._lo=f,this}}},{key:"selfSqr",value:function(){return this.selfMultiply(this)}},{key:"floor",value:function(){if(this.isNaN())return t.NaN;var e=Math.floor(this._hi),n=0;return e===this._hi&&(n=Math.floor(this._lo)),new t(e,n)}},{key:"negate",value:function(){return this.isNaN()?this:new t(-this._hi,-this._lo)}},{key:"clone",value:function(){try{return null}catch(e){if(e instanceof CloneNotSupportedException)return null;throw e}}},{key:"multiply",value:function(){if(arguments[0]instanceof t){var e=arguments[0];return e.isNaN()?t.createNaN():t.copy(this).selfMultiply(e)}if("number"==typeof arguments[0]){var n=arguments[0];return O.isNaN(n)?t.createNaN():t.copy(this).selfMultiply(n,0)}}},{key:"isNaN",value:function(){return O.isNaN(this._hi)}},{key:"intValue",value:function(){return Math.trunc(this._hi)}},{key:"toString",value:function(){var e=t.magnitude(this._hi);return e>=-3&&e<=20?this.toStandardNotation():this.toSciNotation()}},{key:"toStandardNotation",value:function(){var e=this.getSpecialNumberString();if(null!==e)return e;var n=new Array(1).fill(null),r=this.extractSignificantDigits(!0,n),i=n[0]+1,o=r;if("."===r.charAt(0))o="0"+r;else if(i<0)o="0."+t.stringOfChar("0",-i)+r;else if(-1===r.indexOf(".")){var a=i-r.length;o=r+t.stringOfChar("0",a)+".0"}return this.isNegative()?"-"+o:o}},{key:"reciprocal",value:function(){var e,n,r,i,o=null,a=null,s=null,u=null;e=(r=1/this._hi)-(o=(s=t.SPLIT*r)-(o=s-r)),a=(u=t.SPLIT*this._hi)-this._hi;var l=r+(s=(1-(i=r*this._hi)-(u=o*(a=u-a)-i+o*(n=this._hi-a)+e*a+e*n)-r*this._lo)/this._hi);return new t(l,r-l+s)}},{key:"toSciNotation",value:function(){if(this.isZero())return t.SCI_NOT_ZERO;var e=this.getSpecialNumberString();if(null!==e)return e;var n=new Array(1).fill(null),r=this.extractSignificantDigits(!1,n),i=t.SCI_NOT_EXPONENT_CHAR+n[0];if("0"===r.charAt(0))throw new IllegalStateException("Found leading zero: "+r);var o="";r.length>1&&(o=r.substring(1));var a=r.charAt(0)+"."+o;return this.isNegative()?"-"+a+i:a+i}},{key:"abs",value:function(){return this.isNaN()?t.NaN:this.isNegative()?this.negate():new t(this)}},{key:"isPositive",value:function(){return this._hi>0||0===this._hi&&this._lo>0}},{key:"lt",value:function(e){return this._hi<e._hi||this._hi===e._hi&&this._lo<e._lo}},{key:"add",value:function(){if(arguments[0]instanceof t){var e=arguments[0];return t.copy(this).selfAdd(e)}if("number"==typeof arguments[0]){var n=arguments[0];return t.copy(this).selfAdd(n)}}},{key:"init",value:function(){if(1===arguments.length){if("number"==typeof arguments[0]){var e=arguments[0];this._hi=e,this._lo=0}else if(arguments[0]instanceof t){var n=arguments[0];this._hi=n._hi,this._lo=n._lo}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this._hi=r,this._lo=i}}},{key:"gt",value:function(e){return this._hi>e._hi||this._hi===e._hi&&this._lo>e._lo}},{key:"isNegative",value:function(){return this._hi<0||0===this._hi&&this._lo<0}},{key:"trunc",value:function(){return this.isNaN()?t.NaN:this.isPositive()?this.floor():this.ceil()}},{key:"signum",value:function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0}},{key:"interfaces_",get:function(){return[w,x,b]}}],[{key:"constructor_",value:function(){if(this._hi=0,this._lo=0,0===arguments.length)this.init(0);else if(1===arguments.length){if("number"==typeof arguments[0]){var e=arguments[0];this.init(e)}else if(arguments[0]instanceof t){var n=arguments[0];this.init(n)}else if("string"==typeof arguments[0]){var r=arguments[0];t.constructor_.call(this,t.parse(r))}}else if(2===arguments.length){var i=arguments[0],o=arguments[1];this.init(i,o)}}},{key:"determinant",value:function(){if("number"==typeof arguments[3]&&"number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var e=arguments[0],n=arguments[1],r=arguments[2],i=arguments[3];return t.determinant(t.valueOf(e),t.valueOf(n),t.valueOf(r),t.valueOf(i))}if(arguments[3]instanceof t&&arguments[2]instanceof t&&arguments[0]instanceof t&&arguments[1]instanceof t){var o=arguments[1],a=arguments[2],s=arguments[3];return arguments[0].multiply(s).selfSubtract(o.multiply(a))}}},{key:"sqr",value:function(e){return t.valueOf(e).selfMultiply(e)}},{key:"valueOf",value:function(){if("string"==typeof arguments[0]){var e=arguments[0];return t.parse(e)}if("number"==typeof arguments[0])return new t(arguments[0])}},{key:"sqrt",value:function(e){return t.valueOf(e).sqrt()}},{key:"parse",value:function(e){for(var n=0,r=e.length;se.isWhitespace(e.charAt(n));)n++;var i=!1;if(n<r){var o=e.charAt(n);"-"!==o&&"+"!==o||(n++,"-"===o&&(i=!0))}for(var a=new t,s=0,u=0,l=0,c=!1;!(n>=r);){var h=e.charAt(n);if(n++,se.isDigit(h)){var f=h-"0";a.selfMultiply(t.TEN),a.selfAdd(f),s++}else{if("."!==h){if("e"===h||"E"===h){var d=e.substring(n);try{l=ae.parseInt(d)}catch(t){throw t instanceof NumberFormatException?new NumberFormatException("Invalid exponent "+d+" in string "+e):t}break}throw new NumberFormatException("Unexpected character '"+h+"' at position "+n+" in string "+e)}u=s,c=!0}}var p=a;c||(u=s);var g=s-u-l;if(0===g)p=a;else if(g>0){var v=t.TEN.pow(g);p=a.divide(v)}else if(g<0){var y=t.TEN.pow(-g);p=a.multiply(y)}return i?p.negate():p}},{key:"createNaN",value:function(){return new t(O.NaN,O.NaN)}},{key:"copy",value:function(e){return new t(e)}},{key:"magnitude",value:function(e){var t=Math.abs(e),n=Math.log(t)/Math.log(10),r=Math.trunc(Math.floor(n));return 10*Math.pow(10,r)<=t&&(r+=1),r}},{key:"stringOfChar",value:function(e,t){for(var n=new oe,r=0;r<t;r++)n.append(e);return n.toString()}}]),t}();ue.PI=new ue(3.141592653589793,12246467991473532e-32),ue.TWO_PI=new ue(6.283185307179586,24492935982947064e-32),ue.PI_2=new ue(1.5707963267948966,6123233995736766e-32),ue.E=new ue(2.718281828459045,14456468917292502e-32),ue.NaN=new ue(O.NaN,O.NaN),ue.EPS=123259516440783e-46,ue.SPLIT=134217729,ue.MAX_PRINT_DIGITS=32,ue.TEN=ue.valueOf(10),ue.ONE=ue.valueOf(1),ue.SCI_NOT_EXPONENT_CHAR="E",ue.SCI_NOT_ZERO="0.0E0";var le=function(){function t(){e(this,t)}return n(t,null,[{key:"orientationIndex",value:function(e,n,r){var i=t.orientationIndexFilter(e,n,r);if(i<=1)return i;var o=ue.valueOf(n.x).selfAdd(-e.x),a=ue.valueOf(n.y).selfAdd(-e.y),s=ue.valueOf(r.x).selfAdd(-n.x),u=ue.valueOf(r.y).selfAdd(-n.y);return o.selfMultiply(u).selfSubtract(a.selfMultiply(s)).signum()}},{key:"signOfDet2x2",value:function(){if(arguments[3]instanceof ue&&arguments[2]instanceof ue&&arguments[0]instanceof ue&&arguments[1]instanceof ue){var e=arguments[1],t=arguments[2],n=arguments[3];return arguments[0].multiply(n).selfSubtract(e.multiply(t)).signum()}if("number"==typeof arguments[3]&&"number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var r=arguments[0],i=arguments[1],o=arguments[2],a=arguments[3],s=ue.valueOf(r),u=ue.valueOf(i),l=ue.valueOf(o),c=ue.valueOf(a);return s.multiply(c).selfSubtract(u.multiply(l)).signum()}}},{key:"intersection",value:function(e,t,n,r){var i=new ue(e.y).selfSubtract(t.y),o=new ue(t.x).selfSubtract(e.x),a=new ue(e.x).selfMultiply(t.y).selfSubtract(new ue(t.x).selfMultiply(e.y)),s=new ue(n.y).selfSubtract(r.y),u=new ue(r.x).selfSubtract(n.x),l=new ue(n.x).selfMultiply(r.y).selfSubtract(new ue(r.x).selfMultiply(n.y)),c=o.multiply(l).selfSubtract(u.multiply(a)),h=s.multiply(a).selfSubtract(i.multiply(l)),f=i.multiply(u).selfSubtract(s.multiply(o)),d=c.selfDivide(f).doubleValue(),p=h.selfDivide(f).doubleValue();return O.isNaN(d)||O.isInfinite(d)||O.isNaN(p)||O.isInfinite(p)?null:new U(d,p)}},{key:"orientationIndexFilter",value:function(e,n,r){var i=null,o=(e.x-r.x)*(n.y-r.y),a=(e.y-r.y)*(n.x-r.x),s=o-a;if(o>0){if(a<=0)return t.signum(s);i=o+a}else{if(!(o<0))return t.signum(s);if(a>=0)return t.signum(s);i=-o-a}var u=t.DP_SAFE_EPSILON*i;return s>=u||-s>=u?t.signum(s):2}},{key:"signum",value:function(e){return e>0?1:e<0?-1:0}}]),t}();le.DP_SAFE_EPSILON=1e-15;var ce=function(){function t(){e(this,t)}return n(t,[{key:"getM",value:function(e){if(this.hasM()){var t=this.getDimension()-this.getMeasures();return this.getOrdinate(e,t)}return O.NaN}},{key:"setOrdinate",value:function(e,t,n){}},{key:"getZ",value:function(e){return this.hasZ()?this.getOrdinate(e,2):O.NaN}},{key:"size",value:function(){}},{key:"getOrdinate",value:function(e,t){}},{key:"getCoordinate",value:function(){}},{key:"getCoordinateCopy",value:function(e){}},{key:"createCoordinate",value:function(){}},{key:"getDimension",value:function(){}},{key:"hasM",value:function(){return this.getMeasures()>0}},{key:"getX",value:function(e){}},{key:"hasZ",value:function(){return this.getDimension()-this.getMeasures()>2}},{key:"getMeasures",value:function(){return 0}},{key:"expandEnvelope",value:function(e){}},{key:"copy",value:function(){}},{key:"getY",value:function(e){}},{key:"toCoordinateArray",value:function(){}},{key:"interfaces_",get:function(){return[b]}}]),t}();ce.X=0,ce.Y=1,ce.Z=2,ce.M=3;var he=function(){function t(){e(this,t)}return n(t,null,[{key:"index",value:function(e,t,n){return le.orientationIndex(e,t,n)}},{key:"isCCW",value:function(){if(arguments[0]instanceof Array){var e=arguments[0],n=e.length-1;if(n<3)throw new _("Ring has fewer than 4 points, so orientation cannot be determined");for(var r=e[0],i=0,o=1;o<=n;o++){var a=e[o];a.y>r.y&&(r=a,i=o)}var s=i;do{(s-=1)<0&&(s=n)}while(e[s].equals2D(r)&&s!==i);var u=i;do{u=(u+1)%n}while(e[u].equals2D(r)&&u!==i);var l=e[s],c=e[u];if(l.equals2D(r)||c.equals2D(r)||l.equals2D(c))return!1;var h=t.index(l,r,c);return 0===h?l.x>c.x:h>0}if(ie(arguments[0],ce)){var f=arguments[0],d=f.size()-1;if(d<3)throw new _("Ring has fewer than 4 points, so orientation cannot be determined");for(var p=f.getCoordinate(0),g=0,v=1;v<=d;v++){var y=f.getCoordinate(v);y.y>p.y&&(p=y,g=v)}var m=null,k=g;do{(k-=1)<0&&(k=d),m=f.getCoordinate(k)}while(m.equals2D(p)&&k!==g);var x=null,b=g;do{b=(b+1)%d,x=f.getCoordinate(b)}while(x.equals2D(p)&&b!==g);if(m.equals2D(p)||x.equals2D(p)||m.equals2D(x))return!1;var w=t.index(m,p,x);return 0===w?m.x>x.x:w>0}}}]),t}();he.CLOCKWISE=-1,he.RIGHT=he.CLOCKWISE,he.COUNTERCLOCKWISE=1,he.LEFT=he.COUNTERCLOCKWISE,he.COLLINEAR=0,he.STRAIGHT=he.COLLINEAR;var fe=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"getCoordinate",value:function(){return this._minCoord}},{key:"getRightmostSide",value:function(e,t){var n=this.getRightmostSideOfSegment(e,t);return n<0&&(n=this.getRightmostSideOfSegment(e,t-1)),n<0&&(this._minCoord=null,this.checkForRightmostCoordinate(e)),n}},{key:"findRightmostEdgeAtVertex",value:function(){var e=this._minDe.getEdge().getCoordinates();z.isTrue(this._minIndex>0&&this._minIndex<e.length,"rightmost point expected to be interior vertex of edge");var t=e[this._minIndex-1],n=e[this._minIndex+1],r=he.index(this._minCoord,n,t),i=!1;(t.y<this._minCoord.y&&n.y<this._minCoord.y&&r===he.COUNTERCLOCKWISE||t.y>this._minCoord.y&&n.y>this._minCoord.y&&r===he.CLOCKWISE)&&(i=!0),i&&(this._minIndex=this._minIndex-1)}},{key:"getRightmostSideOfSegment",value:function(e,t){var n=e.getEdge().getCoordinates();if(t<0||t+1>=n.length)return-1;if(n[t].y===n[t+1].y)return-1;var r=J.LEFT;return n[t].y<n[t+1].y&&(r=J.RIGHT),r}},{key:"getEdge",value:function(){return this._orientedDe}},{key:"checkForRightmostCoordinate",value:function(e){for(var t=e.getEdge().getCoordinates(),n=0;n<t.length-1;n++)(null===this._minCoord||t[n].x>this._minCoord.x)&&(this._minDe=e,this._minIndex=n,this._minCoord=t[n])}},{key:"findRightmostEdgeAtNode",value:function(){var e=this._minDe.getNode().getEdges();this._minDe=e.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)}},{key:"findEdge",value:function(e){for(var t=e.iterator();t.hasNext();){var n=t.next();n.isForward()&&this.checkForRightmostCoordinate(n)}z.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===J.LEFT&&(this._orientedDe=this._minDe.getSym())}}],[{key:"constructor_",value:function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null}}]),t}(),de=function(t){r(o,t);var i=h(o);function o(t,n){var r;return e(this,o),(r=i.call(this,n?t+" [ "+n+" ]":t)).pt=n?new U(n):void 0,r.name=Object.keys({TopologyException:o})[0],r}return n(o,[{key:"getCoordinate",value:function(){return this.pt}}]),o}(D),pe=function(){function t(){e(this,t),this.array=[]}return n(t,[{key:"addLast",value:function(e){this.array.push(e)}},{key:"removeFirst",value:function(){return this.array.shift()}},{key:"isEmpty",value:function(){return 0===this.array.length}}]),t}(),ge=function(t,i){r(a,t);var o=h(a);function a(t){var n;return e(this,a),(n=o.call(this)).array=[],t instanceof V&&n.addAll(t),n}return n(a,[{key:"interfaces_",get:function(){return[ne,V]}},{key:"ensureCapacity",value:function(){}},{key:"add",value:function(e){return 1===arguments.length?this.array.push(e):this.array.splice(arguments[0],0,arguments[1]),!0}},{key:"clear",value:function(){this.array=[]}},{key:"addAll",value:function(e){var t,n=v(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.array.push(r)}}catch(e){n.e(e)}finally{n.f()}}},{key:"set",value:function(e,t){var n=this.array[e];return this.array[e]=t,n}},{key:"iterator",value:function(){return new ve(this)}},{key:"get",value:function(e){if(e<0||e>=this.size())throw new te;return this.array[e]}},{key:"isEmpty",value:function(){return 0===this.array.length}},{key:"sort",value:function(e){e?this.array.sort((function(t,n){return e.compare(t,n)})):this.array.sort()}},{key:"size",value:function(){return this.array.length}},{key:"toArray",value:function(){return this.array.slice()}},{key:"remove",value:function(e){for(var t=0,n=this.array.length;t<n;t++)if(this.array[t]===e)return!!this.array.splice(t,1);return!1}},{key:i,value:function(){return this.array.values()}}]),a}(ne,Symbol.iterator),ve=function(){function t(n){e(this,t),this.arrayList=n,this.position=0}return n(t,[{key:"next",value:function(){if(this.position===this.arrayList.size())throw new W;return this.arrayList.get(this.position++)}},{key:"hasNext",value:function(){return this.position<this.arrayList.size()}},{key:"set",value:function(e){return this.arrayList.set(this.position-1,e)}},{key:"remove",value:function(){this.arrayList.remove(this.arrayList.get(this.position))}}]),t}(),ye=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"clearVisitedEdges",value:function(){for(var e=this._dirEdgeList.iterator();e.hasNext();)e.next().setVisited(!1)}},{key:"getRightmostCoordinate",value:function(){return this._rightMostCoord}},{key:"computeNodeDepth",value:function(e){for(var t=null,n=e.getEdges().iterator();n.hasNext();){var r=n.next();if(r.isVisited()||r.getSym().isVisited()){t=r;break}}if(null===t)throw new de("unable to find edge to compute depths at "+e.getCoordinate());e.getEdges().computeDepths(t);for(var i=e.getEdges().iterator();i.hasNext();){var o=i.next();o.setVisited(!0),this.copySymDepths(o)}}},{key:"computeDepth",value:function(e){this.clearVisitedEdges();var t=this._finder.getEdge();t.getNode(),t.getLabel(),t.setEdgeDepths(J.RIGHT,e),this.copySymDepths(t),this.computeDepths(t)}},{key:"create",value:function(e){this.addReachable(e),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()}},{key:"findResultEdges",value:function(){for(var e=this._dirEdgeList.iterator();e.hasNext();){var t=e.next();t.getDepth(J.RIGHT)>=1&&t.getDepth(J.LEFT)<=0&&!t.isInteriorAreaEdge()&&t.setInResult(!0)}}},{key:"computeDepths",value:function(e){var t=new Q,n=new pe,r=e.getNode();for(n.addLast(r),t.add(r),e.setVisited(!0);!n.isEmpty();){var i=n.removeFirst();t.add(i),this.computeNodeDepth(i);for(var o=i.getEdges().iterator();o.hasNext();){var a=o.next().getSym();if(!a.isVisited()){var s=a.getNode();t.contains(s)||(n.addLast(s),t.add(s))}}}}},{key:"compareTo",value:function(e){var t=e;return this._rightMostCoord.x<t._rightMostCoord.x?-1:this._rightMostCoord.x>t._rightMostCoord.x?1:0}},{key:"getEnvelope",value:function(){if(null===this._env){for(var e=new Y,t=this._dirEdgeList.iterator();t.hasNext();)for(var n=t.next().getEdge().getCoordinates(),r=0;r<n.length-1;r++)e.expandToInclude(n[r]);this._env=e}return this._env}},{key:"addReachable",value:function(e){var t=new re;for(t.add(e);!t.empty();){var n=t.pop();this.add(n,t)}}},{key:"copySymDepths",value:function(e){var t=e.getSym();t.setDepth(J.LEFT,e.getDepth(J.RIGHT)),t.setDepth(J.RIGHT,e.getDepth(J.LEFT))}},{key:"add",value:function(e,t){e.setVisited(!0),this._nodes.add(e);for(var n=e.getEdges().iterator();n.hasNext();){var r=n.next();this._dirEdgeList.add(r);var i=r.getSym().getNode();i.isVisited()||t.push(i)}}},{key:"getNodes",value:function(){return this._nodes}},{key:"getDirectedEdges",value:function(){return this._dirEdgeList}},{key:"interfaces_",get:function(){return[x]}}],[{key:"constructor_",value:function(){this._finder=null,this._dirEdgeList=new ge,this._nodes=new ge,this._rightMostCoord=null,this._env=null,this._finder=new fe}}]),t}(),me=function(){function t(){e(this,t)}return n(t,null,[{key:"intersection",value:function(e,t,n,r){var i=e.x<t.x?e.x:t.x,o=e.y<t.y?e.y:t.y,a=e.x>t.x?e.x:t.x,s=e.y>t.y?e.y:t.y,u=n.x<r.x?n.x:r.x,l=n.y<r.y?n.y:r.y,c=n.x>r.x?n.x:r.x,h=n.y>r.y?n.y:r.y,f=((i>u?i:u)+(a<c?a:c))/2,d=((o>l?o:l)+(s<h?s:h))/2,p=e.x-f,g=e.y-d,v=t.x-f,y=t.y-d,m=n.x-f,_=n.y-d,k=r.x-f,x=r.y-d,b=g-y,w=v-p,E=p*y-v*g,N=_-x,S=k-m,I=m*x-k*_,C=b*S-N*w,T=(w*I-S*E)/C,L=(N*E-b*I)/C;return O.isNaN(T)||O.isInfinite(T)||O.isNaN(L)||O.isInfinite(L)?null:new U(T+f,L+d)}}]),t}(),_e=function(){function t(){e(this,t)}return n(t,null,[{key:"arraycopy",value:function(e,t,n,r,i){for(var o=0,a=t;a<t+i;a++)n[r+o]=e[a],o++}},{key:"getProperty",value:function(e){return{"line.separator":"\n"}[e]}}]),t}(),ke=function(){function t(){e(this,t)}return n(t,null,[{key:"log10",value:function(e){var n=Math.log(e);return O.isInfinite(n)||O.isNaN(n)?n:n/t.LOG_10}},{key:"min",value:function(e,t,n,r){var i=e;return t<i&&(i=t),n<i&&(i=n),r<i&&(i=r),i}},{key:"clamp",value:function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var e=arguments[0],t=arguments[1],n=arguments[2];return e<t?t:e>n?n:e}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var r=arguments[0],i=arguments[1],o=arguments[2];return r<i?i:r>o?o:r}}},{key:"wrap",value:function(e,t){return e<0?t- -e%t:e%t}},{key:"max",value:function(){if(3===arguments.length){var e=arguments[1],t=arguments[2],n=arguments[0];return e>n&&(n=e),t>n&&(n=t),n}if(4===arguments.length){var r=arguments[1],i=arguments[2],o=arguments[3],a=arguments[0];return r>a&&(a=r),i>a&&(a=i),o>a&&(a=o),a}}},{key:"average",value:function(e,t){return(e+t)/2}}]),t}();ke.LOG_10=Math.log(10);var xe=function(){function t(){e(this,t)}return n(t,null,[{key:"segmentToSegment",value:function(e,n,r,i){if(e.equals(n))return t.pointToSegment(e,r,i);if(r.equals(i))return t.pointToSegment(i,e,n);var o=!1;if(Y.intersects(e,n,r,i)){var a=(n.x-e.x)*(i.y-r.y)-(n.y-e.y)*(i.x-r.x);if(0===a)o=!0;else{var s=(e.y-r.y)*(i.x-r.x)-(e.x-r.x)*(i.y-r.y),u=((e.y-r.y)*(n.x-e.x)-(e.x-r.x)*(n.y-e.y))/a,l=s/a;(l<0||l>1||u<0||u>1)&&(o=!0)}}else o=!0;return o?ke.min(t.pointToSegment(e,r,i),t.pointToSegment(n,r,i),t.pointToSegment(r,e,n),t.pointToSegment(i,e,n)):0}},{key:"pointToSegment",value:function(e,t,n){if(t.x===n.x&&t.y===n.y)return e.distance(t);var r=(n.x-t.x)*(n.x-t.x)+(n.y-t.y)*(n.y-t.y),i=((e.x-t.x)*(n.x-t.x)+(e.y-t.y)*(n.y-t.y))/r;if(i<=0)return e.distance(t);if(i>=1)return e.distance(n);var o=((t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y))/r;return Math.abs(o)*Math.sqrt(r)}},{key:"pointToLinePerpendicular",value:function(e,t,n){var r=(n.x-t.x)*(n.x-t.x)+(n.y-t.y)*(n.y-t.y),i=((t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y))/r;return Math.abs(i)*Math.sqrt(r)}},{key:"pointToSegmentString",value:function(e,n){if(0===n.length)throw new _("Line array must contain at least one vertex");for(var r=e.distance(n[0]),i=0;i<n.length-1;i++){var o=t.pointToSegment(e,n[i],n[i+1]);o<r&&(r=o)}return r}}]),t}(),be=function(){function t(){e(this,t)}return n(t,[{key:"create",value:function(){if(1===arguments.length)arguments[0]instanceof Array||ie(arguments[0],ce);else if(2===arguments.length);else if(3===arguments.length){var e=arguments[0],t=arguments[1];return this.create(e,t)}}}]),t}(),we=function(){function t(){e(this,t)}return n(t,[{key:"filter",value:function(e){}}]),t}(),Ee=function(){function t(){e(this,t)}return n(t,null,[{key:"ofLine",value:function(e){var t=e.size();if(t<=1)return 0;var n=0,r=new U;e.getCoordinate(0,r);for(var i=r.x,o=r.y,a=1;a<t;a++){e.getCoordinate(a,r);var s=r.x,u=r.y,l=s-i,c=u-o;n+=Math.sqrt(l*l+c*c),i=s,o=u}return n}}]),t}(),Ne=function t(){e(this,t)},Se=function(){function t(){e(this,t)}return n(t,null,[{key:"copyCoord",value:function(e,t,n,r){for(var i=Math.min(e.getDimension(),n.getDimension()),o=0;o<i;o++)n.setOrdinate(r,o,e.getOrdinate(t,o))}},{key:"isRing",value:function(e){var t=e.size();return 0===t||!(t<=3)&&e.getOrdinate(0,ce.X)===e.getOrdinate(t-1,ce.X)&&e.getOrdinate(0,ce.Y)===e.getOrdinate(t-1,ce.Y)}},{key:"scroll",value:function(){if(2===arguments.length){if(ie(arguments[0],ce)&&Number.isInteger(arguments[1])){var e=arguments[0],n=arguments[1];t.scroll(e,n,t.isRing(e))}else if(ie(arguments[0],ce)&&arguments[1]instanceof U){var r=arguments[0],i=arguments[1],o=t.indexOf(i,r);if(o<=0)return null;t.scroll(r,o)}}else if(3===arguments.length){var a=arguments[0],s=arguments[1],u=arguments[2];if(s<=0)return null;for(var l=a.copy(),c=u?a.size()-1:a.size(),h=0;h<c;h++)for(var f=0;f<a.getDimension();f++)a.setOrdinate(h,f,l.getOrdinate((s+h)%c,f));if(u)for(var d=0;d<a.getDimension();d++)a.setOrdinate(c,d,a.getOrdinate(0,d))}}},{key:"isEqual",value:function(e,t){var n=e.size();if(n!==t.size())return!1;for(var r=Math.min(e.getDimension(),t.getDimension()),i=0;i<n;i++)for(var o=0;o<r;o++){var a=e.getOrdinate(i,o),s=t.getOrdinate(i,o);if(e.getOrdinate(i,o)!==t.getOrdinate(i,o)&&(!O.isNaN(a)||!O.isNaN(s)))return!1}return!0}},{key:"minCoordinateIndex",value:function(){if(1===arguments.length){var e=arguments[0];return t.minCoordinateIndex(e,0,e.size()-1)}if(3===arguments.length){for(var n=arguments[0],r=arguments[2],i=-1,o=null,a=arguments[1];a<=r;a++){var s=n.getCoordinate(a);(null===o||o.compareTo(s)>0)&&(o=s,i=a)}return i}}},{key:"extend",value:function(e,n,r){var i=e.create(r,n.getDimension()),o=n.size();if(t.copy(n,0,i,0,o),o>0)for(var a=o;a<r;a++)t.copy(n,o-1,i,a,1);return i}},{key:"reverse",value:function(e){for(var n=e.size()-1,r=Math.trunc(n/2),i=0;i<=r;i++)t.swap(e,i,n-i)}},{key:"swap",value:function(e,t,n){if(t===n)return null;for(var r=0;r<e.getDimension();r++){var i=e.getOrdinate(t,r);e.setOrdinate(t,r,e.getOrdinate(n,r)),e.setOrdinate(n,r,i)}}},{key:"copy",value:function(e,n,r,i,o){for(var a=0;a<o;a++)t.copyCoord(e,n+a,r,i+a)}},{key:"ensureValidRing",value:function(e,n){var r=n.size();return 0===r?n:r<=3?t.createClosedRing(e,n,4):n.getOrdinate(0,ce.X)===n.getOrdinate(r-1,ce.X)&&n.getOrdinate(0,ce.Y)===n.getOrdinate(r-1,ce.Y)?n:t.createClosedRing(e,n,r+1)}},{key:"indexOf",value:function(e,t){for(var n=0;n<t.size();n++)if(e.x===t.getOrdinate(n,ce.X)&&e.y===t.getOrdinate(n,ce.Y))return n;return-1}},{key:"createClosedRing",value:function(e,n,r){var i=e.create(r,n.getDimension()),o=n.size();t.copy(n,0,i,0,o);for(var a=o;a<r;a++)t.copy(n,0,i,a,1);return i}},{key:"minCoordinate",value:function(e){for(var t=null,n=0;n<e.size();n++){var r=e.getCoordinate(n);(null===t||t.compareTo(r)>0)&&(t=r)}return t}}]),t}(),Ie=function(){function t(){e(this,t)}return n(t,null,[{key:"toDimensionSymbol",value:function(e){switch(e){case t.FALSE:return t.SYM_FALSE;case t.TRUE:return t.SYM_TRUE;case t.DONTCARE:return t.SYM_DONTCARE;case t.P:return t.SYM_P;case t.L:return t.SYM_L;case t.A:return t.SYM_A}throw new _("Unknown dimension value: "+e)}},{key:"toDimensionValue",value:function(e){switch(se.toUpperCase(e)){case t.SYM_FALSE:return t.FALSE;case t.SYM_TRUE:return t.TRUE;case t.SYM_DONTCARE:return t.DONTCARE;case t.SYM_P:return t.P;case t.SYM_L:return t.L;case t.SYM_A:return t.A}throw new _("Unknown dimension symbol: "+e)}}]),t}();Ie.P=0,Ie.L=1,Ie.A=2,Ie.FALSE=-1,Ie.TRUE=-2,Ie.DONTCARE=-3,Ie.SYM_FALSE="F",Ie.SYM_TRUE="T",Ie.SYM_DONTCARE="*",Ie.SYM_P="0",Ie.SYM_L="1",Ie.SYM_A="2";var Ce=function(){function t(){e(this,t)}return n(t,[{key:"filter",value:function(e){}}]),t}(),Te=function(){function t(){e(this,t)}return n(t,[{key:"filter",value:function(e,t){}},{key:"isDone",value:function(){}},{key:"isGeometryChanged",value:function(){}}]),t}(),Le=function(t){r(a,t);var o=h(a);function a(){var t;return e(this,a),t=o.call(this),a.constructor_.apply(l(t),arguments),t}return n(a,[{key:"computeEnvelopeInternal",value:function(){return this.isEmpty()?new Y:this._points.expandEnvelope(new Y)}},{key:"isRing",value:function(){return this.isClosed()&&this.isSimple()}},{key:"getCoordinates",value:function(){return this._points.toCoordinateArray()}},{key:"copyInternal",value:function(){return new a(this._points.copy(),this._factory)}},{key:"equalsExact",value:function(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof H){var e=arguments[0],t=arguments[1];if(!this.isEquivalentClass(e))return!1;var n=e;if(this._points.size()!==n._points.size())return!1;for(var r=0;r<this._points.size();r++)if(!this.equal(this._points.getCoordinate(r),n._points.getCoordinate(r),t))return!1;return!0}return f(i(a.prototype),"equalsExact",this).apply(this,arguments)}},{key:"normalize",value:function(){for(var e=0;e<Math.trunc(this._points.size()/2);e++){var t=this._points.size()-1-e;if(!this._points.getCoordinate(e).equals(this._points.getCoordinate(t))){if(this._points.getCoordinate(e).compareTo(this._points.getCoordinate(t))>0){var n=this._points.copy();Se.reverse(n),this._points=n}return null}}}},{key:"getCoordinate",value:function(){return this.isEmpty()?null:this._points.getCoordinate(0)}},{key:"getBoundaryDimension",value:function(){return this.isClosed()?Ie.FALSE:0}},{key:"isClosed",value:function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))}},{key:"reverseInternal",value:function(){var e=this._points.copy();return Se.reverse(e),this.getFactory().createLineString(e)}},{key:"getEndPoint",value:function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)}},{key:"getTypeCode",value:function(){return H.TYPECODE_LINESTRING}},{key:"getDimension",value:function(){return 1}},{key:"getLength",value:function(){return Ee.ofLine(this._points)}},{key:"getNumPoints",value:function(){return this._points.size()}},{key:"compareToSameClass",value:function(){if(1===arguments.length){for(var e=arguments[0],t=0,n=0;t<this._points.size()&&n<e._points.size();){var r=this._points.getCoordinate(t).compareTo(e._points.getCoordinate(n));if(0!==r)return r;t++,n++}return t<this._points.size()?1:n<e._points.size()?-1:0}if(2===arguments.length){var i=arguments[0];return arguments[1].compare(this._points,i._points)}}},{key:"apply",value:function(){if(ie(arguments[0],we))for(var e=arguments[0],t=0;t<this._points.size();t++)e.filter(this._points.getCoordinate(t));else if(ie(arguments[0],Te)){var n=arguments[0];if(0===this._points.size())return null;for(var r=0;r<this._points.size()&&(n.filter(this._points,r),!n.isDone());r++);n.isGeometryChanged()&&this.geometryChanged()}else(ie(arguments[0],Ce)||ie(arguments[0],k))&&arguments[0].filter(this)}},{key:"getBoundary",value:function(){throw new $}},{key:"isEquivalentClass",value:function(e){return e instanceof a}},{key:"getCoordinateN",value:function(e){return this._points.getCoordinate(e)}},{key:"getGeometryType",value:function(){return H.TYPENAME_LINESTRING}},{key:"getCoordinateSequence",value:function(){return this._points}},{key:"isEmpty",value:function(){return 0===this._points.size()}},{key:"init",value:function(e){if(null===e&&(e=this.getFactory().getCoordinateSequenceFactory().create([])),1===e.size())throw new _("Invalid number of points in LineString (found "+e.size()+" - must be 0 or >= 2)");this._points=e}},{key:"isCoordinate",value:function(e){for(var t=0;t<this._points.size();t++)if(this._points.getCoordinate(t).equals(e))return!0;return!1}},{key:"getStartPoint",value:function(){return this.isEmpty()?null:this.getPointN(0)}},{key:"getPointN",value:function(e){return this.getFactory().createPoint(this._points.getCoordinate(e))}},{key:"interfaces_",get:function(){return[Ne]}}],[{key:"constructor_",value:function(){if(this._points=null,0===arguments.length);else if(2===arguments.length){var e=arguments[0],t=arguments[1];H.constructor_.call(this,t),this.init(e)}}}]),a}(H),Re=function t(){e(this,t)},Pe=function(t){r(a,t);var o=h(a);function a(){var t;return e(this,a),t=o.call(this),a.constructor_.apply(l(t),arguments),t}return n(a,[{key:"computeEnvelopeInternal",value:function(){if(this.isEmpty())return new Y;var e=new Y;return e.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),e}},{key:"getCoordinates",value:function(){return this.isEmpty()?[]:[this.getCoordinate()]}},{key:"copyInternal",value:function(){return new a(this._coordinates.copy(),this._factory)}},{key:"equalsExact",value:function(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof H){var e=arguments[0],t=arguments[1];return!!this.isEquivalentClass(e)&&(!(!this.isEmpty()||!e.isEmpty())||this.isEmpty()===e.isEmpty()&&this.equal(e.getCoordinate(),this.getCoordinate(),t))}return f(i(a.prototype),"equalsExact",this).apply(this,arguments)}},{key:"normalize",value:function(){}},{key:"getCoordinate",value:function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null}},{key:"getBoundaryDimension",value:function(){return Ie.FALSE}},{key:"reverseInternal",value:function(){return this.getFactory().createPoint(this._coordinates.copy())}},{key:"getTypeCode",value:function(){return H.TYPECODE_POINT}},{key:"getDimension",value:function(){return 0}},{key:"getNumPoints",value:function(){return this.isEmpty()?0:1}},{key:"getX",value:function(){if(null===this.getCoordinate())throw new IllegalStateException("getX called on empty Point");return this.getCoordinate().x}},{key:"compareToSameClass",value:function(){if(1===arguments.length){var e=arguments[0];return this.getCoordinate().compareTo(e.getCoordinate())}if(2===arguments.length){var t=arguments[0];return arguments[1].compare(this._coordinates,t._coordinates)}}},{key:"apply",value:function(){if(ie(arguments[0],we)){var e=arguments[0];if(this.isEmpty())return null;e.filter(this.getCoordinate())}else if(ie(arguments[0],Te)){var t=arguments[0];if(this.isEmpty())return null;t.filter(this._coordinates,0),t.isGeometryChanged()&&this.geometryChanged()}else(ie(arguments[0],Ce)||ie(arguments[0],k))&&arguments[0].filter(this)}},{key:"getBoundary",value:function(){return this.getFactory().createGeometryCollection()}},{key:"getGeometryType",value:function(){return H.TYPENAME_POINT}},{key:"getCoordinateSequence",value:function(){return this._coordinates}},{key:"getY",value:function(){if(null===this.getCoordinate())throw new IllegalStateException("getY called on empty Point");return this.getCoordinate().y}},{key:"isEmpty",value:function(){return 0===this._coordinates.size()}},{key:"init",value:function(e){null===e&&(e=this.getFactory().getCoordinateSequenceFactory().create([])),z.isTrue(e.size()<=1),this._coordinates=e}},{key:"isSimple",value:function(){return!0}},{key:"interfaces_",get:function(){return[Re]}}],[{key:"constructor_",value:function(){this._coordinates=null;var e=arguments[0],t=arguments[1];H.constructor_.call(this,t),this.init(e)}}]),a}(H),Me=function(){function t(){e(this,t)}return n(t,null,[{key:"ofRing",value:function(){if(arguments[0]instanceof Array){var e=arguments[0];return Math.abs(t.ofRingSigned(e))}if(ie(arguments[0],ce)){var n=arguments[0];return Math.abs(t.ofRingSigned(n))}}},{key:"ofRingSigned",value:function(){if(arguments[0]instanceof Array){var e=arguments[0];if(e.length<3)return 0;for(var t=0,n=e[0].x,r=1;r<e.length-1;r++){var i=e[r].x-n,o=e[r+1].y;t+=i*(e[r-1].y-o)}return t/2}if(ie(arguments[0],ce)){var a=arguments[0],s=a.size();if(s<3)return 0;var u=new U,l=new U,c=new U;a.getCoordinate(0,l),a.getCoordinate(1,c);var h=l.x;c.x-=h;for(var f=0,d=1;d<s-1;d++)u.y=l.y,l.x=c.x,l.y=c.y,a.getCoordinate(d+1,c),c.x-=h,f+=l.x*(u.y-c.y);return f/2}}}]),t}(),Oe=function(){function t(){e(this,t)}return n(t,null,[{key:"sort",value:function(){var e=arguments,t=arguments[0];if(1===arguments.length)t.sort((function(e,t){return e.compareTo(t)}));else if(2===arguments.length)t.sort((function(t,n){return e[1].compare(t,n)}));else if(3===arguments.length){var n=t.slice(arguments[1],arguments[2]);n.sort();var r=t.slice(0,arguments[1]).concat(n,t.slice(arguments[2],t.length));t.splice(0,t.length);var i,o=v(r);try{for(o.s();!(i=o.n()).done;){var a=i.value;t.push(a)}}catch(e){o.e(e)}finally{o.f()}}else if(4===arguments.length){var s=t.slice(arguments[1],arguments[2]);s.sort((function(t,n){return e[3].compare(t,n)}));var u=t.slice(0,arguments[1]).concat(s,t.slice(arguments[2],t.length));t.splice(0,t.length);var l,c=v(u);try{for(c.s();!(l=c.n()).done;){var h=l.value;t.push(h)}}catch(e){c.e(e)}finally{c.f()}}}},{key:"asList",value:function(e){var t,n=new ge,r=v(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;n.add(i)}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"copyOf",value:function(e,t){return e.slice(0,t)}}]),t}(),Ae=function t(){e(this,t)},De=function(t){r(a,t);var o=h(a);function a(){var t;return e(this,a),t=o.call(this),a.constructor_.apply(l(t),arguments),t}return n(a,[{key:"computeEnvelopeInternal",value:function(){return this._shell.getEnvelopeInternal()}},{key:"getCoordinates",value:function(){if(this.isEmpty())return[];for(var e=new Array(this.getNumPoints()).fill(null),t=-1,n=this._shell.getCoordinates(),r=0;r<n.length;r++)e[++t]=n[r];for(var i=0;i<this._holes.length;i++)for(var o=this._holes[i].getCoordinates(),a=0;a<o.length;a++)e[++t]=o[a];return e}},{key:"getArea",value:function(){var e=0;e+=Me.ofRing(this._shell.getCoordinateSequence());for(var t=0;t<this._holes.length;t++)e-=Me.ofRing(this._holes[t].getCoordinateSequence());return e}},{key:"copyInternal",value:function(){for(var e=this._shell.copy(),t=new Array(this._holes.length).fill(null),n=0;n<this._holes.length;n++)t[n]=this._holes[n].copy();return new a(e,t,this._factory)}},{key:"isRectangle",value:function(){if(0!==this.getNumInteriorRing())return!1;if(null===this._shell)return!1;if(5!==this._shell.getNumPoints())return!1;for(var e=this._shell.getCoordinateSequence(),t=this.getEnvelopeInternal(),n=0;n<5;n++){var r=e.getX(n);if(r!==t.getMinX()&&r!==t.getMaxX())return!1;var i=e.getY(n);if(i!==t.getMinY()&&i!==t.getMaxY())return!1}for(var o=e.getX(0),a=e.getY(0),s=1;s<=4;s++){var u=e.getX(s),l=e.getY(s);if(u!==o===(l!==a))return!1;o=u,a=l}return!0}},{key:"equalsExact",value:function(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof H){var e=arguments[0],t=arguments[1];if(!this.isEquivalentClass(e))return!1;var n=e,r=this._shell,o=n._shell;if(!r.equalsExact(o,t))return!1;if(this._holes.length!==n._holes.length)return!1;for(var s=0;s<this._holes.length;s++)if(!this._holes[s].equalsExact(n._holes[s],t))return!1;return!0}return f(i(a.prototype),"equalsExact",this).apply(this,arguments)}},{key:"normalize",value:function(){if(0===arguments.length){this._shell=this.normalized(this._shell,!0);for(var e=0;e<this._holes.length;e++)this._holes[e]=this.normalized(this._holes[e],!1);Oe.sort(this._holes)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];if(t.isEmpty())return null;var r=t.getCoordinateSequence(),i=Se.minCoordinateIndex(r,0,r.size()-2);Se.scroll(r,i,!0),he.isCCW(r)===n&&Se.reverse(r)}}},{key:"getCoordinate",value:function(){return this._shell.getCoordinate()}},{key:"getNumInteriorRing",value:function(){return this._holes.length}},{key:"getBoundaryDimension",value:function(){return 1}},{key:"reverseInternal",value:function(){for(var e=this.getExteriorRing().reverse(),t=new Array(this.getNumInteriorRing()).fill(null),n=0;n<t.length;n++)t[n]=this.getInteriorRingN(n).reverse();return this.getFactory().createPolygon(e,t)}},{key:"getTypeCode",value:function(){return H.TYPECODE_POLYGON}},{key:"getDimension",value:function(){return 2}},{key:"getLength",value:function(){var e=0;e+=this._shell.getLength();for(var t=0;t<this._holes.length;t++)e+=this._holes[t].getLength();return e}},{key:"getNumPoints",value:function(){for(var e=this._shell.getNumPoints(),t=0;t<this._holes.length;t++)e+=this._holes[t].getNumPoints();return e}},{key:"convexHull",value:function(){return this.getExteriorRing().convexHull()}},{key:"normalized",value:function(e,t){var n=e.copy();return this.normalize(n,t),n}},{key:"compareToSameClass",value:function(){if(1===arguments.length){var e=arguments[0],t=this._shell,n=e._shell;return t.compareToSameClass(n)}if(2===arguments.length){var r=arguments[1],i=arguments[0],o=this._shell,a=i._shell,s=o.compareToSameClass(a,r);if(0!==s)return s;for(var u=this.getNumInteriorRing(),l=i.getNumInteriorRing(),c=0;c<u&&c<l;){var h=this.getInteriorRingN(c),f=i.getInteriorRingN(c),d=h.compareToSameClass(f,r);if(0!==d)return d;c++}return c<u?1:c<l?-1:0}}},{key:"apply",value:function(){if(ie(arguments[0],we)){var e=arguments[0];this._shell.apply(e);for(var t=0;t<this._holes.length;t++)this._holes[t].apply(e)}else if(ie(arguments[0],Te)){var n=arguments[0];if(this._shell.apply(n),!n.isDone())for(var r=0;r<this._holes.length&&(this._holes[r].apply(n),!n.isDone());r++);n.isGeometryChanged()&&this.geometryChanged()}else if(ie(arguments[0],Ce))arguments[0].filter(this);else if(ie(arguments[0],k)){var i=arguments[0];i.filter(this),this._shell.apply(i);for(var o=0;o<this._holes.length;o++)this._holes[o].apply(i)}}},{key:"getBoundary",value:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var e=new Array(this._holes.length+1).fill(null);e[0]=this._shell;for(var t=0;t<this._holes.length;t++)e[t+1]=this._holes[t];return e.length<=1?this.getFactory().createLinearRing(e[0].getCoordinateSequence()):this.getFactory().createMultiLineString(e)}},{key:"getGeometryType",value:function(){return H.TYPENAME_POLYGON}},{key:"getExteriorRing",value:function(){return this._shell}},{key:"isEmpty",value:function(){return this._shell.isEmpty()}},{key:"getInteriorRingN",value:function(e){return this._holes[e]}},{key:"interfaces_",get:function(){return[Ae]}}],[{key:"constructor_",value:function(){this._shell=null,this._holes=null;var e=arguments[0],t=arguments[1],n=arguments[2];if(H.constructor_.call(this,n),null===e&&(e=this.getFactory().createLinearRing()),null===t&&(t=[]),H.hasNullElements(t))throw new _("holes must not contain null elements");if(e.isEmpty()&&H.hasNonEmptyElements(t))throw new _("shell is empty but holes are not");this._shell=e,this._holes=t}}]),a}(H),Fe=function(t){r(i,t);var n=h(i);function i(){return e(this,i),n.apply(this,arguments)}return i}(Z),ze=function(t){r(o,t);var i=h(o);function o(t){var n;return e(this,o),(n=i.call(this)).array=[],t instanceof V&&n.addAll(t),n}return n(o,[{key:"contains",value:function(e){var t,n=v(this.array);try{for(n.s();!(t=n.n()).done;)if(0===t.value.compareTo(e))return!0}catch(e){n.e(e)}finally{n.f()}return!1}},{key:"add",value:function(e){if(this.contains(e))return!1;for(var t=0,n=this.array.length;t<n;t++)if(1===this.array[t].compareTo(e))return!!this.array.splice(t,0,e);return this.array.push(e),!0}},{key:"addAll",value:function(e){var t,n=v(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.add(r)}}catch(e){n.e(e)}finally{n.f()}return!0}},{key:"remove",value:function(){throw new $}},{key:"size",value:function(){return this.array.length}},{key:"isEmpty",value:function(){return 0===this.array.length}},{key:"toArray",value:function(){return this.array.slice()}},{key:"iterator",value:function(){return new je(this.array)}}]),o}(Fe),je=function(){function t(n){e(this,t),this.array=n,this.position=0}return n(t,[{key:"next",value:function(){if(this.position===this.array.length)throw new W;return this.array[this.position++]}},{key:"hasNext",value:function(){return this.position<this.array.length}},{key:"remove",value:function(){throw new $}}]),t}(),Be=function(t){r(a,t);var o=h(a);function a(){var t;return e(this,a),t=o.call(this),a.constructor_.apply(l(t),arguments),t}return n(a,[{key:"computeEnvelopeInternal",value:function(){for(var e=new Y,t=0;t<this._geometries.length;t++)e.expandToInclude(this._geometries[t].getEnvelopeInternal());return e}},{key:"getGeometryN",value:function(e){return this._geometries[e]}},{key:"getCoordinates",value:function(){for(var e=new Array(this.getNumPoints()).fill(null),t=-1,n=0;n<this._geometries.length;n++)for(var r=this._geometries[n].getCoordinates(),i=0;i<r.length;i++)e[++t]=r[i];return e}},{key:"getArea",value:function(){for(var e=0,t=0;t<this._geometries.length;t++)e+=this._geometries[t].getArea();return e}},{key:"copyInternal",value:function(){for(var e=new Array(this._geometries.length).fill(null),t=0;t<e.length;t++)e[t]=this._geometries[t].copy();return new a(e,this._factory)}},{key:"equalsExact",value:function(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof H){var e=arguments[0],t=arguments[1];if(!this.isEquivalentClass(e))return!1;var n=e;if(this._geometries.length!==n._geometries.length)return!1;for(var r=0;r<this._geometries.length;r++)if(!this._geometries[r].equalsExact(n._geometries[r],t))return!1;return!0}return f(i(a.prototype),"equalsExact",this).apply(this,arguments)}},{key:"normalize",value:function(){for(var e=0;e<this._geometries.length;e++)this._geometries[e].normalize();Oe.sort(this._geometries)}},{key:"getCoordinate",value:function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()}},{key:"getBoundaryDimension",value:function(){for(var e=Ie.FALSE,t=0;t<this._geometries.length;t++)e=Math.max(e,this._geometries[t].getBoundaryDimension());return e}},{key:"reverseInternal",value:function(){for(var e=this._geometries.length,t=new ge(e),n=0;n<e;n++)t.add(this._geometries[n].reverse());return this.getFactory().buildGeometry(t)}},{key:"getTypeCode",value:function(){return H.TYPECODE_GEOMETRYCOLLECTION}},{key:"getDimension",value:function(){for(var e=Ie.FALSE,t=0;t<this._geometries.length;t++)e=Math.max(e,this._geometries[t].getDimension());return e}},{key:"getLength",value:function(){for(var e=0,t=0;t<this._geometries.length;t++)e+=this._geometries[t].getLength();return e}},{key:"getNumPoints",value:function(){for(var e=0,t=0;t<this._geometries.length;t++)e+=this._geometries[t].getNumPoints();return e}},{key:"getNumGeometries",value:function(){return this._geometries.length}},{key:"compareToSameClass",value:function(){if(1===arguments.length){var e=arguments[0],t=new ze(Oe.asList(this._geometries)),n=new ze(Oe.asList(e._geometries));return this.compare(t,n)}if(2===arguments.length){for(var r=arguments[1],i=arguments[0],o=this.getNumGeometries(),a=i.getNumGeometries(),s=0;s<o&&s<a;){var u=this.getGeometryN(s),l=i.getGeometryN(s),c=u.compareToSameClass(l,r);if(0!==c)return c;s++}return s<o?1:s<a?-1:0}}},{key:"apply",value:function(){if(ie(arguments[0],we))for(var e=arguments[0],t=0;t<this._geometries.length;t++)this._geometries[t].apply(e);else if(ie(arguments[0],Te)){var n=arguments[0];if(0===this._geometries.length)return null;for(var r=0;r<this._geometries.length&&(this._geometries[r].apply(n),!n.isDone());r++);n.isGeometryChanged()&&this.geometryChanged()}else if(ie(arguments[0],Ce)){var i=arguments[0];i.filter(this);for(var o=0;o<this._geometries.length;o++)this._geometries[o].apply(i)}else if(ie(arguments[0],k)){var a=arguments[0];a.filter(this);for(var s=0;s<this._geometries.length;s++)this._geometries[s].apply(a)}}},{key:"getBoundary",value:function(){return H.checkNotGeometryCollection(this),z.shouldNeverReachHere(),null}},{key:"getGeometryType",value:function(){return H.TYPENAME_GEOMETRYCOLLECTION}},{key:"isEmpty",value:function(){for(var e=0;e<this._geometries.length;e++)if(!this._geometries[e].isEmpty())return!1;return!0}}],[{key:"constructor_",value:function(){if(this._geometries=null,0===arguments.length);else if(2===arguments.length){var e=arguments[0],t=arguments[1];if(H.constructor_.call(this,t),null===e&&(e=[]),H.hasNullElements(e))throw new _("geometries must not contain null elements");this._geometries=e}}}]),a}(H),qe=function(t){r(a,t);var o=h(a);function a(){var t;return e(this,a),t=o.call(this),a.constructor_.apply(l(t),arguments),t}return n(a,[{key:"copyInternal",value:function(){for(var e=new Array(this._geometries.length).fill(null),t=0;t<e.length;t++)e[t]=this._geometries[t].copy();return new a(e,this._factory)}},{key:"isValid",value:function(){return!0}},{key:"equalsExact",value:function(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof H){var e=arguments[0],t=arguments[1];return!!this.isEquivalentClass(e)&&f(i(a.prototype),"equalsExact",this).call(this,e,t)}return f(i(a.prototype),"equalsExact",this).apply(this,arguments)}},{key:"getCoordinate",value:function(){if(1===arguments.length&&Number.isInteger(arguments[0])){var e=arguments[0];return this._geometries[e].getCoordinate()}return f(i(a.prototype),"getCoordinate",this).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return Ie.FALSE}},{key:"getTypeCode",value:function(){return H.TYPECODE_MULTIPOINT}},{key:"getDimension",value:function(){return 0}},{key:"getBoundary",value:function(){return this.getFactory().createGeometryCollection()}},{key:"getGeometryType",value:function(){return H.TYPENAME_MULTIPOINT}},{key:"interfaces_",get:function(){return[Re]}}],[{key:"constructor_",value:function(){var e=arguments[0],t=arguments[1];Be.constructor_.call(this,e,t)}}]),a}(Be),Ue=function(t){r(a,t);var o=h(a);function a(){var t;return e(this,a),t=o.call(this),a.constructor_.apply(l(t),arguments),t}return n(a,[{key:"copyInternal",value:function(){return new a(this._points.copy(),this._factory)}},{key:"getBoundaryDimension",value:function(){return Ie.FALSE}},{key:"isClosed",value:function(){return!!this.isEmpty()||f(i(a.prototype),"isClosed",this).call(this)}},{key:"reverseInternal",value:function(){var e=this._points.copy();return Se.reverse(e),this.getFactory().createLinearRing(e)}},{key:"getTypeCode",value:function(){return H.TYPECODE_LINEARRING}},{key:"validateConstruction",value:function(){if(!this.isEmpty()&&!f(i(a.prototype),"isClosed",this).call(this))throw new _("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<a.MINIMUM_VALID_SIZE)throw new _("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")}},{key:"getGeometryType",value:function(){return H.TYPENAME_LINEARRING}}],[{key:"constructor_",value:function(){var e=arguments[0],t=arguments[1];Le.constructor_.call(this,e,t),this.validateConstruction()}}]),a}(Le);Ue.MINIMUM_VALID_SIZE=4;var Ge=function(t){r(o,t);var i=h(o);function o(){var t;return e(this,o),t=i.call(this),o.constructor_.apply(l(t),arguments),t}return n(o,[{key:"setOrdinate",value:function(e,t){switch(e){case o.X:this.x=t;break;case o.Y:this.y=t;break;default:throw new _("Invalid ordinate index: "+e)}}},{key:"getZ",value:function(){return U.NULL_ORDINATE}},{key:"getOrdinate",value:function(e){switch(e){case o.X:return this.x;case o.Y:return this.y}throw new _("Invalid ordinate index: "+e)}},{key:"setZ",value:function(e){throw new _("CoordinateXY dimension 2 does not support z-ordinate")}},{key:"copy",value:function(){return new o(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+")"}},{key:"setCoordinate",value:function(e){this.x=e.x,this.y=e.y,this.z=e.getZ()}}],[{key:"constructor_",value:function(){if(0===arguments.length)U.constructor_.call(this);else if(1===arguments.length){if(arguments[0]instanceof o){var e=arguments[0];U.constructor_.call(this,e.x,e.y)}else if(arguments[0]instanceof U){var t=arguments[0];U.constructor_.call(this,t.x,t.y)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];U.constructor_.call(this,n,r,U.NULL_ORDINATE)}}}]),o}(U);Ge.X=0,Ge.Y=1,Ge.Z=-1,Ge.M=-1;var Ye=function(t){r(o,t);var i=h(o);function o(){var t;return e(this,o),t=i.call(this),o.constructor_.apply(l(t),arguments),t}return n(o,[{key:"getM",value:function(){return this._m}},{key:"setOrdinate",value:function(e,t){switch(e){case o.X:this.x=t;break;case o.Y:this.y=t;break;case o.M:this._m=t;break;default:throw new _("Invalid ordinate index: "+e)}}},{key:"setM",value:function(e){this._m=e}},{key:"getZ",value:function(){return U.NULL_ORDINATE}},{key:"getOrdinate",value:function(e){switch(e){case o.X:return this.x;case o.Y:return this.y;case o.M:return this._m}throw new _("Invalid ordinate index: "+e)}},{key:"setZ",value:function(e){throw new _("CoordinateXY dimension 2 does not support z-ordinate")}},{key:"copy",value:function(){return new o(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+" m="+this.getM()+")"}},{key:"setCoordinate",value:function(e){this.x=e.x,this.y=e.y,this.z=e.getZ(),this._m=e.getM()}}],[{key:"constructor_",value:function(){if(this._m=null,0===arguments.length)U.constructor_.call(this),this._m=0;else if(1===arguments.length){if(arguments[0]instanceof o){var e=arguments[0];U.constructor_.call(this,e.x,e.y),this._m=e._m}else if(arguments[0]instanceof U){var t=arguments[0];U.constructor_.call(this,t.x,t.y),this._m=this.getM()}}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];U.constructor_.call(this,n,r,U.NULL_ORDINATE),this._m=i}}}]),o}(U);Ye.X=0,Ye.Y=1,Ye.Z=-1,Ye.M=2;var He=function(t){r(o,t);var i=h(o);function o(){var t;return e(this,o),t=i.call(this),o.constructor_.apply(l(t),arguments),t}return n(o,[{key:"getM",value:function(){return this._m}},{key:"setOrdinate",value:function(e,t){switch(e){case U.X:this.x=t;break;case U.Y:this.y=t;break;case U.Z:this.z=t;break;case U.M:this._m=t;break;default:throw new _("Invalid ordinate index: "+e)}}},{key:"setM",value:function(e){this._m=e}},{key:"getOrdinate",value:function(e){switch(e){case U.X:return this.x;case U.Y:return this.y;case U.Z:return this.getZ();case U.M:return this.getM()}throw new _("Invalid ordinate index: "+e)}},{key:"copy",value:function(){return new o(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+", "+this.getZ()+" m="+this.getM()+")"}},{key:"setCoordinate",value:function(e){this.x=e.x,this.y=e.y,this.z=e.getZ(),this._m=e.getM()}}],[{key:"constructor_",value:function(){if(this._m=null,0===arguments.length)U.constructor_.call(this),this._m=0;else if(1===arguments.length){if(arguments[0]instanceof o){var e=arguments[0];U.constructor_.call(this,e),this._m=e._m}else if(arguments[0]instanceof U){var t=arguments[0];U.constructor_.call(this,t),this._m=this.getM()}}else if(4===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],a=arguments[3];U.constructor_.call(this,n,r,i),this._m=a}}}]),o}(U),Xe=function(){function t(){e(this,t)}return n(t,null,[{key:"measures",value:function(e){return e instanceof Ge?0:e instanceof Ye||e instanceof He?1:0}},{key:"dimension",value:function(e){return e instanceof Ge?2:e instanceof Ye?3:e instanceof He?4:3}},{key:"create",value:function(){if(1===arguments.length){var e=arguments[0];return t.create(e,0)}if(2===arguments.length){var n=arguments[0],r=arguments[1];return 2===n?new Ge:3===n&&0===r?new U:3===n&&1===r?new Ye:4===n&&1===r?new He:new U}}}]),t}(),Ve=function(t){r(a,t);var o=h(a);function a(){var t;return e(this,a),t=o.call(this),a.constructor_.apply(l(t),arguments),t}return n(a,[{key:"getCoordinate",value:function(e){return this.get(e)}},{key:"addAll",value:function(){if(2===arguments.length&&"boolean"==typeof arguments[1]&&ie(arguments[0],V)){for(var e=arguments[1],t=!1,n=arguments[0].iterator();n.hasNext();)this.add(n.next(),e),t=!0;return t}return f(i(a.prototype),"addAll",this).apply(this,arguments)}},{key:"clone",value:function(){for(var e=f(i(a.prototype),"clone",this).call(this),t=0;t<this.size();t++)e.add(t,this.get(t).clone());return e}},{key:"toCoordinateArray",value:function(){if(0===arguments.length)return this.toArray(a.coordArrayType);if(1===arguments.length){if(arguments[0])return this.toArray(a.coordArrayType);for(var e=this.size(),t=new Array(e).fill(null),n=0;n<e;n++)t[n]=this.get(e-n-1);return t}}},{key:"add",value:function(){if(1===arguments.length){var e=arguments[0];return f(i(a.prototype),"add",this).call(this,e)}if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var t=arguments[0],n=arguments[1];return this.add(t,n,!0),!0}if(arguments[0]instanceof U&&"boolean"==typeof arguments[1]){var r=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(r))return null;f(i(a.prototype),"add",this).call(this,r)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1]){var o=arguments[0],s=arguments[1];return this.add(o,s),!0}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var u=arguments[0],l=arguments[1];if(arguments[2])for(var c=0;c<u.length;c++)this.add(u[c],l);else for(var h=u.length-1;h>=0;h--)this.add(u[h],l);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof U){var d=arguments[0],p=arguments[1];if(!arguments[2]){var g=this.size();if(g>0){if(d>0&&this.get(d-1).equals2D(p))return null;if(d<g&&this.get(d).equals2D(p))return null}}f(i(a.prototype),"add",this).call(this,d,p)}}else if(4===arguments.length){var v=arguments[0],y=arguments[1],m=arguments[2],_=arguments[3],k=1;m>_&&(k=-1);for(var x=m;x!==_;x+=k)this.add(v[x],y);return!0}}},{key:"closeRing",value:function(){if(this.size()>0){var e=this.get(0).copy();this.add(e,!1)}}}],[{key:"constructor_",value:function(){if(0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.ensureCapacity(e.length),this.add(e,!0)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];this.ensureCapacity(t.length),this.add(t,n)}}}]),a}(ge);Ve.coordArrayType=new Array(0).fill(null);var We=function(){function t(){e(this,t)}return n(t,null,[{key:"isRing",value:function(e){return!(e.length<4)&&!!e[0].equals2D(e[e.length-1])}},{key:"ptNotInList",value:function(e,n){for(var r=0;r<e.length;r++){var i=e[r];if(t.indexOf(i,n)<0)return i}return null}},{key:"scroll",value:function(e,n){var r=t.indexOf(n,e);if(r<0)return null;var i=new Array(e.length).fill(null);_e.arraycopy(e,r,i,0,e.length-r),_e.arraycopy(e,0,i,e.length-r,r),_e.arraycopy(i,0,e,0,e.length)}},{key:"equals",value:function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];if(e===t)return!0;if(null===e||null===t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].equals(t[n]))return!1;return!0}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];if(r===i)return!0;if(null===r||null===i)return!1;if(r.length!==i.length)return!1;for(var a=0;a<r.length;a++)if(0!==o.compare(r[a],i[a]))return!1;return!0}}},{key:"intersection",value:function(e,t){for(var n=new Ve,r=0;r<e.length;r++)t.intersects(e[r])&&n.add(e[r],!0);return n.toCoordinateArray()}},{key:"measures",value:function(e){if(null===e||0===e.length)return 0;var t,n=0,r=v(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;n=Math.max(n,Xe.measures(i))}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"hasRepeatedPoints",value:function(e){for(var t=1;t<e.length;t++)if(e[t-1].equals(e[t]))return!0;return!1}},{key:"removeRepeatedPoints",value:function(e){return t.hasRepeatedPoints(e)?new Ve(e,!1).toCoordinateArray():e}},{key:"reverse",value:function(e){for(var t=e.length-1,n=Math.trunc(t/2),r=0;r<=n;r++){var i=e[r];e[r]=e[t-r],e[t-r]=i}}},{key:"removeNull",value:function(e){for(var t=0,n=0;n<e.length;n++)null!==e[n]&&t++;var r=new Array(t).fill(null);if(0===t)return r;for(var i=0,o=0;o<e.length;o++)null!==e[o]&&(r[i++]=e[o]);return r}},{key:"copyDeep",value:function(){if(1===arguments.length){for(var e=arguments[0],t=new Array(e.length).fill(null),n=0;n<e.length;n++)t[n]=e[n].copy();return t}if(5===arguments.length)for(var r=arguments[0],i=arguments[1],o=arguments[2],a=arguments[3],s=arguments[4],u=0;u<s;u++)o[a+u]=r[i+u].copy()}},{key:"isEqualReversed",value:function(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=t[e.length-n-1];if(0!==r.compareTo(i))return!1}return!0}},{key:"envelope",value:function(e){for(var t=new Y,n=0;n<e.length;n++)t.expandToInclude(e[n]);return t}},{key:"toCoordinateArray",value:function(e){return e.toArray(t.coordArrayType)}},{key:"dimension",value:function(e){if(null===e||0===e.length)return 3;var t,n=0,r=v(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;n=Math.max(n,Xe.dimension(i))}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"atLeastNCoordinatesOrNothing",value:function(e,t){return t.length>=e?t:[]}},{key:"indexOf",value:function(e,t){for(var n=0;n<t.length;n++)if(e.equals(t[n]))return n;return-1}},{key:"increasingDirection",value:function(e){for(var t=0;t<Math.trunc(e.length/2);t++){var n=e.length-1-t,r=e[t].compareTo(e[n]);if(0!==r)return r}return 1}},{key:"compare",value:function(e,t){for(var n=0;n<e.length&&n<t.length;){var r=e[n].compareTo(t[n]);if(0!==r)return r;n++}return n<t.length?-1:n<e.length?1:0}},{key:"minCoordinate",value:function(e){for(var t=null,n=0;n<e.length;n++)(null===t||t.compareTo(e[n])>0)&&(t=e[n]);return t}},{key:"extract",value:function(e,t,n){t=ke.clamp(t,0,e.length);var r=(n=ke.clamp(n,-1,e.length))-t+1;n<0&&(r=0),t>=e.length&&(r=0),n<t&&(r=0);var i=new Array(r).fill(null);if(0===r)return i;for(var o=0,a=t;a<=n;a++)i[o++]=e[a];return i}}]),t}(),$e=function(){function t(){e(this,t)}return n(t,[{key:"compare",value:function(e,t){var n=e,r=t;return We.compare(n,r)}},{key:"interfaces_",get:function(){return[A]}}]),t}(),Ze=function(){function t(){e(this,t)}return n(t,[{key:"compare",value:function(e,t){var n=e,r=t;if(n.length<r.length)return-1;if(n.length>r.length)return 1;if(0===n.length)return 0;var i=We.compare(n,r);return We.isEqualReversed(n,r)?0:i}},{key:"OLDcompare",value:function(e,t){var n=e,r=t;if(n.length<r.length)return-1;if(n.length>r.length)return 1;if(0===n.length)return 0;for(var i=We.increasingDirection(n),o=We.increasingDirection(r),a=i>0?0:n.length-1,s=o>0?0:n.length-1,u=0;u<n.length;u++){var l=n[a].compareTo(r[s]);if(0!==l)return l;a+=i,s+=o}return 0}},{key:"interfaces_",get:function(){return[A]}}]),t}();We.ForwardComparator=$e,We.BidirectionalComparator=Ze,We.coordArrayType=new Array(0).fill(null);var Qe=function(){function t(n){e(this,t),this.str=n}return n(t,[{key:"append",value:function(e){this.str+=e}},{key:"setCharAt",value:function(e,t){this.str=this.str.substr(0,e)+t+this.str.substr(e+1)}},{key:"toString",value:function(){return this.str}}]),t}(),Ke=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"getM",value:function(e){return this.hasM()?this._coordinates[e].getM():O.NaN}},{key:"setOrdinate",value:function(e,t,n){switch(t){case ce.X:this._coordinates[e].x=n;break;case ce.Y:this._coordinates[e].y=n;break;default:this._coordinates[e].setOrdinate(t,n)}}},{key:"getZ",value:function(e){return this.hasZ()?this._coordinates[e].getZ():O.NaN}},{key:"size",value:function(){return this._coordinates.length}},{key:"getOrdinate",value:function(e,t){switch(t){case ce.X:return this._coordinates[e].x;case ce.Y:return this._coordinates[e].y;default:return this._coordinates[e].getOrdinate(t)}}},{key:"getCoordinate",value:function(){if(1===arguments.length){var e=arguments[0];return this._coordinates[e]}if(2===arguments.length){var t=arguments[0];arguments[1].setCoordinate(this._coordinates[t])}}},{key:"getCoordinateCopy",value:function(e){var t=this.createCoordinate();return t.setCoordinate(this._coordinates[e]),t}},{key:"createCoordinate",value:function(){return Xe.create(this.getDimension(),this.getMeasures())}},{key:"getDimension",value:function(){return this._dimension}},{key:"getX",value:function(e){return this._coordinates[e].x}},{key:"getMeasures",value:function(){return this._measures}},{key:"expandEnvelope",value:function(e){for(var t=0;t<this._coordinates.length;t++)e.expandToInclude(this._coordinates[t]);return e}},{key:"copy",value:function(){for(var e=new Array(this.size()).fill(null),n=0;n<this._coordinates.length;n++){var r=this.createCoordinate();r.setCoordinate(this._coordinates[n]),e[n]=r}return new t(e,this._dimension,this._measures)}},{key:"toString",value:function(){if(this._coordinates.length>0){var e=new Qe(17*this._coordinates.length);e.append("("),e.append(this._coordinates[0]);for(var t=1;t<this._coordinates.length;t++)e.append(", "),e.append(this._coordinates[t]);return e.append(")"),e.toString()}return"()"}},{key:"getY",value:function(e){return this._coordinates[e].y}},{key:"toCoordinateArray",value:function(){return this._coordinates}},{key:"interfaces_",get:function(){return[ce,w]}}],[{key:"constructor_",value:function(){if(this._dimension=3,this._measures=0,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array){var e=arguments[0];t.constructor_.call(this,e,We.dimension(e),We.measures(e))}else if(Number.isInteger(arguments[0])){var n=arguments[0];this._coordinates=new Array(n).fill(null);for(var r=0;r<n;r++)this._coordinates[r]=new U}else if(ie(arguments[0],ce)){var i=arguments[0];if(null===i)return this._coordinates=new Array(0).fill(null),null;this._dimension=i.getDimension(),this._measures=i.getMeasures(),this._coordinates=new Array(i.size()).fill(null);for(var o=0;o<this._coordinates.length;o++)this._coordinates[o]=i.getCoordinateCopy(o)}}else if(2===arguments.length){if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var a=arguments[0],s=arguments[1];t.constructor_.call(this,a,s,We.measures(a))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var u=arguments[0],l=arguments[1];this._coordinates=new Array(u).fill(null),this._dimension=l;for(var c=0;c<u;c++)this._coordinates[c]=Xe.create(l)}}else if(3===arguments.length)if(Number.isInteger(arguments[2])&&arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var h=arguments[0],f=arguments[1],d=arguments[2];this._dimension=f,this._measures=d,this._coordinates=null===h?new Array(0).fill(null):h}else if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var p=arguments[0],g=arguments[1],v=arguments[2];this._coordinates=new Array(p).fill(null),this._dimension=g,this._measures=v;for(var y=0;y<p;y++)this._coordinates[y]=this.createCoordinate()}}}]),t}(),Je=function(){function t(){e(this,t)}return n(t,[{key:"readResolve",value:function(){return t.instance()}},{key:"create",value:function(){if(1===arguments.length){if(arguments[0]instanceof Array)return new Ke(arguments[0]);if(ie(arguments[0],ce))return new Ke(arguments[0])}else{if(2===arguments.length){var e=arguments[1];return e>3&&(e=3),e<2&&(e=2),new Ke(arguments[0],e)}if(3===arguments.length){var t=arguments[2],n=arguments[1]-t;return t>1&&(t=1),n>3&&(n=3),n<2&&(n=2),new Ke(arguments[0],n+t,t)}}}},{key:"interfaces_",get:function(){return[be,w]}}],[{key:"instance",value:function(){return t.instanceObject}}]),t}();Je.instanceObject=new Je;var et=function(t){r(a,t);var o=h(a);function a(){var t;return e(this,a),t=o.call(this),a.constructor_.apply(l(t),arguments),t}return n(a,[{key:"copyInternal",value:function(){for(var e=new Array(this._geometries.length).fill(null),t=0;t<e.length;t++)e[t]=this._geometries[t].copy();return new a(e,this._factory)}},{key:"equalsExact",value:function(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof H){var e=arguments[0],t=arguments[1];return!!this.isEquivalentClass(e)&&f(i(a.prototype),"equalsExact",this).call(this,e,t)}return f(i(a.prototype),"equalsExact",this).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return 1}},{key:"getTypeCode",value:function(){return H.TYPECODE_MULTIPOLYGON}},{key:"getDimension",value:function(){return 2}},{key:"getBoundary",value:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var e=new ge,t=0;t<this._geometries.length;t++)for(var n=this._geometries[t].getBoundary(),r=0;r<n.getNumGeometries();r++)e.add(n.getGeometryN(r));var i=new Array(e.size()).fill(null);return this.getFactory().createMultiLineString(e.toArray(i))}},{key:"getGeometryType",value:function(){return H.TYPENAME_MULTIPOLYGON}},{key:"interfaces_",get:function(){return[Ae]}}],[{key:"constructor_",value:function(){var e=arguments[0],t=arguments[1];Be.constructor_.call(this,e,t)}}]),a}(Be),tt=function(){function t(){e(this,t)}return n(t,[{key:"get",value:function(){}},{key:"put",value:function(){}},{key:"size",value:function(){}},{key:"values",value:function(){}},{key:"entrySet",value:function(){}}]),t}(),nt=function(t){r(o,t);var i=h(o);function o(){var t;return e(this,o),(t=i.call(this)).map=new Map,t}return n(o,[{key:"get",value:function(e){return this.map.get(e)||null}},{key:"put",value:function(e,t){return this.map.set(e,t),t}},{key:"values",value:function(){for(var e=new ge,t=this.map.values(),n=t.next();!n.done;)e.add(n.value),n=t.next();return e}},{key:"entrySet",value:function(){var e=new Q;return this.map.entries().forEach((function(t){return e.add(t)})),e}},{key:"size",value:function(){return this.map.size()}}]),o}(tt),rt=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"equals",value:function(e){if(!(e instanceof t))return!1;var n=e;return this._modelType===n._modelType&&this._scale===n._scale}},{key:"compareTo",value:function(e){var t=e,n=this.getMaximumSignificantDigits(),r=t.getMaximumSignificantDigits();return ae.compare(n,r)}},{key:"getScale",value:function(){return this._scale}},{key:"isFloating",value:function(){return this._modelType===t.FLOATING||this._modelType===t.FLOATING_SINGLE}},{key:"getType",value:function(){return this._modelType}},{key:"toString",value:function(){var e="UNKNOWN";return this._modelType===t.FLOATING?e="Floating":this._modelType===t.FLOATING_SINGLE?e="Floating-Single":this._modelType===t.FIXED&&(e="Fixed (Scale="+this.getScale()+")"),e}},{key:"makePrecise",value:function(){if("number"==typeof arguments[0]){var e=arguments[0];return O.isNaN(e)||this._modelType===t.FLOATING_SINGLE?e:this._modelType===t.FIXED?Math.round(e*this._scale)/this._scale:e}if(arguments[0]instanceof U){var n=arguments[0];if(this._modelType===t.FLOATING)return null;n.x=this.makePrecise(n.x),n.y=this.makePrecise(n.y)}}},{key:"getMaximumSignificantDigits",value:function(){var e=16;return this._modelType===t.FLOATING?e=16:this._modelType===t.FLOATING_SINGLE?e=6:this._modelType===t.FIXED&&(e=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),e}},{key:"setScale",value:function(e){this._scale=Math.abs(e)}},{key:"interfaces_",get:function(){return[w,x]}}],[{key:"constructor_",value:function(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=t.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof it){var e=arguments[0];this._modelType=e,e===t.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var n=arguments[0];this._modelType=t.FIXED,this.setScale(n)}else if(arguments[0]instanceof t){var r=arguments[0];this._modelType=r._modelType,this._scale=r._scale}}},{key:"mostPrecise",value:function(e,t){return e.compareTo(t)>=0?e:t}}]),t}(),it=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"readResolve",value:function(){return t.nameToTypeMap.get(this._name)}},{key:"toString",value:function(){return this._name}},{key:"interfaces_",get:function(){return[w]}}],[{key:"constructor_",value:function(){this._name=null;var e=arguments[0];this._name=e,t.nameToTypeMap.put(e,this)}}]),t}();it.nameToTypeMap=new nt,rt.Type=it,rt.FIXED=new it("FIXED"),rt.FLOATING=new it("FLOATING"),rt.FLOATING_SINGLE=new it("FLOATING SINGLE"),rt.maximumPreciseValue=9007199254740992;var ot=function(t){r(a,t);var o=h(a);function a(){var t;return e(this,a),t=o.call(this),a.constructor_.apply(l(t),arguments),t}return n(a,[{key:"copyInternal",value:function(){for(var e=new Array(this._geometries.length).fill(null),t=0;t<e.length;t++)e[t]=this._geometries[t].copy();return new a(e,this._factory)}},{key:"equalsExact",value:function(){if(2===arguments.length&&"number"==typeof arguments[1]&&arguments[0]instanceof H){var e=arguments[0],t=arguments[1];return!!this.isEquivalentClass(e)&&f(i(a.prototype),"equalsExact",this).call(this,e,t)}return f(i(a.prototype),"equalsExact",this).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return this.isClosed()?Ie.FALSE:0}},{key:"isClosed",value:function(){if(this.isEmpty())return!1;for(var e=0;e<this._geometries.length;e++)if(!this._geometries[e].isClosed())return!1;return!0}},{key:"getTypeCode",value:function(){return H.TYPECODE_MULTILINESTRING}},{key:"getDimension",value:function(){return 1}},{key:"getBoundary",value:function(){throw new $}},{key:"getGeometryType",value:function(){return H.TYPENAME_MULTILINESTRING}},{key:"interfaces_",get:function(){return[Ne]}}],[{key:"constructor_",value:function(){var e=arguments[0],t=arguments[1];Be.constructor_.call(this,e,t)}}]),a}(Be),at=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"createEmpty",value:function(e){switch(e){case-1:return this.createGeometryCollection();case 0:return this.createPoint();case 1:return this.createLineString();case 2:return this.createPolygon();default:throw new _("Invalid dimension: "+e)}}},{key:"toGeometry",value:function(e){return e.isNull()?this.createPoint():e.getMinX()===e.getMaxX()&&e.getMinY()===e.getMaxY()?this.createPoint(new U(e.getMinX(),e.getMinY())):e.getMinX()===e.getMaxX()||e.getMinY()===e.getMaxY()?this.createLineString([new U(e.getMinX(),e.getMinY()),new U(e.getMaxX(),e.getMaxY())]):this.createPolygon(this.createLinearRing([new U(e.getMinX(),e.getMinY()),new U(e.getMinX(),e.getMaxY()),new U(e.getMaxX(),e.getMaxY()),new U(e.getMaxX(),e.getMinY()),new U(e.getMinX(),e.getMinY())]),null)}},{key:"createLineString",value:function(){if(0===arguments.length)return this.createLineString(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var e=arguments[0];return this.createLineString(null!==e?this.getCoordinateSequenceFactory().create(e):null)}if(ie(arguments[0],ce))return new Le(arguments[0],this)}}},{key:"createMultiLineString",value:function(){return 0===arguments.length?new ot(null,this):1===arguments.length?new ot(arguments[0],this):void 0}},{key:"buildGeometry",value:function(e){for(var n=null,r=!1,i=!1,o=e.iterator();o.hasNext();){var a=o.next(),s=a.getTypeCode();null===n&&(n=s),s!==n&&(r=!0),a instanceof Be&&(i=!0)}if(null===n)return this.createGeometryCollection();if(r||i)return this.createGeometryCollection(t.toGeometryArray(e));var u=e.iterator().next();if(e.size()>1){if(u instanceof De)return this.createMultiPolygon(t.toPolygonArray(e));if(u instanceof Le)return this.createMultiLineString(t.toLineStringArray(e));if(u instanceof Pe)return this.createMultiPoint(t.toPointArray(e));z.shouldNeverReachHere("Unhandled geometry type: "+u.getGeometryType())}return u}},{key:"createMultiPointFromCoords",value:function(e){return this.createMultiPoint(null!==e?this.getCoordinateSequenceFactory().create(e):null)}},{key:"createPoint",value:function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof U){var e=arguments[0];return this.createPoint(null!==e?this.getCoordinateSequenceFactory().create([e]):null)}if(ie(arguments[0],ce))return new Pe(arguments[0],this)}}},{key:"getCoordinateSequenceFactory",value:function(){return this._coordinateSequenceFactory}},{key:"createPolygon",value:function(){if(0===arguments.length)return this.createPolygon(null,null);if(1===arguments.length){if(ie(arguments[0],ce)){var e=arguments[0];return this.createPolygon(this.createLinearRing(e))}if(arguments[0]instanceof Array){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}if(arguments[0]instanceof Ue){var n=arguments[0];return this.createPolygon(n,null)}}else if(2===arguments.length)return new De(arguments[0],arguments[1],this)}},{key:"getSRID",value:function(){return this._SRID}},{key:"createGeometryCollection",value:function(){return 0===arguments.length?new Be(null,this):1===arguments.length?new Be(arguments[0],this):void 0}},{key:"getPrecisionModel",value:function(){return this._precisionModel}},{key:"createLinearRing",value:function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var e=arguments[0];return this.createLinearRing(null!==e?this.getCoordinateSequenceFactory().create(e):null)}if(ie(arguments[0],ce))return new Ue(arguments[0],this)}}},{key:"createMultiPolygon",value:function(){return 0===arguments.length?new et(null,this):1===arguments.length?new et(arguments[0],this):void 0}},{key:"createMultiPoint",value:function(){if(0===arguments.length)return new qe(null,this);if(1===arguments.length){if(arguments[0]instanceof Array)return new qe(arguments[0],this);if(ie(arguments[0],ce)){var e=arguments[0];if(null===e)return this.createMultiPoint(new Array(0).fill(null));for(var t=new Array(e.size()).fill(null),n=0;n<e.size();n++){var r=this.getCoordinateSequenceFactory().create(1,e.getDimension(),e.getMeasures());Se.copy(e,n,r,0,1),t[n]=this.createPoint(r)}return this.createMultiPoint(t)}}}},{key:"interfaces_",get:function(){return[w]}}],[{key:"constructor_",value:function(){if(this._precisionModel=null,this._coordinateSequenceFactory=null,this._SRID=null,0===arguments.length)t.constructor_.call(this,new rt,0);else if(1===arguments.length){if(ie(arguments[0],be)){var e=arguments[0];t.constructor_.call(this,new rt,0,e)}else if(arguments[0]instanceof rt){var n=arguments[0];t.constructor_.call(this,n,0,t.getDefaultCoordinateSequenceFactory())}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];t.constructor_.call(this,r,i,t.getDefaultCoordinateSequenceFactory())}else if(3===arguments.length){var o=arguments[0],a=arguments[1],s=arguments[2];this._precisionModel=o,this._coordinateSequenceFactory=s,this._SRID=a}}},{key:"toMultiPolygonArray",value:function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)}},{key:"toGeometryArray",value:function(e){if(null===e)return null;var t=new Array(e.size()).fill(null);return e.toArray(t)}},{key:"getDefaultCoordinateSequenceFactory",value:function(){return Je.instance()}},{key:"toMultiLineStringArray",value:function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)}},{key:"toLineStringArray",value:function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)}},{key:"toMultiPointArray",value:function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)}},{key:"toLinearRingArray",value:function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)}},{key:"toPointArray",value:function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)}},{key:"toPolygonArray",value:function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)}},{key:"createPointFromInternalCoord",value:function(e,t){return t.getPrecisionModel().makePrecise(e),t.getFactory().createPoint(e)}}]),t}(),st="XY",ut="XYZ",lt="XYM",ct="XYZM",ht={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"},ft="EMPTY",dt=1,pt=2,gt=3,vt=4,yt=5,mt=6,_t={};for(var kt in ht)_t[kt]=ht[kt].toUpperCase();var xt=function(){function t(n){e(this,t),this.wkt=n,this.index_=-1}return n(t,[{key:"isAlpha_",value:function(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"}},{key:"isNumeric_",value:function(e,t){return e>="0"&&e<="9"||"."==e&&!(void 0!==t&&t)}},{key:"isWhiteSpace_",value:function(e){return" "==e||"\t"==e||"\r"==e||"\n"==e}},{key:"nextChar_",value:function(){return this.wkt.charAt(++this.index_)}},{key:"nextToken",value:function(){var e,t=this.nextChar_(),n=this.index_,r=t;if("("==t)e=pt;else if(","==t)e=yt;else if(")"==t)e=gt;else if(this.isNumeric_(t)||"-"==t)e=vt,r=this.readNumber_();else if(this.isAlpha_(t))e=dt,r=this.readText_();else{if(this.isWhiteSpace_(t))return this.nextToken();if(""!==t)throw new Error("Unexpected character: "+t);e=mt}return{position:n,value:r,type:e}}},{key:"readNumber_",value:function(){var e,t=this.index_,n=!1,r=!1;do{"."==e?n=!0:"e"!=e&&"E"!=e||(r=!0),e=this.nextChar_()}while(this.isNumeric_(e,n)||!r&&("e"==e||"E"==e)||r&&("-"==e||"+"==e));return parseFloat(this.wkt.substring(t,this.index_--))}},{key:"readText_",value:function(){var e,t=this.index_;do{e=this.nextChar_()}while(this.isAlpha_(e));return this.wkt.substring(t,this.index_--).toUpperCase()}}]),t}(),bt=function(){function t(n,r){e(this,t),this.lexer_=n,this.token_,this.layout_=st,this.factory=r}return n(t,[{key:"consume_",value:function(){this.token_=this.lexer_.nextToken()}},{key:"isTokenType",value:function(e){return this.token_.type==e}},{key:"match",value:function(e){var t=this.isTokenType(e);return t&&this.consume_(),t}},{key:"parse",value:function(){return this.consume_(),this.parseGeometry_()}},{key:"parseGeometryLayout_",value:function(){var e=st,t=this.token_;if(this.isTokenType(dt)){var n=t.value;"Z"===n?e=ut:"M"===n?e=lt:"ZM"===n&&(e=ct),e!==st&&this.consume_()}return e}},{key:"parseGeometryCollectionText_",value:function(){if(this.match(pt)){var e=[];do{e.push(this.parseGeometry_())}while(this.match(yt));if(this.match(gt))return e}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePointText_",value:function(){if(this.match(pt)){var e=this.parsePoint_();if(this.match(gt))return e}else if(this.isEmptyGeometry_())return null;throw new Error(this.formatErrorMessage_())}},{key:"parseLineStringText_",value:function(){if(this.match(pt)){var e=this.parsePointList_();if(this.match(gt))return e}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePolygonText_",value:function(){if(this.match(pt)){var e=this.parseLineStringTextList_();if(this.match(gt))return e}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiPointText_",value:function(){var e;if(this.match(pt)){if(e=this.token_.type==pt?this.parsePointTextList_():this.parsePointList_(),this.match(gt))return e}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiLineStringText_",value:function(){if(this.match(pt)){var e=this.parseLineStringTextList_();if(this.match(gt))return e}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiPolygonText_",value:function(){if(this.match(pt)){var e=this.parsePolygonTextList_();if(this.match(gt))return e}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePoint_",value:function(){for(var e=[],t=this.layout_.length,n=0;n<t;++n){var r=this.token_;if(!this.match(vt))break;e.push(r.value)}if(e.length==t)return e;throw new Error(this.formatErrorMessage_())}},{key:"parsePointList_",value:function(){for(var e=[this.parsePoint_()];this.match(yt);)e.push(this.parsePoint_());return e}},{key:"parsePointTextList_",value:function(){for(var e=[this.parsePointText_()];this.match(yt);)e.push(this.parsePointText_());return e}},{key:"parseLineStringTextList_",value:function(){for(var e=[this.parseLineStringText_()];this.match(yt);)e.push(this.parseLineStringText_());return e}},{key:"parsePolygonTextList_",value:function(){for(var e=[this.parsePolygonText_()];this.match(yt);)e.push(this.parsePolygonText_());return e}},{key:"isEmptyGeometry_",value:function(){var e=this.isTokenType(dt)&&this.token_.value==ft;return e&&this.consume_(),e}},{key:"formatErrorMessage_",value:function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"}},{key:"parseGeometry_",value:function(){var e=this.factory,t=function(e){return s(U,d(e))},n=function(n){var r=n.map((function(n){return e.createLinearRing(n.map(t))}));return r.length>1?e.createPolygon(r[0],r.slice(1)):e.createPolygon(r[0])},r=this.token_;if(this.match(dt)){var i=r.value;if(this.layout_=this.parseGeometryLayout_(),"GEOMETRYCOLLECTION"==i){var o=this.parseGeometryCollectionText_();return e.createGeometryCollection(o)}switch(i){case"POINT":var a=this.parsePointText_();return a?e.createPoint(s(U,d(a))):e.createPoint();case"LINESTRING":var u=this.parseLineStringText_().map(t);return e.createLineString(u);case"LINEARRING":var l=this.parseLineStringText_().map(t);return e.createLinearRing(l);case"POLYGON":var c=this.parsePolygonText_();return c&&0!==c.length?n(c):e.createPolygon();case"MULTIPOINT":var h=this.parseMultiPointText_();if(!h||0===h.length)return e.createMultiPoint();var f=h.map(t).map((function(t){return e.createPoint(t)}));return e.createMultiPoint(f);case"MULTILINESTRING":var p=this.parseMultiLineStringText_().map((function(n){return e.createLineString(n.map(t))}));return e.createMultiLineString(p);case"MULTIPOLYGON":var g=this.parseMultiPolygonText_();if(!g||0===g.length)return e.createMultiPolygon();var v=g.map(n);return e.createMultiPolygon(v);default:throw new Error("Invalid geometry type: "+i)}}throw new Error(this.formatErrorMessage_())}}]),t}();function wt(e){if(e.isEmpty())return"";var t=e.getCoordinate(),n=[t.x,t.y];return void 0===t.z||Number.isNaN(t.z)||n.push(t.z),void 0===t.m||Number.isNaN(t.m)||n.push(t.m),n.join(" ")}function Et(e){for(var t=e.getCoordinates().map((function(e){var t=[e.x,e.y];return void 0===e.z||Number.isNaN(e.z)||t.push(e.z),void 0===e.m||Number.isNaN(e.m)||t.push(e.m),t})),n=[],r=0,i=t.length;r<i;++r)n.push(t[r].join(" "));return n.join(", ")}function Nt(e){var t=[];t.push("("+Et(e.getExteriorRing())+")");for(var n=0,r=e.getNumInteriorRing();n<r;++n)t.push("("+Et(e.getInteriorRingN(n))+")");return t.join(", ")}var St={Point:wt,LineString:Et,LinearRing:Et,Polygon:Nt,MultiPoint:function(e){for(var t=[],n=0,r=e.getNumGeometries();n<r;++n)t.push("("+wt(e.getGeometryN(n))+")");return t.join(", ")},MultiLineString:function(e){for(var t=[],n=0,r=e.getNumGeometries();n<r;++n)t.push("("+Et(e.getGeometryN(n))+")");return t.join(", ")},MultiPolygon:function(e){for(var t=[],n=0,r=e.getNumGeometries();n<r;++n)t.push("("+Nt(e.getGeometryN(n))+")");return t.join(", ")},GeometryCollection:function(e){for(var t=[],n=0,r=e.getNumGeometries();n<r;++n)t.push(It(e.getGeometryN(n)));return t.join(", ")}};function It(e){var t=e.getGeometryType(),n=St[t];t=t.toUpperCase();var r=function(e){var t="";if(e.isEmpty())return t;var n=e.getCoordinate();return void 0===n.z||Number.isNaN(n.z)||(t+="Z"),void 0===n.m||Number.isNaN(n.m)||(t+="M"),t}(e);return r.length>0&&(t+=" "+r),e.isEmpty()?t+" "+ft:t+" ("+n(e)+")"}var Ct=function(){function t(n){e(this,t),this.geometryFactory=n||new at,this.precisionModel=this.geometryFactory.getPrecisionModel()}return n(t,[{key:"read",value:function(e){var t=new xt(e);return new bt(t,this.geometryFactory).parse()}},{key:"write",value:function(e){return It(e)}}]),t}(),Tt=function(){function t(n){e(this,t),this.parser=new Ct(n)}return n(t,[{key:"write",value:function(e){return this.parser.write(e)}}],[{key:"toLineString",value:function(e,t){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+e.x+" "+e.y+", "+t.x+" "+t.y+" )"}}]),t}(),Lt=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"getIndexAlongSegment",value:function(e,t){return this.computeIntLineIndex(),this._intLineIndex[e][t]}},{key:"getTopologySummary",value:function(){var e=new Qe;return this.isEndPoint()&&e.append(" endpoint"),this._isProper&&e.append(" proper"),this.isCollinear()&&e.append(" collinear"),e.toString()}},{key:"computeIntersection",value:function(e,t,n,r){this._inputLines[0][0]=e,this._inputLines[0][1]=t,this._inputLines[1][0]=n,this._inputLines[1][1]=r,this._result=this.computeIntersect(e,t,n,r)}},{key:"getIntersectionNum",value:function(){return this._result}},{key:"computeIntLineIndex",value:function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map((function(){return Array(2)})),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var e=arguments[0];this.getEdgeDistance(e,0)>this.getEdgeDistance(e,1)?(this._intLineIndex[e][0]=0,this._intLineIndex[e][1]=1):(this._intLineIndex[e][0]=1,this._intLineIndex[e][1]=0)}}},{key:"isProper",value:function(){return this.hasIntersection()&&this._isProper}},{key:"setPrecisionModel",value:function(e){this._precisionModel=e}},{key:"isInteriorIntersection",value:function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var e=arguments[0],t=0;t<this._result;t++)if(!this._intPt[t].equals2D(this._inputLines[e][0])&&!this._intPt[t].equals2D(this._inputLines[e][1]))return!0;return!1}}},{key:"getIntersection",value:function(e){return this._intPt[e]}},{key:"isEndPoint",value:function(){return this.hasIntersection()&&!this._isProper}},{key:"hasIntersection",value:function(){return this._result!==t.NO_INTERSECTION}},{key:"getEdgeDistance",value:function(e,n){return t.computeEdgeDistance(this._intPt[n],this._inputLines[e][0],this._inputLines[e][1])}},{key:"isCollinear",value:function(){return this._result===t.COLLINEAR_INTERSECTION}},{key:"toString",value:function(){return Tt.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+Tt.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()}},{key:"getEndpoint",value:function(e,t){return this._inputLines[e][t]}},{key:"isIntersection",value:function(e){for(var t=0;t<this._result;t++)if(this._intPt[t].equals2D(e))return!0;return!1}},{key:"getIntersectionAlongSegment",value:function(e,t){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[e][t]]}}],[{key:"constructor_",value:function(){this._result=null,this._inputLines=Array(2).fill().map((function(){return Array(2)})),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new U,this._intPt[1]=new U,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0}},{key:"computeEdgeDistance",value:function(e,t,n){var r=Math.abs(n.x-t.x),i=Math.abs(n.y-t.y),o=-1;if(e.equals(t))o=0;else if(e.equals(n))o=r>i?r:i;else{var a=Math.abs(e.x-t.x),s=Math.abs(e.y-t.y);0!==(o=r>i?a:s)||e.equals(t)||(o=Math.max(a,s))}return z.isTrue(!(0===o&&!e.equals(t)),"Bad distance calculation"),o}},{key:"nonRobustComputeEdgeDistance",value:function(e,t,n){var r=e.x-t.x,i=e.y-t.y,o=Math.sqrt(r*r+i*i);return z.isTrue(!(0===o&&!e.equals(t)),"Invalid distance calculation"),o}}]),t}();Lt.DONT_INTERSECT=0,Lt.DO_INTERSECT=1,Lt.COLLINEAR=2,Lt.NO_INTERSECTION=0,Lt.POINT_INTERSECTION=1,Lt.COLLINEAR_INTERSECTION=2;var Rt=function(t){r(a,t);var o=h(a);function a(){return e(this,a),o.call(this)}return n(a,[{key:"isInSegmentEnvelopes",value:function(e){var t=new Y(this._inputLines[0][0],this._inputLines[0][1]),n=new Y(this._inputLines[1][0],this._inputLines[1][1]);return t.contains(e)&&n.contains(e)}},{key:"computeIntersection",value:function(){if(3!==arguments.length)return f(i(a.prototype),"computeIntersection",this).apply(this,arguments);var e=arguments[0],t=arguments[1],n=arguments[2];if(this._isProper=!1,Y.intersects(t,n,e)&&0===he.index(t,n,e)&&0===he.index(n,t,e))return this._isProper=!0,(e.equals(t)||e.equals(n))&&(this._isProper=!1),this._result=Lt.POINT_INTERSECTION,null;this._result=Lt.NO_INTERSECTION}},{key:"intersection",value:function(e,t,n,r){var i=this.intersectionSafe(e,t,n,r);return this.isInSegmentEnvelopes(i)||(i=new U(a.nearestEndpoint(e,t,n,r))),null!==this._precisionModel&&this._precisionModel.makePrecise(i),i}},{key:"checkDD",value:function(e,t,n,r,i){var o=le.intersection(e,t,n,r),a=this.isInSegmentEnvelopes(o);_e.out.println("DD in env = "+a+"  --------------------- "+o),i.distance(o)>1e-4&&_e.out.println("Distance = "+i.distance(o))}},{key:"intersectionSafe",value:function(e,t,n,r){var i=me.intersection(e,t,n,r);return null===i&&(i=a.nearestEndpoint(e,t,n,r)),i}},{key:"computeCollinearIntersection",value:function(e,t,n,r){var i=Y.intersects(e,t,n),o=Y.intersects(e,t,r),a=Y.intersects(n,r,e),s=Y.intersects(n,r,t);return i&&o?(this._intPt[0]=n,this._intPt[1]=r,Lt.COLLINEAR_INTERSECTION):a&&s?(this._intPt[0]=e,this._intPt[1]=t,Lt.COLLINEAR_INTERSECTION):i&&a?(this._intPt[0]=n,this._intPt[1]=e,!n.equals(e)||o||s?Lt.COLLINEAR_INTERSECTION:Lt.POINT_INTERSECTION):i&&s?(this._intPt[0]=n,this._intPt[1]=t,!n.equals(t)||o||a?Lt.COLLINEAR_INTERSECTION:Lt.POINT_INTERSECTION):o&&a?(this._intPt[0]=r,this._intPt[1]=e,!r.equals(e)||i||s?Lt.COLLINEAR_INTERSECTION:Lt.POINT_INTERSECTION):o&&s?(this._intPt[0]=r,this._intPt[1]=t,!r.equals(t)||i||a?Lt.COLLINEAR_INTERSECTION:Lt.POINT_INTERSECTION):Lt.NO_INTERSECTION}},{key:"computeIntersect",value:function(e,t,n,r){if(this._isProper=!1,!Y.intersects(e,t,n,r))return Lt.NO_INTERSECTION;var i=he.index(e,t,n),o=he.index(e,t,r);if(i>0&&o>0||i<0&&o<0)return Lt.NO_INTERSECTION;var a=he.index(n,r,e),s=he.index(n,r,t);return a>0&&s>0||a<0&&s<0?Lt.NO_INTERSECTION:0===i&&0===o&&0===a&&0===s?this.computeCollinearIntersection(e,t,n,r):(0===i||0===o||0===a||0===s?(this._isProper=!1,e.equals2D(n)||e.equals2D(r)?this._intPt[0]=e:t.equals2D(n)||t.equals2D(r)?this._intPt[0]=t:0===i?this._intPt[0]=new U(n):0===o?this._intPt[0]=new U(r):0===a?this._intPt[0]=new U(e):0===s&&(this._intPt[0]=new U(t))):(this._isProper=!0,this._intPt[0]=this.intersection(e,t,n,r)),Lt.POINT_INTERSECTION)}}],[{key:"nearestEndpoint",value:function(e,t,n,r){var i=e,o=xe.pointToSegment(e,n,r),a=xe.pointToSegment(t,n,r);return a<o&&(o=a,i=t),(a=xe.pointToSegment(n,e,t))<o&&(o=a,i=n),(a=xe.pointToSegment(r,e,t))<o&&(o=a,i=r),i}}]),a}(Lt),Pt=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"countSegment",value:function(e,t){if(e.x<this._p.x&&t.x<this._p.x)return null;if(this._p.x===t.x&&this._p.y===t.y)return this._isPointOnSegment=!0,null;if(e.y===this._p.y&&t.y===this._p.y){var n=e.x,r=t.x;return n>r&&(n=t.x,r=e.x),this._p.x>=n&&this._p.x<=r&&(this._isPointOnSegment=!0),null}if(e.y>this._p.y&&t.y<=this._p.y||t.y>this._p.y&&e.y<=this._p.y){var i=he.index(e,t,this._p);if(i===he.COLLINEAR)return this._isPointOnSegment=!0,null;t.y<e.y&&(i=-i),i===he.LEFT&&this._crossingCount++}}},{key:"isPointInPolygon",value:function(){return this.getLocation()!==X.EXTERIOR}},{key:"getLocation",value:function(){return this._isPointOnSegment?X.BOUNDARY:this._crossingCount%2==1?X.INTERIOR:X.EXTERIOR}},{key:"isOnSegment",value:function(){return this._isPointOnSegment}}],[{key:"constructor_",value:function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var e=arguments[0];this._p=e}},{key:"locatePointInRing",value:function(){if(arguments[0]instanceof U&&ie(arguments[1],ce)){for(var e=arguments[1],n=new t(arguments[0]),r=new U,i=new U,o=1;o<e.size();o++)if(e.getCoordinate(o,r),e.getCoordinate(o-1,i),n.countSegment(r,i),n.isOnSegment())return n.getLocation();return n.getLocation()}if(arguments[0]instanceof U&&arguments[1]instanceof Array){for(var a=arguments[1],s=new t(arguments[0]),u=1;u<a.length;u++){var l=a[u],c=a[u-1];if(s.countSegment(l,c),s.isOnSegment())return s.getLocation()}return s.getLocation()}}}]),t}(),Mt=function(){function t(){e(this,t)}return n(t,null,[{key:"isOnLine",value:function(){if(arguments[0]instanceof U&&ie(arguments[1],ce)){for(var e=arguments[0],t=arguments[1],n=new Rt,r=new U,i=new U,o=t.size(),a=1;a<o;a++)if(t.getCoordinate(a-1,r),t.getCoordinate(a,i),n.computeIntersection(e,r,i),n.hasIntersection())return!0;return!1}if(arguments[0]instanceof U&&arguments[1]instanceof Array){for(var s=arguments[0],u=arguments[1],l=new Rt,c=1;c<u.length;c++){var h=u[c-1],f=u[c];if(l.computeIntersection(s,h,f),l.hasIntersection())return!0}return!1}}},{key:"locateInRing",value:function(e,t){return Pt.locatePointInRing(e,t)}},{key:"isInRing",value:function(e,n){return t.locateInRing(e,n)!==X.EXTERIOR}}]),t}(),Ot=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"setAllLocations",value:function(e){for(var t=0;t<this.location.length;t++)this.location[t]=e}},{key:"isNull",value:function(){for(var e=0;e<this.location.length;e++)if(this.location[e]!==X.NONE)return!1;return!0}},{key:"setAllLocationsIfNull",value:function(e){for(var t=0;t<this.location.length;t++)this.location[t]===X.NONE&&(this.location[t]=e)}},{key:"isLine",value:function(){return 1===this.location.length}},{key:"merge",value:function(e){if(e.location.length>this.location.length){var t=new Array(3).fill(null);t[J.ON]=this.location[J.ON],t[J.LEFT]=X.NONE,t[J.RIGHT]=X.NONE,this.location=t}for(var n=0;n<this.location.length;n++)this.location[n]===X.NONE&&n<e.location.length&&(this.location[n]=e.location[n])}},{key:"getLocations",value:function(){return this.location}},{key:"flip",value:function(){if(this.location.length<=1)return null;var e=this.location[J.LEFT];this.location[J.LEFT]=this.location[J.RIGHT],this.location[J.RIGHT]=e}},{key:"toString",value:function(){var e=new oe;return this.location.length>1&&e.append(X.toLocationSymbol(this.location[J.LEFT])),e.append(X.toLocationSymbol(this.location[J.ON])),this.location.length>1&&e.append(X.toLocationSymbol(this.location[J.RIGHT])),e.toString()}},{key:"setLocations",value:function(e,t,n){this.location[J.ON]=e,this.location[J.LEFT]=t,this.location[J.RIGHT]=n}},{key:"get",value:function(e){return e<this.location.length?this.location[e]:X.NONE}},{key:"isArea",value:function(){return this.location.length>1}},{key:"isAnyNull",value:function(){for(var e=0;e<this.location.length;e++)if(this.location[e]===X.NONE)return!0;return!1}},{key:"setLocation",value:function(){if(1===arguments.length){var e=arguments[0];this.setLocation(J.ON,e)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];this.location[t]=n}}},{key:"init",value:function(e){this.location=new Array(e).fill(null),this.setAllLocations(X.NONE)}},{key:"isEqualOnSide",value:function(e,t){return this.location[t]===e.location[t]}},{key:"allPositionsEqual",value:function(e){for(var t=0;t<this.location.length;t++)if(this.location[t]!==e)return!1;return!0}}],[{key:"constructor_",value:function(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array){var e=arguments[0];this.init(e.length)}else if(Number.isInteger(arguments[0])){var n=arguments[0];this.init(1),this.location[J.ON]=n}else if(arguments[0]instanceof t){var r=arguments[0];if(this.init(r.location.length),null!==r)for(var i=0;i<this.location.length;i++)this.location[i]=r.location[i]}}else if(3===arguments.length){var o=arguments[0],a=arguments[1],s=arguments[2];this.init(3),this.location[J.ON]=o,this.location[J.LEFT]=a,this.location[J.RIGHT]=s}}}]),t}(),At=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"getGeometryCount",value:function(){var e=0;return this.elt[0].isNull()||e++,this.elt[1].isNull()||e++,e}},{key:"setAllLocations",value:function(e,t){this.elt[e].setAllLocations(t)}},{key:"isNull",value:function(e){return this.elt[e].isNull()}},{key:"setAllLocationsIfNull",value:function(){if(1===arguments.length){var e=arguments[0];this.setAllLocationsIfNull(0,e),this.setAllLocationsIfNull(1,e)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];this.elt[t].setAllLocationsIfNull(n)}}},{key:"isLine",value:function(e){return this.elt[e].isLine()}},{key:"merge",value:function(e){for(var t=0;t<2;t++)null===this.elt[t]&&null!==e.elt[t]?this.elt[t]=new Ot(e.elt[t]):this.elt[t].merge(e.elt[t])}},{key:"flip",value:function(){this.elt[0].flip(),this.elt[1].flip()}},{key:"getLocation",value:function(){if(1===arguments.length){var e=arguments[0];return this.elt[e].get(J.ON)}if(2===arguments.length){var t=arguments[0],n=arguments[1];return this.elt[t].get(n)}}},{key:"toString",value:function(){var e=new oe;return null!==this.elt[0]&&(e.append("A:"),e.append(this.elt[0].toString())),null!==this.elt[1]&&(e.append(" B:"),e.append(this.elt[1].toString())),e.toString()}},{key:"isArea",value:function(){if(0===arguments.length)return this.elt[0].isArea()||this.elt[1].isArea();if(1===arguments.length){var e=arguments[0];return this.elt[e].isArea()}}},{key:"isAnyNull",value:function(e){return this.elt[e].isAnyNull()}},{key:"setLocation",value:function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];this.elt[e].setLocation(J.ON,t)}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this.elt[n].setLocation(r,i)}}},{key:"isEqualOnSide",value:function(e,t){return this.elt[0].isEqualOnSide(e.elt[0],t)&&this.elt[1].isEqualOnSide(e.elt[1],t)}},{key:"allPositionsEqual",value:function(e,t){return this.elt[e].allPositionsEqual(t)}},{key:"toLine",value:function(e){this.elt[e].isArea()&&(this.elt[e]=new Ot(this.elt[e].location[0]))}}],[{key:"constructor_",value:function(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var e=arguments[0];this.elt[0]=new Ot(e),this.elt[1]=new Ot(e)}else if(arguments[0]instanceof t){var n=arguments[0];this.elt[0]=new Ot(n.elt[0]),this.elt[1]=new Ot(n.elt[1])}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.elt[0]=new Ot(X.NONE),this.elt[1]=new Ot(X.NONE),this.elt[r].setLocation(i)}else if(3===arguments.length){var o=arguments[0],a=arguments[1],s=arguments[2];this.elt[0]=new Ot(o,a,s),this.elt[1]=new Ot(o,a,s)}else if(4===arguments.length){var u=arguments[0],l=arguments[1],c=arguments[2],h=arguments[3];this.elt[0]=new Ot(X.NONE,X.NONE,X.NONE),this.elt[1]=new Ot(X.NONE,X.NONE,X.NONE),this.elt[u].setLocations(l,c,h)}}},{key:"toLineLabel",value:function(e){for(var n=new t(X.NONE),r=0;r<2;r++)n.setLocation(r,e.getLocation(r));return n}}]),t}(),Dt=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"computeRing",value:function(){if(null!==this._ring)return null;for(var e=new Array(this._pts.size()).fill(null),t=0;t<this._pts.size();t++)e[t]=this._pts.get(t);this._ring=this._geometryFactory.createLinearRing(e),this._isHole=he.isCCW(this._ring.getCoordinates())}},{key:"isIsolated",value:function(){return 1===this._label.getGeometryCount()}},{key:"computePoints",value:function(e){this._startDe=e;var t=e,n=!0;do{if(null===t)throw new de("Found null DirectedEdge");if(t.getEdgeRing()===this)throw new de("Directed Edge visited twice during ring-building at "+t.getCoordinate());this._edges.add(t);var r=t.getLabel();z.isTrue(r.isArea()),this.mergeLabel(r),this.addPoints(t.getEdge(),t.isForward(),n),n=!1,this.setEdgeRing(t,this),t=this.getNext(t)}while(t!==this._startDe)}},{key:"getLinearRing",value:function(){return this._ring}},{key:"getCoordinate",value:function(e){return this._pts.get(e)}},{key:"computeMaxNodeDegree",value:function(){this._maxNodeDegree=0;var e=this._startDe;do{var t=e.getNode().getEdges().getOutgoingDegree(this);t>this._maxNodeDegree&&(this._maxNodeDegree=t),e=this.getNext(e)}while(e!==this._startDe);this._maxNodeDegree*=2}},{key:"addPoints",value:function(e,t,n){var r=e.getCoordinates();if(t){var i=1;n&&(i=0);for(var o=i;o<r.length;o++)this._pts.add(r[o])}else{var a=r.length-2;n&&(a=r.length-1);for(var s=a;s>=0;s--)this._pts.add(r[s])}}},{key:"isHole",value:function(){return this._isHole}},{key:"setInResult",value:function(){var e=this._startDe;do{e.getEdge().setInResult(!0),e=e.getNext()}while(e!==this._startDe)}},{key:"containsPoint",value:function(e){var t=this.getLinearRing();if(!t.getEnvelopeInternal().contains(e))return!1;if(!Mt.isInRing(e,t.getCoordinates()))return!1;for(var n=this._holes.iterator();n.hasNext();)if(n.next().containsPoint(e))return!1;return!0}},{key:"addHole",value:function(e){this._holes.add(e)}},{key:"isShell",value:function(){return null===this._shell}},{key:"getLabel",value:function(){return this._label}},{key:"getEdges",value:function(){return this._edges}},{key:"getMaxNodeDegree",value:function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree}},{key:"getShell",value:function(){return this._shell}},{key:"mergeLabel",value:function(){if(1===arguments.length){var e=arguments[0];this.mergeLabel(e,0),this.mergeLabel(e,1)}else if(2===arguments.length){var t=arguments[1],n=arguments[0].getLocation(t,J.RIGHT);if(n===X.NONE)return null;if(this._label.getLocation(t)===X.NONE)return this._label.setLocation(t,n),null}}},{key:"setShell",value:function(e){this._shell=e,null!==e&&e.addHole(this)}},{key:"toPolygon",value:function(e){for(var t=new Array(this._holes.size()).fill(null),n=0;n<this._holes.size();n++)t[n]=this._holes.get(n).getLinearRing();return e.createPolygon(this.getLinearRing(),t)}}],[{key:"constructor_",value:function(){if(this._startDe=null,this._maxNodeDegree=-1,this._edges=new ge,this._pts=new ge,this._label=new At(X.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new ge,this._geometryFactory=null,0===arguments.length);else if(2===arguments.length){var e=arguments[0],t=arguments[1];this._geometryFactory=t,this.computePoints(e),this.computeRing()}}}]),t}(),Ft=function(t){r(o,t);var i=h(o);function o(){var t;return e(this,o),t=i.call(this),o.constructor_.apply(l(t),arguments),t}return n(o,[{key:"setEdgeRing",value:function(e,t){e.setMinEdgeRing(t)}},{key:"getNext",value:function(e){return e.getNextMin()}}],[{key:"constructor_",value:function(){var e=arguments[0],t=arguments[1];Dt.constructor_.call(this,e,t)}}]),o}(Dt),zt=function(t){r(o,t);var i=h(o);function o(){var t;return e(this,o),t=i.call(this),o.constructor_.apply(l(t),arguments),t}return n(o,[{key:"buildMinimalRings",value:function(){var e=new ge,t=this._startDe;do{if(null===t.getMinEdgeRing()){var n=new Ft(t,this._geometryFactory);e.add(n)}t=t.getNext()}while(t!==this._startDe);return e}},{key:"setEdgeRing",value:function(e,t){e.setEdgeRing(t)}},{key:"linkDirectedEdgesForMinimalEdgeRings",value:function(){var e=this._startDe;do{e.getNode().getEdges().linkMinimalDirectedEdges(this),e=e.getNext()}while(e!==this._startDe)}},{key:"getNext",value:function(e){return e.getNext()}}],[{key:"constructor_",value:function(){var e=arguments[0],t=arguments[1];Dt.constructor_.call(this,e,t)}}]),o}(Dt),jt=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"setVisited",value:function(e){this._isVisited=e}},{key:"setInResult",value:function(e){this._isInResult=e}},{key:"isCovered",value:function(){return this._isCovered}},{key:"isCoveredSet",value:function(){return this._isCoveredSet}},{key:"setLabel",value:function(e){this._label=e}},{key:"getLabel",value:function(){return this._label}},{key:"setCovered",value:function(e){this._isCovered=e,this._isCoveredSet=!0}},{key:"updateIM",value:function(e){z.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(e)}},{key:"isInResult",value:function(){return this._isInResult}},{key:"isVisited",value:function(){return this._isVisited}}],[{key:"constructor_",value:function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0===arguments.length);else if(1===arguments.length){var e=arguments[0];this._label=e}}}]),t}(),Bt=function(t){r(a,t);var o=h(a);function a(){var t;return e(this,a),t=o.call(this),a.constructor_.apply(l(t),arguments),t}return n(a,[{key:"isIncidentEdgeInResult",value:function(){for(var e=this.getEdges().getEdges().iterator();e.hasNext();)if(e.next().getEdge().isInResult())return!0;return!1}},{key:"isIsolated",value:function(){return 1===this._label.getGeometryCount()}},{key:"getCoordinate",value:function(){return this._coord}},{key:"print",value:function(e){e.println("node "+this._coord+" lbl: "+this._label)}},{key:"computeIM",value:function(e){}},{key:"computeMergedLocation",value:function(e,t){var n=X.NONE;if(n=this._label.getLocation(t),!e.isNull(t)){var r=e.getLocation(t);n!==X.BOUNDARY&&(n=r)}return n}},{key:"setLabel",value:function(){if(2!==arguments.length||!Number.isInteger(arguments[1])||!Number.isInteger(arguments[0]))return f(i(a.prototype),"setLabel",this).apply(this,arguments);var e=arguments[0],t=arguments[1];null===this._label?this._label=new At(e,t):this._label.setLocation(e,t)}},{key:"getEdges",value:function(){return this._edges}},{key:"mergeLabel",value:function(){if(arguments[0]instanceof a){var e=arguments[0];this.mergeLabel(e._label)}else if(arguments[0]instanceof At)for(var t=arguments[0],n=0;n<2;n++){var r=this.computeMergedLocation(t,n);this._label.getLocation(n)===X.NONE&&this._label.setLocation(n,r)}}},{key:"add",value:function(e){this._edges.insert(e),e.setNode(this)}},{key:"setLabelBoundary",value:function(e){if(null===this._label)return null;var t=X.NONE;null!==this._label&&(t=this._label.getLocation(e));var n=null;switch(t){case X.BOUNDARY:n=X.INTERIOR;break;case X.INTERIOR:default:n=X.BOUNDARY}this._label.setLocation(e,n)}}],[{key:"constructor_",value:function(){this._coord=null,this._edges=null;var e=arguments[0],t=arguments[1];this._coord=e,this._edges=t,this._label=new At(0,X.NONE)}}]),a}(jt),qt=function(t){r(i,t);var n=h(i);function i(){return e(this,i),n.apply(this,arguments)}return i}(tt);function Ut(e){return null==e?0:e.color}function Gt(e){return null==e?null:e.parent}function Yt(e,t){null!==e&&(e.color=t)}function Ht(e){return null==e?null:e.left}function Xt(e){return null==e?null:e.right}var Vt=function(t){r(o,t);var i=h(o);function o(){var t;return e(this,o),(t=i.call(this)).root_=null,t.size_=0,t}return n(o,[{key:"get",value:function(e){for(var t=this.root_;null!==t;){var n=e.compareTo(t.key);if(n<0)t=t.left;else{if(!(n>0))return t.value;t=t.right}}return null}},{key:"put",value:function(e,t){if(null===this.root_)return this.root_={key:e,value:t,left:null,right:null,parent:null,color:0,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var n,r,i=this.root_;do{if(n=i,(r=e.compareTo(i.key))<0)i=i.left;else{if(!(r>0)){var o=i.value;return i.value=t,o}i=i.right}}while(null!==i);var a={key:e,left:null,right:null,value:t,parent:n,color:0,getValue:function(){return this.value},getKey:function(){return this.key}};return r<0?n.left=a:n.right=a,this.fixAfterInsertion(a),this.size_++,null}},{key:"fixAfterInsertion",value:function(e){var t;for(e.color=1;null!=e&&e!==this.root_&&1===e.parent.color;)Gt(e)===Ht(Gt(Gt(e)))?1===Ut(t=Xt(Gt(Gt(e))))?(Yt(Gt(e),0),Yt(t,0),Yt(Gt(Gt(e)),1),e=Gt(Gt(e))):(e===Xt(Gt(e))&&(e=Gt(e),this.rotateLeft(e)),Yt(Gt(e),0),Yt(Gt(Gt(e)),1),this.rotateRight(Gt(Gt(e)))):1===Ut(t=Ht(Gt(Gt(e))))?(Yt(Gt(e),0),Yt(t,0),Yt(Gt(Gt(e)),1),e=Gt(Gt(e))):(e===Ht(Gt(e))&&(e=Gt(e),this.rotateRight(e)),Yt(Gt(e),0),Yt(Gt(Gt(e)),1),this.rotateLeft(Gt(Gt(e))));this.root_.color=0}},{key:"values",value:function(){var e=new ge,t=this.getFirstEntry();if(null!==t)for(e.add(t.value);null!==(t=o.successor(t));)e.add(t.value);return e}},{key:"entrySet",value:function(){var e=new Q,t=this.getFirstEntry();if(null!==t)for(e.add(t);null!==(t=o.successor(t));)e.add(t);return e}},{key:"rotateLeft",value:function(e){if(null!=e){var t=e.right;e.right=t.left,null!=t.left&&(t.left.parent=e),t.parent=e.parent,null==e.parent?this.root_=t:e.parent.left===e?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t}}},{key:"rotateRight",value:function(e){if(null!=e){var t=e.left;e.left=t.right,null!=t.right&&(t.right.parent=e),t.parent=e.parent,null==e.parent?this.root_=t:e.parent.right===e?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t}}},{key:"getFirstEntry",value:function(){var e=this.root_;if(null!=e)for(;null!=e.left;)e=e.left;return e}},{key:"size",value:function(){return this.size_}},{key:"containsKey",value:function(e){for(var t=this.root_;null!==t;){var n=e.compareTo(t.key);if(n<0)t=t.left;else{if(!(n>0))return!0;t=t.right}}return!1}}],[{key:"successor",value:function(e){var t;if(null===e)return null;if(null!==e.right){for(t=e.right;null!==t.left;)t=t.left;return t}t=e.parent;for(var n=e;null!==t&&n===t.right;)n=t,t=t.parent;return t}}]),o}(qt),Wt=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"find",value:function(e){return this.nodeMap.get(e)}},{key:"addNode",value:function(){if(arguments[0]instanceof U){var e=arguments[0],t=this.nodeMap.get(e);return null===t&&(t=this.nodeFact.createNode(e),this.nodeMap.put(e,t)),t}if(arguments[0]instanceof Bt){var n=arguments[0],r=this.nodeMap.get(n.getCoordinate());return null===r?(this.nodeMap.put(n.getCoordinate(),n),n):(r.mergeLabel(n),r)}}},{key:"print",value:function(e){for(var t=this.iterator();t.hasNext();)t.next().print(e)}},{key:"iterator",value:function(){return this.nodeMap.values().iterator()}},{key:"values",value:function(){return this.nodeMap.values()}},{key:"getBoundaryNodes",value:function(e){for(var t=new ge,n=this.iterator();n.hasNext();){var r=n.next();r.getLabel().getLocation(e)===X.BOUNDARY&&t.add(r)}return t}},{key:"add",value:function(e){var t=e.getCoordinate();this.addNode(t).add(e)}}],[{key:"constructor_",value:function(){this.nodeMap=new Vt,this.nodeFact=null;var e=arguments[0];this.nodeFact=e}}]),t}(),$t=function(){function t(){e(this,t)}return n(t,null,[{key:"isNorthern",value:function(e){return e===t.NE||e===t.NW}},{key:"isOpposite",value:function(e,t){return e!==t&&2===(e-t+4)%4}},{key:"commonHalfPlane",value:function(e,t){if(e===t)return e;if(2===(e-t+4)%4)return-1;var n=e<t?e:t;return 0===n&&3===(e>t?e:t)?3:n}},{key:"isInHalfPlane",value:function(e,n){return n===t.SE?e===t.SE||e===t.SW:e===n||e===n+1}},{key:"quadrant",value:function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var e=arguments[0],n=arguments[1];if(0===e&&0===n)throw new _("Cannot compute the quadrant for point ( "+e+", "+n+" )");return e>=0?n>=0?t.NE:t.SE:n>=0?t.NW:t.SW}if(arguments[0]instanceof U&&arguments[1]instanceof U){var r=arguments[0],i=arguments[1];if(i.x===r.x&&i.y===r.y)throw new _("Cannot compute the quadrant for two identical points "+r);return i.x>=r.x?i.y>=r.y?t.NE:t.SE:i.y>=r.y?t.NW:t.SW}}}]),t}();$t.NE=0,$t.NW=1,$t.SW=2,$t.SE=3;var Zt=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"compareDirection",value:function(e){return this._dx===e._dx&&this._dy===e._dy?0:this._quadrant>e._quadrant?1:this._quadrant<e._quadrant?-1:he.index(e._p0,e._p1,this._p1)}},{key:"getDy",value:function(){return this._dy}},{key:"getCoordinate",value:function(){return this._p0}},{key:"setNode",value:function(e){this._node=e}},{key:"print",value:function(e){var t=Math.atan2(this._dy,this._dx),n=this.getClass().getName(),r=n.lastIndexOf("."),i=n.substring(r+1);e.print("  "+i+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label)}},{key:"compareTo",value:function(e){var t=e;return this.compareDirection(t)}},{key:"getDirectedCoordinate",value:function(){return this._p1}},{key:"getDx",value:function(){return this._dx}},{key:"getLabel",value:function(){return this._label}},{key:"getEdge",value:function(){return this._edge}},{key:"getQuadrant",value:function(){return this._quadrant}},{key:"getNode",value:function(){return this._node}},{key:"toString",value:function(){var e=Math.atan2(this._dy,this._dx),t=this.getClass().getName(),n=t.lastIndexOf(".");return"  "+t.substring(n+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+e+"   "+this._label}},{key:"computeLabel",value:function(e){}},{key:"init",value:function(e,t){this._p0=e,this._p1=t,this._dx=t.x-e.x,this._dy=t.y-e.y,this._quadrant=$t.quadrant(this._dx,this._dy),z.isTrue(!(0===this._dx&&0===this._dy),"EdgeEnd with identical endpoints found")}},{key:"interfaces_",get:function(){return[x]}}],[{key:"constructor_",value:function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length){var e=arguments[0];this._edge=e}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];t.constructor_.call(this,n,r,i,null)}else if(4===arguments.length){var o=arguments[0],a=arguments[1],s=arguments[2],u=arguments[3];t.constructor_.call(this,o),this.init(a,s),this._label=u}}}]),t}(),Qt=function(t){r(a,t);var o=h(a);function a(){var t;return e(this,a),t=o.call(this),a.constructor_.apply(l(t),arguments),t}return n(a,[{key:"getNextMin",value:function(){return this._nextMin}},{key:"getDepth",value:function(e){return this._depth[e]}},{key:"setVisited",value:function(e){this._isVisited=e}},{key:"computeDirectedLabel",value:function(){this._label=new At(this._edge.getLabel()),this._isForward||this._label.flip()}},{key:"getNext",value:function(){return this._next}},{key:"setDepth",value:function(e,t){if(-999!==this._depth[e]&&this._depth[e]!==t)throw new de("assigned depths do not match",this.getCoordinate());this._depth[e]=t}},{key:"isInteriorAreaEdge",value:function(){for(var e=!0,t=0;t<2;t++)this._label.isArea(t)&&this._label.getLocation(t,J.LEFT)===X.INTERIOR&&this._label.getLocation(t,J.RIGHT)===X.INTERIOR||(e=!1);return e}},{key:"setNextMin",value:function(e){this._nextMin=e}},{key:"print",value:function(e){f(i(a.prototype),"print",this).call(this,e),e.print(" "+this._depth[J.LEFT]+"/"+this._depth[J.RIGHT]),e.print(" ("+this.getDepthDelta()+")"),this._isInResult&&e.print(" inResult")}},{key:"setMinEdgeRing",value:function(e){this._minEdgeRing=e}},{key:"isLineEdge",value:function(){var e=this._label.isLine(0)||this._label.isLine(1),t=!this._label.isArea(0)||this._label.allPositionsEqual(0,X.EXTERIOR),n=!this._label.isArea(1)||this._label.allPositionsEqual(1,X.EXTERIOR);return e&&t&&n}},{key:"setEdgeRing",value:function(e){this._edgeRing=e}},{key:"getMinEdgeRing",value:function(){return this._minEdgeRing}},{key:"getDepthDelta",value:function(){var e=this._edge.getDepthDelta();return this._isForward||(e=-e),e}},{key:"setInResult",value:function(e){this._isInResult=e}},{key:"getSym",value:function(){return this._sym}},{key:"isForward",value:function(){return this._isForward}},{key:"getEdge",value:function(){return this._edge}},{key:"printEdge",value:function(e){this.print(e),e.print(" "),this._isForward?this._edge.print(e):this._edge.printReverse(e)}},{key:"setSym",value:function(e){this._sym=e}},{key:"setVisitedEdge",value:function(e){this.setVisited(e),this._sym.setVisited(e)}},{key:"setEdgeDepths",value:function(e,t){var n=this.getEdge().getDepthDelta();this._isForward||(n=-n);var r=1;e===J.LEFT&&(r=-1);var i=J.opposite(e),o=t+n*r;this.setDepth(e,t),this.setDepth(i,o)}},{key:"getEdgeRing",value:function(){return this._edgeRing}},{key:"isInResult",value:function(){return this._isInResult}},{key:"setNext",value:function(e){this._next=e}},{key:"isVisited",value:function(){return this._isVisited}}],[{key:"constructor_",value:function(){this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999];var e=arguments[0],t=arguments[1];if(Zt.constructor_.call(this,e),this._isForward=t,t)this.init(e.getCoordinate(0),e.getCoordinate(1));else{var n=e.getNumPoints()-1;this.init(e.getCoordinate(n),e.getCoordinate(n-1))}this.computeDirectedLabel()}},{key:"depthFactor",value:function(e,t){return e===X.EXTERIOR&&t===X.INTERIOR?1:e===X.INTERIOR&&t===X.EXTERIOR?-1:0}}]),a}(Zt),Kt=function(){function t(){e(this,t)}return n(t,[{key:"createNode",value:function(e){return new Bt(e,null)}}]),t}(),Jt=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"printEdges",value:function(e){e.println("Edges:");for(var t=0;t<this._edges.size();t++){e.println("edge "+t+":");var n=this._edges.get(t);n.print(e),n.eiList.print(e)}}},{key:"find",value:function(e){return this._nodes.find(e)}},{key:"addNode",value:function(){if(arguments[0]instanceof Bt){var e=arguments[0];return this._nodes.addNode(e)}if(arguments[0]instanceof U){var t=arguments[0];return this._nodes.addNode(t)}}},{key:"getNodeIterator",value:function(){return this._nodes.iterator()}},{key:"linkResultDirectedEdges",value:function(){for(var e=this._nodes.iterator();e.hasNext();)e.next().getEdges().linkResultDirectedEdges()}},{key:"debugPrintln",value:function(e){_e.out.println(e)}},{key:"isBoundaryNode",value:function(e,t){var n=this._nodes.find(t);if(null===n)return!1;var r=n.getLabel();return null!==r&&r.getLocation(e)===X.BOUNDARY}},{key:"linkAllDirectedEdges",value:function(){for(var e=this._nodes.iterator();e.hasNext();)e.next().getEdges().linkAllDirectedEdges()}},{key:"matchInSameDirection",value:function(e,t,n,r){return!!e.equals(n)&&he.index(e,t,r)===he.COLLINEAR&&$t.quadrant(e,t)===$t.quadrant(n,r)}},{key:"getEdgeEnds",value:function(){return this._edgeEndList}},{key:"debugPrint",value:function(e){_e.out.print(e)}},{key:"getEdgeIterator",value:function(){return this._edges.iterator()}},{key:"findEdgeInSameDirection",value:function(e,t){for(var n=0;n<this._edges.size();n++){var r=this._edges.get(n),i=r.getCoordinates();if(this.matchInSameDirection(e,t,i[0],i[1]))return r;if(this.matchInSameDirection(e,t,i[i.length-1],i[i.length-2]))return r}return null}},{key:"insertEdge",value:function(e){this._edges.add(e)}},{key:"findEdgeEnd",value:function(e){for(var t=this.getEdgeEnds().iterator();t.hasNext();){var n=t.next();if(n.getEdge()===e)return n}return null}},{key:"addEdges",value:function(e){for(var t=e.iterator();t.hasNext();){var n=t.next();this._edges.add(n);var r=new Qt(n,!0),i=new Qt(n,!1);r.setSym(i),i.setSym(r),this.add(r),this.add(i)}}},{key:"add",value:function(e){this._nodes.add(e),this._edgeEndList.add(e)}},{key:"getNodes",value:function(){return this._nodes.values()}},{key:"findEdge",value:function(e,t){for(var n=0;n<this._edges.size();n++){var r=this._edges.get(n),i=r.getCoordinates();if(e.equals(i[0])&&t.equals(i[1]))return r}return null}}],[{key:"constructor_",value:function(){if(this._edges=new ge,this._nodes=null,this._edgeEndList=new ge,0===arguments.length)this._nodes=new Wt(new Kt);else if(1===arguments.length){var e=arguments[0];this._nodes=new Wt(e)}}},{key:"linkResultDirectedEdges",value:function(e){for(var t=e.iterator();t.hasNext();)t.next().getEdges().linkResultDirectedEdges()}}]),t}(),en=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"sortShellsAndHoles",value:function(e,t,n){for(var r=e.iterator();r.hasNext();){var i=r.next();i.isHole()?n.add(i):t.add(i)}}},{key:"computePolygons",value:function(e){for(var t=new ge,n=e.iterator();n.hasNext();){var r=n.next().toPolygon(this._geometryFactory);t.add(r)}return t}},{key:"placeFreeHoles",value:function(e,n){for(var r=n.iterator();r.hasNext();){var i=r.next();if(null===i.getShell()){var o=t.findEdgeRingContaining(i,e);if(null===o)throw new de("unable to assign hole to a shell",i.getCoordinate(0));i.setShell(o)}}}},{key:"buildMinimalEdgeRings",value:function(e,t,n){for(var r=new ge,i=e.iterator();i.hasNext();){var o=i.next();if(o.getMaxNodeDegree()>2){o.linkDirectedEdgesForMinimalEdgeRings();var a=o.buildMinimalRings(),s=this.findShell(a);null!==s?(this.placePolygonHoles(s,a),t.add(s)):n.addAll(a)}else r.add(o)}return r}},{key:"buildMaximalEdgeRings",value:function(e){for(var t=new ge,n=e.iterator();n.hasNext();){var r=n.next();if(r.isInResult()&&r.getLabel().isArea()&&null===r.getEdgeRing()){var i=new zt(r,this._geometryFactory);t.add(i),i.setInResult()}}return t}},{key:"placePolygonHoles",value:function(e,t){for(var n=t.iterator();n.hasNext();){var r=n.next();r.isHole()&&r.setShell(e)}}},{key:"getPolygons",value:function(){return this.computePolygons(this._shellList)}},{key:"findShell",value:function(e){for(var t=0,n=null,r=e.iterator();r.hasNext();){var i=r.next();i.isHole()||(n=i,t++)}return z.isTrue(t<=1,"found two shells in MinimalEdgeRing list"),n}},{key:"add",value:function(){if(1===arguments.length){var e=arguments[0];this.add(e.getEdgeEnds(),e.getNodes())}else if(2===arguments.length){var t=arguments[0],n=arguments[1];Jt.linkResultDirectedEdges(n);var r=this.buildMaximalEdgeRings(t),i=new ge,o=this.buildMinimalEdgeRings(r,this._shellList,i);this.sortShellsAndHoles(o,this._shellList,i),this.placeFreeHoles(this._shellList,i)}}}],[{key:"constructor_",value:function(){this._geometryFactory=null,this._shellList=new ge;var e=arguments[0];this._geometryFactory=e}},{key:"findEdgeRingContaining",value:function(e,t){for(var n=e.getLinearRing(),r=n.getEnvelopeInternal(),i=n.getCoordinateN(0),o=null,a=null,s=t.iterator();s.hasNext();){var u=s.next(),l=u.getLinearRing(),c=l.getEnvelopeInternal();if(!c.equals(r)&&c.contains(r)){i=We.ptNotInList(n.getCoordinates(),l.getCoordinates());var h=!1;Mt.isInRing(i,l.getCoordinates())&&(h=!0),h&&(null===o||a.contains(c))&&(a=(o=u).getLinearRing().getEnvelopeInternal())}}return o}}]),t}(),tn=function(){function t(){e(this,t)}return n(t,[{key:"getBounds",value:function(){}}]),t}(),nn=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"getItem",value:function(){return this._item}},{key:"getBounds",value:function(){return this._bounds}},{key:"interfaces_",get:function(){return[tn,w]}}],[{key:"constructor_",value:function(){this._bounds=null,this._item=null;var e=arguments[0],t=arguments[1];this._bounds=e,this._item=t}}]),t}(),rn=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"poll",value:function(){if(this.isEmpty())return null;var e=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),e}},{key:"size",value:function(){return this._size}},{key:"reorder",value:function(e){for(var t=null,n=this._items.get(e);2*e<=this._size&&((t=2*e)!==this._size&&this._items.get(t+1).compareTo(this._items.get(t))<0&&t++,this._items.get(t).compareTo(n)<0);e=t)this._items.set(e,this._items.get(t));this._items.set(e,n)}},{key:"clear",value:function(){this._size=0,this._items.clear()}},{key:"peek",value:function(){return this.isEmpty()?null:this._items.get(1)}},{key:"isEmpty",value:function(){return 0===this._size}},{key:"add",value:function(e){this._items.add(null),this._size+=1;var t=this._size;for(this._items.set(0,e);e.compareTo(this._items.get(Math.trunc(t/2)))<0;t/=2)this._items.set(t,this._items.get(Math.trunc(t/2)));this._items.set(t,e)}}],[{key:"constructor_",value:function(){this._size=null,this._items=null,this._size=0,this._items=new ge,this._items.add(null)}}]),t}(),on=function(){function t(){e(this,t)}return n(t,[{key:"insert",value:function(e,t){}},{key:"remove",value:function(e,t){}},{key:"query",value:function(){}}]),t}(),an=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"getLevel",value:function(){return this._level}},{key:"size",value:function(){return this._childBoundables.size()}},{key:"getChildBoundables",value:function(){return this._childBoundables}},{key:"addChildBoundable",value:function(e){z.isTrue(null===this._bounds),this._childBoundables.add(e)}},{key:"isEmpty",value:function(){return this._childBoundables.isEmpty()}},{key:"getBounds",value:function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds}},{key:"interfaces_",get:function(){return[tn,w]}}],[{key:"constructor_",value:function(){if(this._childBoundables=new ge,this._bounds=null,this._level=null,0===arguments.length);else if(1===arguments.length){var e=arguments[0];this._level=e}}}]),t}(),sn={reverseOrder:function(){return{compare:function(e,t){return t.compareTo(e)}}},min:function(e){return sn.sort(e),e.get(0)},sort:function(e,t){var n=e.toArray();t?Oe.sort(n,t):Oe.sort(n);for(var r=e.iterator(),i=0,o=n.length;i<o;i++)r.next(),r.set(n[i])},singletonList:function(e){var t=new ge;return t.add(e),t}},un=function(){function t(){e(this,t)}return n(t,null,[{key:"maxDistance",value:function(e,n,r,i,o,a,s,u){var l=t.distance(e,n,o,a);return l=Math.max(l,t.distance(e,n,s,u)),l=Math.max(l,t.distance(r,i,o,a)),Math.max(l,t.distance(r,i,s,u))}},{key:"distance",value:function(e,t,n,r){var i=n-e,o=r-t;return Math.sqrt(i*i+o*o)}},{key:"maximumDistance",value:function(e,n){var r=Math.min(e.getMinX(),n.getMinX()),i=Math.min(e.getMinY(),n.getMinY()),o=Math.max(e.getMaxX(),n.getMaxX()),a=Math.max(e.getMaxY(),n.getMaxY());return t.distance(r,i,o,a)}},{key:"minMaxDistance",value:function(e,n){var r=e.getMinX(),i=e.getMinY(),o=e.getMaxX(),a=e.getMaxY(),s=n.getMinX(),u=n.getMinY(),l=n.getMaxX(),c=n.getMaxY(),h=t.maxDistance(r,i,r,a,s,u,s,c);return h=Math.min(h,t.maxDistance(r,i,r,a,s,u,l,u)),h=Math.min(h,t.maxDistance(r,i,r,a,l,c,s,c)),h=Math.min(h,t.maxDistance(r,i,r,a,l,c,l,u)),h=Math.min(h,t.maxDistance(r,i,o,i,s,u,s,c)),h=Math.min(h,t.maxDistance(r,i,o,i,s,u,l,u)),h=Math.min(h,t.maxDistance(r,i,o,i,l,c,s,c)),h=Math.min(h,t.maxDistance(r,i,o,i,l,c,l,u)),h=Math.min(h,t.maxDistance(o,a,r,a,s,u,s,c)),h=Math.min(h,t.maxDistance(o,a,r,a,s,u,l,u)),h=Math.min(h,t.maxDistance(o,a,r,a,l,c,s,c)),h=Math.min(h,t.maxDistance(o,a,r,a,l,c,l,u)),h=Math.min(h,t.maxDistance(o,a,o,i,s,u,s,c)),h=Math.min(h,t.maxDistance(o,a,o,i,s,u,l,u)),h=Math.min(h,t.maxDistance(o,a,o,i,l,c,s,c)),Math.min(h,t.maxDistance(o,a,o,i,l,c,l,u))}}]),t}(),ln=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"maximumDistance",value:function(){return un.maximumDistance(this._boundable1.getBounds(),this._boundable2.getBounds())}},{key:"expandToQueue",value:function(e,n){var r=t.isComposite(this._boundable1),i=t.isComposite(this._boundable2);if(r&&i)return t.area(this._boundable1)>t.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,!1,e,n),null):(this.expand(this._boundable2,this._boundable1,!0,e,n),null);if(r)return this.expand(this._boundable1,this._boundable2,!1,e,n),null;if(i)return this.expand(this._boundable2,this._boundable1,!0,e,n),null;throw new _("neither boundable is composite")}},{key:"isLeaves",value:function(){return!(t.isComposite(this._boundable1)||t.isComposite(this._boundable2))}},{key:"compareTo",value:function(e){var t=e;return this._distance<t._distance?-1:this._distance>t._distance?1:0}},{key:"expand",value:function(e,n,r,i,o){for(var a=e.getChildBoundables().iterator();a.hasNext();){var s=a.next(),u=null;(u=r?new t(n,s,this._itemDistance):new t(s,n,this._itemDistance)).getDistance()<o&&i.add(u)}}},{key:"getBoundable",value:function(e){return 0===e?this._boundable1:this._boundable2}},{key:"getDistance",value:function(){return this._distance}},{key:"distance",value:function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())}},{key:"interfaces_",get:function(){return[x]}}],[{key:"constructor_",value:function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var e=arguments[0],t=arguments[1],n=arguments[2];this._boundable1=e,this._boundable2=t,this._itemDistance=n,this._distance=this.distance()}},{key:"area",value:function(e){return e.getBounds().getArea()}},{key:"isComposite",value:function(e){return e instanceof an}}]),t}(),cn=function(){function t(){e(this,t)}return n(t,[{key:"visitItem",value:function(e){}}]),t}(),hn=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"queryInternal",value:function(){if(ie(arguments[2],cn)&&arguments[0]instanceof Object&&arguments[1]instanceof an)for(var e=arguments[0],t=arguments[2],n=arguments[1].getChildBoundables(),r=0;r<n.size();r++){var i=n.get(r);this.getIntersectsOp().intersects(i.getBounds(),e)&&(i instanceof an?this.queryInternal(e,i,t):i instanceof nn?t.visitItem(i.getItem()):z.shouldNeverReachHere())}else if(ie(arguments[2],ne)&&arguments[0]instanceof Object&&arguments[1]instanceof an)for(var o=arguments[0],a=arguments[2],s=arguments[1].getChildBoundables(),u=0;u<s.size();u++){var l=s.get(u);this.getIntersectsOp().intersects(l.getBounds(),o)&&(l instanceof an?this.queryInternal(o,l,a):l instanceof nn?a.add(l.getItem()):z.shouldNeverReachHere())}}},{key:"getNodeCapacity",value:function(){return this._nodeCapacity}},{key:"lastNode",value:function(e){return e.get(e.size()-1)}},{key:"size",value:function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var e=0,t=arguments[0].getChildBoundables().iterator();t.hasNext();){var n=t.next();n instanceof an?e+=this.size(n):n instanceof nn&&(e+=1)}return e}}},{key:"removeItem",value:function(e,t){for(var n=null,r=e.getChildBoundables().iterator();r.hasNext();){var i=r.next();i instanceof nn&&i.getItem()===t&&(n=i)}return null!==n&&(e.getChildBoundables().remove(n),!0)}},{key:"itemsTree",value:function(){if(0===arguments.length){this.build();var e=this.itemsTree(this._root);return null===e?new ge:e}if(1===arguments.length){for(var t=arguments[0],n=new ge,r=t.getChildBoundables().iterator();r.hasNext();){var i=r.next();if(i instanceof an){var o=this.itemsTree(i);null!==o&&n.add(o)}else i instanceof nn?n.add(i.getItem()):z.shouldNeverReachHere()}return n.size()<=0?null:n}}},{key:"insert",value:function(e,t){z.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new nn(e,t))}},{key:"boundablesAtLevel",value:function(){if(1===arguments.length){var e=arguments[0],t=new ge;return this.boundablesAtLevel(e,this._root,t),t}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];if(z.isTrue(n>-2),r.getLevel()===n)return i.add(r),null;for(var o=r.getChildBoundables().iterator();o.hasNext();){var a=o.next();a instanceof an?this.boundablesAtLevel(n,a,i):(z.isTrue(a instanceof nn),-1===n&&i.add(a))}return null}}},{key:"query",value:function(){if(1===arguments.length){var e=arguments[0];this.build();var t=new ge;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),e)&&this.queryInternal(e,this._root,t),t}if(2===arguments.length){var n=arguments[0],r=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),n)&&this.queryInternal(n,this._root,r)}}},{key:"build",value:function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0}},{key:"getRoot",value:function(){return this.build(),this._root}},{key:"remove",value:function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),e)&&this.remove(e,this._root,t)}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=this.removeItem(r,i);if(o)return!0;for(var a=null,s=r.getChildBoundables().iterator();s.hasNext();){var u=s.next();if(this.getIntersectsOp().intersects(u.getBounds(),n)&&u instanceof an&&(o=this.remove(n,u,i))){a=u;break}}return null!==a&&a.getChildBoundables().isEmpty()&&r.getChildBoundables().remove(a),o}}},{key:"createHigherLevels",value:function(e,t){z.isTrue(!e.isEmpty());var n=this.createParentBoundables(e,t+1);return 1===n.size()?n.get(0):this.createHigherLevels(n,t+1)}},{key:"depth",value:function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var e=0,t=arguments[0].getChildBoundables().iterator();t.hasNext();){var n=t.next();if(n instanceof an){var r=this.depth(n);r>e&&(e=r)}}return e+1}}},{key:"createParentBoundables",value:function(e,t){z.isTrue(!e.isEmpty());var n=new ge;n.add(this.createNode(t));var r=new ge(e);sn.sort(r,this.getComparator());for(var i=r.iterator();i.hasNext();){var o=i.next();this.lastNode(n).getChildBoundables().size()===this.getNodeCapacity()&&n.add(this.createNode(t)),this.lastNode(n).addChildBoundable(o)}return n}},{key:"isEmpty",value:function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()}},{key:"interfaces_",get:function(){return[w]}}],[{key:"constructor_",value:function(){if(this._root=null,this._built=!1,this._itemBoundables=new ge,this._nodeCapacity=null,0===arguments.length)t.constructor_.call(this,t.DEFAULT_NODE_CAPACITY);else if(1===arguments.length){var e=arguments[0];z.isTrue(e>1,"Node capacity must be greater than 1"),this._nodeCapacity=e}}},{key:"compareDoubles",value:function(e,t){return e>t?1:e<t?-1:0}}]),t}();hn.IntersectsOp=function(){},hn.DEFAULT_NODE_CAPACITY=10;var fn=function(){function t(){e(this,t)}return n(t,[{key:"distance",value:function(e,t){}}]),t}(),dn=function(t){r(a,t);var o=h(a);function a(){var t;return e(this,a),t=o.call(this),a.constructor_.apply(l(t),arguments),t}return n(a,[{key:"createParentBoundablesFromVerticalSlices",value:function(e,t){z.isTrue(e.length>0);for(var n=new ge,r=0;r<e.length;r++)n.addAll(this.createParentBoundablesFromVerticalSlice(e[r],t));return n}},{key:"nearestNeighbourK",value:function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];return this.nearestNeighbourK(e,O.POSITIVE_INFINITY,t)}if(3===arguments.length){var n=arguments[0],r=arguments[2],i=arguments[1],o=new rn;o.add(n);for(var s=new rn;!o.isEmpty()&&i>=0;){var u=o.poll(),l=u.getDistance();if(l>=i)break;u.isLeaves()?s.size()<r?s.add(u):(s.peek().getDistance()>l&&(s.poll(),s.add(u)),i=s.peek().getDistance()):u.expandToQueue(o,i)}return a.getItems(s)}}},{key:"createNode",value:function(e){return new pn(e)}},{key:"size",value:function(){return 0===arguments.length?f(i(a.prototype),"size",this).call(this):f(i(a.prototype),"size",this).apply(this,arguments)}},{key:"insert",value:function(){if(!(2===arguments.length&&arguments[1]instanceof Object&&arguments[0]instanceof Y))return f(i(a.prototype),"insert",this).apply(this,arguments);var e=arguments[0],t=arguments[1];if(e.isNull())return null;f(i(a.prototype),"insert",this).call(this,e,t)}},{key:"getIntersectsOp",value:function(){return a.intersectsOp}},{key:"verticalSlices",value:function(e,t){for(var n=Math.trunc(Math.ceil(e.size()/t)),r=new Array(t).fill(null),i=e.iterator(),o=0;o<t;o++){r[o]=new ge;for(var a=0;i.hasNext()&&a<n;){var s=i.next();r[o].add(s),a++}}return r}},{key:"query",value:function(){if(1===arguments.length){var e=arguments[0];return f(i(a.prototype),"query",this).call(this,e)}if(2===arguments.length){var t=arguments[0],n=arguments[1];f(i(a.prototype),"query",this).call(this,t,n)}}},{key:"getComparator",value:function(){return a.yComparator}},{key:"createParentBoundablesFromVerticalSlice",value:function(e,t){return f(i(a.prototype),"createParentBoundables",this).call(this,e,t)}},{key:"remove",value:function(){if(2===arguments.length&&arguments[1]instanceof Object&&arguments[0]instanceof Y){var e=arguments[0],t=arguments[1];return f(i(a.prototype),"remove",this).call(this,e,t)}return f(i(a.prototype),"remove",this).apply(this,arguments)}},{key:"depth",value:function(){return 0===arguments.length?f(i(a.prototype),"depth",this).call(this):f(i(a.prototype),"depth",this).apply(this,arguments)}},{key:"createParentBoundables",value:function(e,t){z.isTrue(!e.isEmpty());var n=Math.trunc(Math.ceil(e.size()/this.getNodeCapacity())),r=new ge(e);sn.sort(r,a.xComparator);var i=this.verticalSlices(r,Math.trunc(Math.ceil(Math.sqrt(n))));return this.createParentBoundablesFromVerticalSlices(i,t)}},{key:"nearestNeighbour",value:function(){if(1===arguments.length){if(ie(arguments[0],fn)){var e=arguments[0];if(this.isEmpty())return null;var t=new ln(this.getRoot(),this.getRoot(),e);return this.nearestNeighbour(t)}if(arguments[0]instanceof ln){var n=arguments[0],r=O.POSITIVE_INFINITY,i=null,o=new rn;for(o.add(n);!o.isEmpty()&&r>0;){var a=o.poll(),s=a.getDistance();if(s>=r)break;a.isLeaves()?(r=s,i=a):a.expandToQueue(o,r)}return null===i?null:[i.getBoundable(0).getItem(),i.getBoundable(1).getItem()]}}else{if(2===arguments.length){var u=arguments[0],l=arguments[1];if(this.isEmpty()||u.isEmpty())return null;var c=new ln(this.getRoot(),u.getRoot(),l);return this.nearestNeighbour(c)}if(3===arguments.length){var h=arguments[2],f=new nn(arguments[0],arguments[1]),d=new ln(this.getRoot(),f,h);return this.nearestNeighbour(d)[0]}if(4===arguments.length){var p=arguments[2],g=arguments[3],v=new nn(arguments[0],arguments[1]),y=new ln(this.getRoot(),v,p);return this.nearestNeighbourK(y,g)}}}},{key:"isWithinDistance",value:function(){if(2===arguments.length){var e=arguments[0],t=arguments[1],n=O.POSITIVE_INFINITY,r=new rn;for(r.add(e);!r.isEmpty();){var i=r.poll(),o=i.getDistance();if(o>t)return!1;if(i.maximumDistance()<=t)return!0;if(i.isLeaves()){if((n=o)<=t)return!0}else i.expandToQueue(r,n)}return!1}if(3===arguments.length){var a=arguments[0],s=arguments[1],u=arguments[2],l=new ln(this.getRoot(),a.getRoot(),s);return this.isWithinDistance(l,u)}}},{key:"interfaces_",get:function(){return[on,w]}}],[{key:"constructor_",value:function(){if(0===arguments.length)a.constructor_.call(this,a.DEFAULT_NODE_CAPACITY);else if(1===arguments.length){var e=arguments[0];hn.constructor_.call(this,e)}}},{key:"centreX",value:function(e){return a.avg(e.getMinX(),e.getMaxX())}},{key:"avg",value:function(e,t){return(e+t)/2}},{key:"getItems",value:function(e){for(var t=new Array(e.size()).fill(null),n=0;!e.isEmpty();){var r=e.poll();t[n]=r.getBoundable(0).getItem(),n++}return t}},{key:"centreY",value:function(e){return a.avg(e.getMinY(),e.getMaxY())}}]),a}(hn),pn=function(t){r(o,t);var i=h(o);function o(){var t;return e(this,o),t=i.call(this),o.constructor_.apply(l(t),arguments),t}return n(o,[{key:"computeBounds",value:function(){for(var e=null,t=this.getChildBoundables().iterator();t.hasNext();){var n=t.next();null===e?e=new Y(n.getBounds()):e.expandToInclude(n.getBounds())}return e}}],[{key:"constructor_",value:function(){var e=arguments[0];an.constructor_.call(this,e)}}]),o}(an);dn.STRtreeNode=pn,dn.xComparator=new(function(){function t(){e(this,t)}return n(t,[{key:"interfaces_",get:function(){return[A]}},{key:"compare",value:function(e,t){return hn.compareDoubles(dn.centreX(e.getBounds()),dn.centreX(t.getBounds()))}}]),t}()),dn.yComparator=new(function(){function t(){e(this,t)}return n(t,[{key:"interfaces_",get:function(){return[A]}},{key:"compare",value:function(e,t){return hn.compareDoubles(dn.centreY(e.getBounds()),dn.centreY(t.getBounds()))}}]),t}()),dn.intersectsOp=new(function(){function t(){e(this,t)}return n(t,[{key:"interfaces_",get:function(){return[IntersectsOp]}},{key:"intersects",value:function(e,t){return e.intersects(t)}}]),t}()),dn.DEFAULT_NODE_CAPACITY=10;var gn=function(){function t(){e(this,t)}return n(t,null,[{key:"relativeSign",value:function(e,t){return e<t?-1:e>t?1:0}},{key:"compare",value:function(e,n,r){if(n.equals2D(r))return 0;var i=t.relativeSign(n.x,r.x),o=t.relativeSign(n.y,r.y);switch(e){case 0:return t.compareValue(i,o);case 1:return t.compareValue(o,i);case 2:return t.compareValue(o,-i);case 3:return t.compareValue(-i,o);case 4:return t.compareValue(-i,-o);case 5:return t.compareValue(-o,-i);case 6:return t.compareValue(-o,i);case 7:return t.compareValue(i,-o)}return z.shouldNeverReachHere("invalid octant value"),0}},{key:"compareValue",value:function(e,t){return e<0?-1:e>0?1:t<0?-1:t>0?1:0}}]),t}(),vn=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"getCoordinate",value:function(){return this.coord}},{key:"print",value:function(e){e.print(this.coord),e.print(" seg # = "+this.segmentIndex)}},{key:"compareTo",value:function(e){var t=e;return this.segmentIndex<t.segmentIndex?-1:this.segmentIndex>t.segmentIndex?1:this.coord.equals2D(t.coord)?0:this._isInterior?t._isInterior?gn.compare(this._segmentOctant,this.coord,t.coord):1:-1}},{key:"isEndPoint",value:function(e){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===e}},{key:"toString",value:function(){return this.segmentIndex+":"+this.coord.toString()}},{key:"isInterior",value:function(){return this._isInterior}},{key:"interfaces_",get:function(){return[x]}}],[{key:"constructor_",value:function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var e=arguments[0],t=arguments[1],n=arguments[2],r=arguments[3];this._segString=e,this.coord=new U(t),this.segmentIndex=n,this._segmentOctant=r,this._isInterior=!t.equals2D(e.getCoordinate(n))}}]),t}(),yn=function(){function t(){e(this,t)}return n(t,[{key:"hasNext",value:function(){}},{key:"next",value:function(){}},{key:"remove",value:function(){}}]),t}(),mn=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"getSplitCoordinates",value:function(){var e=new Ve;this.addEndpoints();for(var t=this.iterator(),n=t.next();t.hasNext();){var r=t.next();this.addEdgeCoordinates(n,r,e),n=r}return e.toCoordinateArray()}},{key:"addCollapsedNodes",value:function(){var e=new ge;this.findCollapsesFromInsertedNodes(e),this.findCollapsesFromExistingVertices(e);for(var t=e.iterator();t.hasNext();){var n=t.next().intValue();this.add(this._edge.getCoordinate(n),n)}}},{key:"createSplitEdgePts",value:function(e,t){var n=t.segmentIndex-e.segmentIndex+2;if(2===n)return[new U(e.coord),new U(t.coord)];var r=this._edge.getCoordinate(t.segmentIndex),i=t.isInterior()||!t.coord.equals2D(r);i||n--;var o=new Array(n).fill(null),a=0;o[a++]=new U(e.coord);for(var s=e.segmentIndex+1;s<=t.segmentIndex;s++)o[a++]=this._edge.getCoordinate(s);return i&&(o[a]=new U(t.coord)),o}},{key:"print",value:function(e){e.println("Intersections:");for(var t=this.iterator();t.hasNext();)t.next().print(e)}},{key:"findCollapsesFromExistingVertices",value:function(e){for(var t=0;t<this._edge.size()-2;t++){var n=this._edge.getCoordinate(t);this._edge.getCoordinate(t+1);var r=this._edge.getCoordinate(t+2);n.equals2D(r)&&e.add(ae.valueOf(t+1))}}},{key:"addEdgeCoordinates",value:function(e,t,n){var r=this.createSplitEdgePts(e,t);n.add(r,!1)}},{key:"iterator",value:function(){return this._nodeMap.values().iterator()}},{key:"addSplitEdges",value:function(e){this.addEndpoints(),this.addCollapsedNodes();for(var t=this.iterator(),n=t.next();t.hasNext();){var r=t.next(),i=this.createSplitEdge(n,r);e.add(i),n=r}}},{key:"findCollapseIndex",value:function(e,t,n){if(!e.coord.equals2D(t.coord))return!1;var r=t.segmentIndex-e.segmentIndex;return t.isInterior()||r--,1===r&&(n[0]=e.segmentIndex+1,!0)}},{key:"findCollapsesFromInsertedNodes",value:function(e){for(var t=new Array(1).fill(null),n=this.iterator(),r=n.next();n.hasNext();){var i=n.next();this.findCollapseIndex(r,i,t)&&e.add(ae.valueOf(t[0])),r=i}}},{key:"getEdge",value:function(){return this._edge}},{key:"addEndpoints",value:function(){var e=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(e),e)}},{key:"createSplitEdge",value:function(e,t){var n=this.createSplitEdgePts(e,t);return new bn(n,this._edge.getData())}},{key:"add",value:function(e,t){var n=new vn(this._edge,e,t,this._edge.getSegmentOctant(t)),r=this._nodeMap.get(n);return null!==r?(z.isTrue(r.coord.equals2D(e),"Found equal nodes with different coordinates"),r):(this._nodeMap.put(n,n),n)}},{key:"checkSplitEdgesCorrectness",value:function(e){var t=this._edge.getCoordinates(),n=e.get(0).getCoordinate(0);if(!n.equals2D(t[0]))throw new D("bad split edge start point at "+n);var r=e.get(e.size()-1).getCoordinates(),i=r[r.length-1];if(!i.equals2D(t[t.length-1]))throw new D("bad split edge end point at "+i)}}],[{key:"constructor_",value:function(){this._nodeMap=new Vt,this._edge=null;var e=arguments[0];this._edge=e}}]),t}(),_n=function(){function t(){e(this,t)}return n(t,null,[{key:"octant",value:function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var e=arguments[0],n=arguments[1];if(0===e&&0===n)throw new _("Cannot compute the octant for point ( "+e+", "+n+" )");var r=Math.abs(e),i=Math.abs(n);return e>=0?n>=0?r>=i?0:1:r>=i?7:6:n>=0?r>=i?3:2:r>=i?4:5}if(arguments[0]instanceof U&&arguments[1]instanceof U){var o=arguments[0],a=arguments[1],s=a.x-o.x,u=a.y-o.y;if(0===s&&0===u)throw new _("Cannot compute the octant for two identical points "+o);return t.octant(s,u)}}}]),t}(),kn=function(){function t(){e(this,t)}return n(t,[{key:"getCoordinates",value:function(){}},{key:"size",value:function(){}},{key:"getCoordinate",value:function(e){}},{key:"isClosed",value:function(){}},{key:"setData",value:function(e){}},{key:"getData",value:function(){}}]),t}(),xn=function(){function t(){e(this,t)}return n(t,[{key:"addIntersection",value:function(e,t){}},{key:"interfaces_",get:function(){return[kn]}}]),t}(),bn=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"getCoordinates",value:function(){return this._pts}},{key:"size",value:function(){return this._pts.length}},{key:"getCoordinate",value:function(e){return this._pts[e]}},{key:"isClosed",value:function(){return this._pts[0].equals(this._pts[this._pts.length-1])}},{key:"getSegmentOctant",value:function(e){return e===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(e),this.getCoordinate(e+1))}},{key:"setData",value:function(e){this._data=e}},{key:"safeOctant",value:function(e,t){return e.equals2D(t)?0:_n.octant(e,t)}},{key:"getData",value:function(){return this._data}},{key:"addIntersection",value:function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];this.addIntersectionNode(e,t)}else if(4===arguments.length){var n=arguments[1],r=arguments[3],i=new U(arguments[0].getIntersection(r));this.addIntersection(i,n)}}},{key:"toString",value:function(){return Tt.toLineString(new Ke(this._pts))}},{key:"getNodeList",value:function(){return this._nodeList}},{key:"addIntersectionNode",value:function(e,t){var n=t,r=n+1;if(r<this._pts.length){var i=this._pts[r];e.equals2D(i)&&(n=r)}return this._nodeList.add(e,n)}},{key:"addIntersections",value:function(e,t,n){for(var r=0;r<e.getIntersectionNum();r++)this.addIntersection(e,t,n,r)}},{key:"interfaces_",get:function(){return[xn]}}],[{key:"constructor_",value:function(){this._nodeList=new mn(this),this._pts=null,this._data=null;var e=arguments[0],t=arguments[1];this._pts=e,this._data=t}},{key:"getNodedSubstrings",value:function(){if(1===arguments.length){var e=arguments[0],n=new ge;return t.getNodedSubstrings(e,n),n}if(2===arguments.length)for(var r=arguments[1],i=arguments[0].iterator();i.hasNext();)i.next().getNodeList().addSplitEdges(r)}}]),t}(),wn=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"minX",value:function(){return Math.min(this.p0.x,this.p1.x)}},{key:"orientationIndex",value:function(){if(arguments[0]instanceof t){var e=arguments[0],n=he.index(this.p0,this.p1,e.p0),r=he.index(this.p0,this.p1,e.p1);return n>=0&&r>=0||n<=0&&r<=0?Math.max(n,r):0}if(arguments[0]instanceof U){var i=arguments[0];return he.index(this.p0,this.p1,i)}}},{key:"toGeometry",value:function(e){return e.createLineString([this.p0,this.p1])}},{key:"isVertical",value:function(){return this.p0.x===this.p1.x}},{key:"equals",value:function(e){if(!(e instanceof t))return!1;var n=e;return this.p0.equals(n.p0)&&this.p1.equals(n.p1)}},{key:"intersection",value:function(e){var t=new Rt;return t.computeIntersection(this.p0,this.p1,e.p0,e.p1),t.hasIntersection()?t.getIntersection(0):null}},{key:"project",value:function(){if(arguments[0]instanceof U){var e=arguments[0];if(e.equals(this.p0)||e.equals(this.p1))return new U(e);var n=this.projectionFactor(e),r=new U;return r.x=this.p0.x+n*(this.p1.x-this.p0.x),r.y=this.p0.y+n*(this.p1.y-this.p0.y),r}if(arguments[0]instanceof t){var i=arguments[0],o=this.projectionFactor(i.p0),a=this.projectionFactor(i.p1);if(o>=1&&a>=1)return null;if(o<=0&&a<=0)return null;var s=this.project(i.p0);o<0&&(s=this.p0),o>1&&(s=this.p1);var u=this.project(i.p1);return a<0&&(u=this.p0),a>1&&(u=this.p1),new t(s,u)}}},{key:"normalize",value:function(){this.p1.compareTo(this.p0)<0&&this.reverse()}},{key:"angle",value:function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)}},{key:"getCoordinate",value:function(e){return 0===e?this.p0:this.p1}},{key:"distancePerpendicular",value:function(e){return xe.pointToLinePerpendicular(e,this.p0,this.p1)}},{key:"minY",value:function(){return Math.min(this.p0.y,this.p1.y)}},{key:"midPoint",value:function(){return t.midPoint(this.p0,this.p1)}},{key:"projectionFactor",value:function(e){if(e.equals(this.p0))return 0;if(e.equals(this.p1))return 1;var t=this.p1.x-this.p0.x,n=this.p1.y-this.p0.y,r=t*t+n*n;return r<=0?O.NaN:((e.x-this.p0.x)*t+(e.y-this.p0.y)*n)/r}},{key:"closestPoints",value:function(e){var t=this.intersection(e);if(null!==t)return[t,t];var n=new Array(2).fill(null),r=O.MAX_VALUE,i=null,o=this.closestPoint(e.p0);r=o.distance(e.p0),n[0]=o,n[1]=e.p0;var a=this.closestPoint(e.p1);(i=a.distance(e.p1))<r&&(r=i,n[0]=a,n[1]=e.p1);var s=e.closestPoint(this.p0);(i=s.distance(this.p0))<r&&(r=i,n[0]=this.p0,n[1]=s);var u=e.closestPoint(this.p1);return(i=u.distance(this.p1))<r&&(r=i,n[0]=this.p1,n[1]=u),n}},{key:"closestPoint",value:function(e){var t=this.projectionFactor(e);return t>0&&t<1?this.project(e):this.p0.distance(e)<this.p1.distance(e)?this.p0:this.p1}},{key:"maxX",value:function(){return Math.max(this.p0.x,this.p1.x)}},{key:"getLength",value:function(){return this.p0.distance(this.p1)}},{key:"compareTo",value:function(e){var t=e,n=this.p0.compareTo(t.p0);return 0!==n?n:this.p1.compareTo(t.p1)}},{key:"reverse",value:function(){var e=this.p0;this.p0=this.p1,this.p1=e}},{key:"equalsTopo",value:function(e){return this.p0.equals(e.p0)&&this.p1.equals(e.p1)||this.p0.equals(e.p1)&&this.p1.equals(e.p0)}},{key:"lineIntersection",value:function(e){return me.intersection(this.p0,this.p1,e.p0,e.p1)}},{key:"maxY",value:function(){return Math.max(this.p0.y,this.p1.y)}},{key:"pointAlongOffset",value:function(e,t){var n=this.p0.x+e*(this.p1.x-this.p0.x),r=this.p0.y+e*(this.p1.y-this.p0.y),i=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y,a=Math.sqrt(i*i+o*o),s=0,u=0;if(0!==t){if(a<=0)throw new IllegalStateException("Cannot compute offset from zero-length line segment");s=t*i/a,u=t*o/a}return new U(n-u,r+s)}},{key:"setCoordinates",value:function(){if(1===arguments.length){var e=arguments[0];this.setCoordinates(e.p0,e.p1)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];this.p0.x=t.x,this.p0.y=t.y,this.p1.x=n.x,this.p1.y=n.y}}},{key:"segmentFraction",value:function(e){var t=this.projectionFactor(e);return t<0?t=0:(t>1||O.isNaN(t))&&(t=1),t}},{key:"toString",value:function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"}},{key:"isHorizontal",value:function(){return this.p0.y===this.p1.y}},{key:"reflect",value:function(e){var t=this.p1.getY()-this.p0.getY(),n=this.p0.getX()-this.p1.getX(),r=this.p0.getY()*(this.p1.getX()-this.p0.getX())-this.p0.getX()*(this.p1.getY()-this.p0.getY()),i=t*t+n*n,o=t*t-n*n,a=e.getX(),s=e.getY();return new U((-o*a-2*t*n*s-2*t*r)/i,(o*s-2*t*n*a-2*n*r)/i)}},{key:"distance",value:function(){if(arguments[0]instanceof t){var e=arguments[0];return xe.segmentToSegment(this.p0,this.p1,e.p0,e.p1)}if(arguments[0]instanceof U){var n=arguments[0];return xe.pointToSegment(n,this.p0,this.p1)}}},{key:"pointAlong",value:function(e){var t=new U;return t.x=this.p0.x+e*(this.p1.x-this.p0.x),t.y=this.p0.y+e*(this.p1.y-this.p0.y),t}},{key:"hashCode",value:function(){var e=O.doubleToLongBits(this.p0.x);e^=31*O.doubleToLongBits(this.p0.y);var t=Math.trunc(e)^Math.trunc(e>>32),n=O.doubleToLongBits(this.p1.x);return n^=31*O.doubleToLongBits(this.p1.y),t^Math.trunc(n)^Math.trunc(n>>32)}},{key:"interfaces_",get:function(){return[x,w]}}],[{key:"constructor_",value:function(){if(this.p0=null,this.p1=null,0===arguments.length)t.constructor_.call(this,new U,new U);else if(1===arguments.length){var e=arguments[0];t.constructor_.call(this,e.p0,e.p1)}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.p0=n,this.p1=r}else if(4===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3];t.constructor_.call(this,new U(i,o),new U(a,s))}}},{key:"midPoint",value:function(e,t){return new U((e.x+t.x)/2,(e.y+t.y)/2)}}]),t}(),En=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"overlap",value:function(){if(2===arguments.length);else if(4===arguments.length){var e=arguments[1],t=arguments[2],n=arguments[3];arguments[0].getLineSegment(e,this._overlapSeg1),t.getLineSegment(n,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}}}],[{key:"constructor_",value:function(){this._overlapSeg1=new wn,this._overlapSeg2=new wn}}]),t}(),Nn=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"getLineSegment",value:function(e,t){t.p0=this._pts[e],t.p1=this._pts[e+1]}},{key:"computeSelect",value:function(e,t,n,r){var i=this._pts[t],o=this._pts[n];if(n-t==1)return r.select(this,t),null;if(!e.intersects(i,o))return null;var a=Math.trunc((t+n)/2);t<a&&this.computeSelect(e,t,a,r),a<n&&this.computeSelect(e,a,n,r)}},{key:"getCoordinates",value:function(){for(var e=new Array(this._end-this._start+1).fill(null),t=0,n=this._start;n<=this._end;n++)e[t++]=this._pts[n];return e}},{key:"computeOverlaps",value:function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];this.computeOverlaps(this._start,this._end,e,e._start,e._end,t)}else if(6===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=arguments[3],a=arguments[4],s=arguments[5];if(r-n==1&&a-o==1)return s.overlap(this,n,i,o),null;if(!this.overlaps(n,r,i,o,a))return null;var u=Math.trunc((n+r)/2),l=Math.trunc((o+a)/2);n<u&&(o<l&&this.computeOverlaps(n,u,i,o,l,s),l<a&&this.computeOverlaps(n,u,i,l,a,s)),u<r&&(o<l&&this.computeOverlaps(u,r,i,o,l,s),l<a&&this.computeOverlaps(u,r,i,l,a,s))}}},{key:"setId",value:function(e){this._id=e}},{key:"select",value:function(e,t){this.computeSelect(e,this._start,this._end,t)}},{key:"getEnvelope",value:function(){if(null===this._env){var e=this._pts[this._start],t=this._pts[this._end];this._env=new Y(e,t)}return this._env}},{key:"overlaps",value:function(e,t,n,r,i){return Y.intersects(this._pts[e],this._pts[t],n._pts[r],n._pts[i])}},{key:"getEndIndex",value:function(){return this._end}},{key:"getStartIndex",value:function(){return this._start}},{key:"getContext",value:function(){return this._context}},{key:"getId",value:function(){return this._id}}],[{key:"constructor_",value:function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var e=arguments[0],t=arguments[1],n=arguments[2],r=arguments[3];this._pts=e,this._start=t,this._end=n,this._context=r}}]),t}(),Sn=function(){function t(){e(this,t)}return n(t,null,[{key:"findChainEnd",value:function(e,t){for(var n=t;n<e.length-1&&e[n].equals2D(e[n+1]);)n++;if(n>=e.length-1)return e.length-1;for(var r=$t.quadrant(e[n],e[n+1]),i=t+1;i<e.length&&(e[i-1].equals2D(e[i])||$t.quadrant(e[i-1],e[i])===r);)i++;return i-1}},{key:"getChains",value:function(){if(1===arguments.length){var e=arguments[0];return t.getChains(e,null)}if(2===arguments.length){var n=arguments[0],r=arguments[1],i=new ge,o=0;do{var a=t.findChainEnd(n,o),s=new Nn(n,o,a,r);i.add(s),o=a}while(o<n.length-1);return i}}}]),t}(),In=function(){function t(){e(this,t)}return n(t,[{key:"computeNodes",value:function(e){}},{key:"getNodedSubstrings",value:function(){}}]),t}(),Cn=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"setSegmentIntersector",value:function(e){this._segInt=e}},{key:"interfaces_",get:function(){return[In]}}],[{key:"constructor_",value:function(){if(this._segInt=null,0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.setSegmentIntersector(e)}}}]),t}(),Tn=function(t){r(o,t);var i=h(o);function o(){var t;return e(this,o),t=i.call(this),o.constructor_.apply(l(t),arguments),t}return n(o,[{key:"getMonotoneChains",value:function(){return this._monoChains}},{key:"getNodedSubstrings",value:function(){return bn.getNodedSubstrings(this._nodedSegStrings)}},{key:"getIndex",value:function(){return this._index}},{key:"add",value:function(e){for(var t=Sn.getChains(e.getCoordinates(),e).iterator();t.hasNext();){var n=t.next();n.setId(this._idCounter++),this._index.insert(n.getEnvelope(),n),this._monoChains.add(n)}}},{key:"computeNodes",value:function(e){this._nodedSegStrings=e;for(var t=e.iterator();t.hasNext();)this.add(t.next());this.intersectChains()}},{key:"intersectChains",value:function(){for(var e=new Ln(this._segInt),t=this._monoChains.iterator();t.hasNext();)for(var n=t.next(),r=this._index.query(n.getEnvelope()).iterator();r.hasNext();){var i=r.next();if(i.getId()>n.getId()&&(n.computeOverlaps(i,e),this._nOverlaps++),this._segInt.isDone())return null}}}],[{key:"constructor_",value:function(){if(this._monoChains=new ge,this._index=new dn,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0,0===arguments.length);else if(1===arguments.length){var e=arguments[0];Cn.constructor_.call(this,e)}}}]),o}(Cn),Ln=function(t){r(a,t);var o=h(a);function a(){var t;return e(this,a),t=o.call(this),a.constructor_.apply(l(t),arguments),t}return n(a,[{key:"overlap",value:function(){if(4!==arguments.length)return f(i(a.prototype),"overlap",this).apply(this,arguments);var e=arguments[1],t=arguments[2],n=arguments[3],r=arguments[0].getContext(),o=t.getContext();this._si.processIntersections(r,e,o,n)}}],[{key:"constructor_",value:function(){this._si=null;var e=arguments[0];this._si=e}}]),a}(En);Tn.SegmentOverlapAction=Ln;var Rn=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"isDeletable",value:function(e,t,n,r){var i=this._inputLine[e],o=this._inputLine[t],a=this._inputLine[n];return!!this.isConcave(i,o,a)&&!!this.isShallow(i,o,a,r)&&this.isShallowSampled(i,o,e,n,r)}},{key:"deleteShallowConcavities",value:function(){for(var e=1,n=this.findNextNonDeletedIndex(e),r=this.findNextNonDeletedIndex(n),i=!1;r<this._inputLine.length;){var o=!1;this.isDeletable(e,n,r,this._distanceTol)&&(this._isDeleted[n]=t.DELETE,o=!0,i=!0),e=o?r:n,n=this.findNextNonDeletedIndex(e),r=this.findNextNonDeletedIndex(n)}return i}},{key:"isShallowConcavity",value:function(e,t,n,r){return he.index(e,t,n)===this._angleOrientation&&xe.pointToSegment(t,e,n)<r}},{key:"isShallowSampled",value:function(e,n,r,i,o){var a=Math.trunc((i-r)/t.NUM_PTS_TO_CHECK);a<=0&&(a=1);for(var s=r;s<i;s+=a)if(!this.isShallow(e,n,this._inputLine[s],o))return!1;return!0}},{key:"isConcave",value:function(e,t,n){return he.index(e,t,n)===this._angleOrientation}},{key:"simplify",value:function(e){this._distanceTol=Math.abs(e),e<0&&(this._angleOrientation=he.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var t=!1;do{t=this.deleteShallowConcavities()}while(t);return this.collapseLine()}},{key:"findNextNonDeletedIndex",value:function(e){for(var n=e+1;n<this._inputLine.length&&this._isDeleted[n]===t.DELETE;)n++;return n}},{key:"isShallow",value:function(e,t,n,r){return xe.pointToSegment(t,e,n)<r}},{key:"collapseLine",value:function(){for(var e=new Ve,n=0;n<this._inputLine.length;n++)this._isDeleted[n]!==t.DELETE&&e.add(this._inputLine[n]);return e.toCoordinateArray()}}],[{key:"constructor_",value:function(){this._inputLine=null,this._distanceTol=null,this._isDeleted=null,this._angleOrientation=he.COUNTERCLOCKWISE;var e=arguments[0];this._inputLine=e}},{key:"simplify",value:function(e,n){return new t(e).simplify(n)}}]),t}();Rn.INIT=0,Rn.DELETE=1,Rn.KEEP=1,Rn.NUM_PTS_TO_CHECK=10;var Pn=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"getCoordinates",value:function(){return this._ptList.toArray(t.COORDINATE_ARRAY_TYPE)}},{key:"setPrecisionModel",value:function(e){this._precisionModel=e}},{key:"addPt",value:function(e){var t=new U(e);if(this._precisionModel.makePrecise(t),this.isRedundant(t))return null;this._ptList.add(t)}},{key:"reverse",value:function(){}},{key:"addPts",value:function(e,t){if(t)for(var n=0;n<e.length;n++)this.addPt(e[n]);else for(var r=e.length-1;r>=0;r--)this.addPt(e[r])}},{key:"isRedundant",value:function(e){if(this._ptList.size()<1)return!1;var t=this._ptList.get(this._ptList.size()-1);return e.distance(t)<this._minimimVertexDistance}},{key:"toString",value:function(){return(new at).createLineString(this.getCoordinates()).toString()}},{key:"closeRing",value:function(){if(this._ptList.size()<1)return null;var e=new U(this._ptList.get(0)),t=this._ptList.get(this._ptList.size()-1);if(e.equals(t))return null;this._ptList.add(e)}},{key:"setMinimumVertexDistance",value:function(e){this._minimimVertexDistance=e}}],[{key:"constructor_",value:function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new ge}}]),t}();Pn.COORDINATE_ARRAY_TYPE=new Array(0).fill(null);var Mn=function(){function t(){e(this,t)}return n(t,null,[{key:"toDegrees",value:function(e){return 180*e/Math.PI}},{key:"normalize",value:function(e){for(;e>Math.PI;)e-=t.PI_TIMES_2;for(;e<=-Math.PI;)e+=t.PI_TIMES_2;return e}},{key:"angle",value:function(){if(1===arguments.length){var e=arguments[0];return Math.atan2(e.y,e.x)}if(2===arguments.length){var t=arguments[0],n=arguments[1],r=n.x-t.x,i=n.y-t.y;return Math.atan2(i,r)}}},{key:"isAcute",value:function(e,t,n){var r=e.x-t.x,i=e.y-t.y;return r*(n.x-t.x)+i*(n.y-t.y)>0}},{key:"isObtuse",value:function(e,t,n){var r=e.x-t.x,i=e.y-t.y;return r*(n.x-t.x)+i*(n.y-t.y)<0}},{key:"interiorAngle",value:function(e,n,r){var i=t.angle(n,e),o=t.angle(n,r);return Math.abs(o-i)}},{key:"normalizePositive",value:function(e){if(e<0){for(;e<0;)e+=t.PI_TIMES_2;e>=t.PI_TIMES_2&&(e=0)}else{for(;e>=t.PI_TIMES_2;)e-=t.PI_TIMES_2;e<0&&(e=0)}return e}},{key:"angleBetween",value:function(e,n,r){var i=t.angle(n,e),o=t.angle(n,r);return t.diff(i,o)}},{key:"diff",value:function(e,t){var n=null;return(n=e<t?t-e:e-t)>Math.PI&&(n=2*Math.PI-n),n}},{key:"toRadians",value:function(e){return e*Math.PI/180}},{key:"getTurn",value:function(e,n){var r=Math.sin(n-e);return r>0?t.COUNTERCLOCKWISE:r<0?t.CLOCKWISE:t.NONE}},{key:"angleBetweenOriented",value:function(e,n,r){var i=t.angle(n,e),o=t.angle(n,r)-i;return o<=-Math.PI?o+t.PI_TIMES_2:o>Math.PI?o-t.PI_TIMES_2:o}}]),t}();Mn.PI_TIMES_2=2*Math.PI,Mn.PI_OVER_2=Math.PI/2,Mn.PI_OVER_4=Math.PI/4,Mn.COUNTERCLOCKWISE=he.COUNTERCLOCKWISE,Mn.CLOCKWISE=he.CLOCKWISE,Mn.NONE=he.COLLINEAR;var On=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"addNextSegment",value:function(e,t){if(this._s0=this._s1,this._s1=this._s2,this._s2=e,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var n=he.index(this._s0,this._s1,this._s2),r=n===he.CLOCKWISE&&this._side===J.LEFT||n===he.COUNTERCLOCKWISE&&this._side===J.RIGHT;0===n?this.addCollinear(t):r?this.addOutsideTurn(n,t):this.addInsideTurn(n,t)}},{key:"addLineEndCap",value:function(e,t){var n=new wn(e,t),r=new wn;this.computeOffsetSegment(n,J.LEFT,this._distance,r);var i=new wn;this.computeOffsetSegment(n,J.RIGHT,this._distance,i);var o=t.x-e.x,a=t.y-e.y,s=Math.atan2(a,o);switch(this._bufParams.getEndCapStyle()){case y.CAP_ROUND:this._segList.addPt(r.p1),this.addDirectedFillet(t,s+Math.PI/2,s-Math.PI/2,he.CLOCKWISE,this._distance),this._segList.addPt(i.p1);break;case y.CAP_FLAT:this._segList.addPt(r.p1),this._segList.addPt(i.p1);break;case y.CAP_SQUARE:var u=new U;u.x=Math.abs(this._distance)*Math.cos(s),u.y=Math.abs(this._distance)*Math.sin(s);var l=new U(r.p1.x+u.x,r.p1.y+u.y),c=new U(i.p1.x+u.x,i.p1.y+u.y);this._segList.addPt(l),this._segList.addPt(c)}}},{key:"getCoordinates",value:function(){return this._segList.getCoordinates()}},{key:"addMitreJoin",value:function(e,t,n,r){var i=me.intersection(t.p0,t.p1,n.p0,n.p1);if(null!==i&&(r<=0?1:i.distance(e)/Math.abs(r))<=this._bufParams.getMitreLimit())return this._segList.addPt(i),null;this.addLimitedMitreJoin(t,n,r,this._bufParams.getMitreLimit())}},{key:"addOutsideTurn",value:function(e,n){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*t.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===y.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===y.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(n&&this._segList.addPt(this._offset0.p1),this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,e,this._distance),this._segList.addPt(this._offset1.p0))}},{key:"createSquare",value:function(e){this._segList.addPt(new U(e.x+this._distance,e.y+this._distance)),this._segList.addPt(new U(e.x+this._distance,e.y-this._distance)),this._segList.addPt(new U(e.x-this._distance,e.y-this._distance)),this._segList.addPt(new U(e.x-this._distance,e.y+this._distance)),this._segList.closeRing()}},{key:"addSegments",value:function(e,t){this._segList.addPts(e,t)}},{key:"addFirstSegment",value:function(){this._segList.addPt(this._offset1.p0)}},{key:"addCornerFillet",value:function(e,t,n,r,i){var o=t.x-e.x,a=t.y-e.y,s=Math.atan2(a,o),u=n.x-e.x,l=n.y-e.y,c=Math.atan2(l,u);r===he.CLOCKWISE?s<=c&&(s+=2*Math.PI):s>=c&&(s-=2*Math.PI),this._segList.addPt(t),this.addDirectedFillet(e,s,c,r,i),this._segList.addPt(n)}},{key:"addLastSegment",value:function(){this._segList.addPt(this._offset1.p1)}},{key:"initSideSegments",value:function(e,t,n){this._s1=e,this._s2=t,this._side=n,this._seg1.setCoordinates(e,t),this.computeOffsetSegment(this._seg1,n,this._distance,this._offset1)}},{key:"addLimitedMitreJoin",value:function(e,t,n,r){var i=this._seg0.p1,o=Mn.angle(i,this._seg0.p0),a=Mn.angleBetweenOriented(this._seg0.p0,i,this._seg1.p1)/2,s=Mn.normalize(o+a),u=Mn.normalize(s+Math.PI),l=r*n,c=n-l*Math.abs(Math.sin(a)),h=i.x+l*Math.cos(u),f=i.y+l*Math.sin(u),d=new U(h,f),p=new wn(i,d),g=p.pointAlongOffset(1,c),v=p.pointAlongOffset(1,-c);this._side===J.LEFT?(this._segList.addPt(g),this._segList.addPt(v)):(this._segList.addPt(v),this._segList.addPt(g))}},{key:"addDirectedFillet",value:function(e,t,n,r,i){var o=r===he.CLOCKWISE?-1:1,a=Math.abs(t-n),s=Math.trunc(a/this._filletAngleQuantum+.5);if(s<1)return null;for(var u=a/s,l=new U,c=0;c<s;c++){var h=t+o*c*u;l.x=e.x+i*Math.cos(h),l.y=e.y+i*Math.sin(h),this._segList.addPt(l)}}},{key:"computeOffsetSegment",value:function(e,t,n,r){var i=t===J.LEFT?1:-1,o=e.p1.x-e.p0.x,a=e.p1.y-e.p0.y,s=Math.sqrt(o*o+a*a),u=i*n*o/s,l=i*n*a/s;r.p0.x=e.p0.x-l,r.p0.y=e.p0.y+u,r.p1.x=e.p1.x-l,r.p1.y=e.p1.y+u}},{key:"addInsideTurn",value:function(e,n){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*t.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var r=new U((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(r);var i=new U((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(i)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}}},{key:"createCircle",value:function(e){var t=new U(e.x+this._distance,e.y);this._segList.addPt(t),this.addDirectedFillet(e,0,2*Math.PI,-1,this._distance),this._segList.closeRing()}},{key:"addBevelJoin",value:function(e,t){this._segList.addPt(e.p1),this._segList.addPt(t.p0)}},{key:"init",value:function(e){this._distance=e,this._maxCurveSegmentError=e*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new Pn,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(e*t.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)}},{key:"addCollinear",value:function(e){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===y.JOIN_BEVEL||this._bufParams.getJoinStyle()===y.JOIN_MITRE?(e&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,he.CLOCKWISE,this._distance))}},{key:"closeRing",value:function(){this._segList.closeRing()}},{key:"hasNarrowConcaveAngle",value:function(){return this._hasNarrowConcaveAngle}}],[{key:"constructor_",value:function(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new wn,this._seg1=new wn,this._offset0=new wn,this._offset1=new wn,this._side=0,this._hasNarrowConcaveAngle=!1;var e=arguments[0],n=arguments[1],r=arguments[2];this._precisionModel=e,this._bufParams=n,this._li=new Rt,this._filletAngleQuantum=Math.PI/2/n.getQuadrantSegments(),n.getQuadrantSegments()>=8&&n.getJoinStyle()===y.JOIN_ROUND&&(this._closingSegLengthFactor=t.MAX_CLOSING_SEG_LEN_FACTOR),this.init(r)}}]),t}();On.OFFSET_SEGMENT_SEPARATION_FACTOR=.001,On.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR=.001,On.CURVE_VERTEX_SNAP_DISTANCE_FACTOR=1e-6,On.MAX_CLOSING_SEG_LEN_FACTOR=80;var An=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"getOffsetCurve",value:function(e,t){if(this._distance=t,0===t)return null;var n=t<0,r=Math.abs(t),i=this.getSegGen(r);e.length<=1?this.computePointCurve(e[0],i):this.computeOffsetCurve(e,n,i);var o=i.getCoordinates();return n&&We.reverse(o),o}},{key:"computeSingleSidedBufferCurve",value:function(e,t,n){var r=this.simplifyTolerance(this._distance);if(t){n.addSegments(e,!0);var i=Rn.simplify(e,-r),o=i.length-1;n.initSideSegments(i[o],i[o-1],J.LEFT),n.addFirstSegment();for(var a=o-2;a>=0;a--)n.addNextSegment(i[a],!0)}else{n.addSegments(e,!1);var s=Rn.simplify(e,r),u=s.length-1;n.initSideSegments(s[0],s[1],J.LEFT),n.addFirstSegment();for(var l=2;l<=u;l++)n.addNextSegment(s[l],!0)}n.addLastSegment(),n.closeRing()}},{key:"computeRingBufferCurve",value:function(e,t,n){var r=this.simplifyTolerance(this._distance);t===J.RIGHT&&(r=-r);var i=Rn.simplify(e,r),o=i.length-1;n.initSideSegments(i[o-1],i[0],t);for(var a=1;a<=o;a++){var s=1!==a;n.addNextSegment(i[a],s)}n.closeRing()}},{key:"computeLineBufferCurve",value:function(e,t){var n=this.simplifyTolerance(this._distance),r=Rn.simplify(e,n),i=r.length-1;t.initSideSegments(r[0],r[1],J.LEFT);for(var o=2;o<=i;o++)t.addNextSegment(r[o],!0);t.addLastSegment(),t.addLineEndCap(r[i-1],r[i]);var a=Rn.simplify(e,-n),s=a.length-1;t.initSideSegments(a[s],a[s-1],J.LEFT);for(var u=s-2;u>=0;u--)t.addNextSegment(a[u],!0);t.addLastSegment(),t.addLineEndCap(a[1],a[0]),t.closeRing()}},{key:"computePointCurve",value:function(e,t){switch(this._bufParams.getEndCapStyle()){case y.CAP_ROUND:t.createCircle(e);break;case y.CAP_SQUARE:t.createSquare(e)}}},{key:"getLineCurve",value:function(e,t){if(this._distance=t,this.isLineOffsetEmpty(t))return null;var n=Math.abs(t),r=this.getSegGen(n);if(e.length<=1)this.computePointCurve(e[0],r);else if(this._bufParams.isSingleSided()){var i=t<0;this.computeSingleSidedBufferCurve(e,i,r)}else this.computeLineBufferCurve(e,r);return r.getCoordinates()}},{key:"getBufferParameters",value:function(){return this._bufParams}},{key:"simplifyTolerance",value:function(e){return e*this._bufParams.getSimplifyFactor()}},{key:"getRingCurve",value:function(e,n,r){if(this._distance=r,e.length<=2)return this.getLineCurve(e,r);if(0===r)return t.copyCoordinates(e);var i=this.getSegGen(r);return this.computeRingBufferCurve(e,n,i),i.getCoordinates()}},{key:"computeOffsetCurve",value:function(e,t,n){var r=this.simplifyTolerance(this._distance);if(t){var i=Rn.simplify(e,-r),o=i.length-1;n.initSideSegments(i[o],i[o-1],J.LEFT),n.addFirstSegment();for(var a=o-2;a>=0;a--)n.addNextSegment(i[a],!0)}else{var s=Rn.simplify(e,r),u=s.length-1;n.initSideSegments(s[0],s[1],J.LEFT),n.addFirstSegment();for(var l=2;l<=u;l++)n.addNextSegment(s[l],!0)}n.addLastSegment()}},{key:"isLineOffsetEmpty",value:function(e){return 0===e||e<0&&!this._bufParams.isSingleSided()}},{key:"getSegGen",value:function(e){return new On(this._precisionModel,this._bufParams,e)}}],[{key:"constructor_",value:function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var e=arguments[0],t=arguments[1];this._precisionModel=e,this._bufParams=t}},{key:"copyCoordinates",value:function(e){for(var t=new Array(e.length).fill(null),n=0;n<t.length;n++)t[n]=new U(e[n]);return t}}]),t}(),Dn=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"findStabbedSegments",value:function(){if(1===arguments.length){for(var e=arguments[0],t=new ge,n=this._subgraphs.iterator();n.hasNext();){var r=n.next(),i=r.getEnvelope();e.y<i.getMinY()||e.y>i.getMaxY()||this.findStabbedSegments(e,r.getDirectedEdges(),t)}return t}if(3===arguments.length)if(ie(arguments[2],ne)&&arguments[0]instanceof U&&arguments[1]instanceof Qt){for(var o=arguments[0],a=arguments[1],s=arguments[2],u=a.getEdge().getCoordinates(),l=0;l<u.length-1;l++)if(this._seg.p0=u[l],this._seg.p1=u[l+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<o.x)&&!(this._seg.isHorizontal()||o.y<this._seg.p0.y||o.y>this._seg.p1.y||he.index(this._seg.p0,this._seg.p1,o)===he.RIGHT)){var c=a.getDepth(J.LEFT);this._seg.p0.equals(u[l])||(c=a.getDepth(J.RIGHT));var h=new Fn(this._seg,c);s.add(h)}}else if(ie(arguments[2],ne)&&arguments[0]instanceof U&&ie(arguments[1],ne))for(var f=arguments[0],d=arguments[2],p=arguments[1].iterator();p.hasNext();){var g=p.next();g.isForward()&&this.findStabbedSegments(f,g,d)}}},{key:"getDepth",value:function(e){var t=this.findStabbedSegments(e);return 0===t.size()?0:sn.min(t)._leftDepth}}],[{key:"constructor_",value:function(){this._subgraphs=null,this._seg=new wn;var e=arguments[0];this._subgraphs=e}}]),t}(),Fn=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"compareTo",value:function(e){var t=e;if(this._upwardSeg.minX()>=t._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=t._upwardSeg.minX())return-1;var n=this._upwardSeg.orientationIndex(t._upwardSeg);return 0!==n||0!==(n=-1*t._upwardSeg.orientationIndex(this._upwardSeg))?n:this._upwardSeg.compareTo(t._upwardSeg)}},{key:"compareX",value:function(e,t){var n=e.p0.compareTo(t.p0);return 0!==n?n:e.p1.compareTo(t.p1)}},{key:"toString",value:function(){return this._upwardSeg.toString()}},{key:"interfaces_",get:function(){return[x]}}],[{key:"constructor_",value:function(){this._upwardSeg=null,this._leftDepth=null;var e=arguments[0],t=arguments[1];this._upwardSeg=new wn(e),this._leftDepth=t}}]),t}();Dn.DepthSegment=Fn;var zn=function(t){r(o,t);var i=h(o);function o(){var t;return e(this,o),t=i.call(this),o.constructor_.apply(l(t),arguments),t}return n(o,null,[{key:"constructor_",value:function(){m.constructor_.call(this,"Projective point not representable on the Cartesian plane.")}}]),o}(m),jn=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"getY",value:function(){var e=this.y/this.w;if(O.isNaN(e)||O.isInfinite(e))throw new zn;return e}},{key:"getX",value:function(){var e=this.x/this.w;if(O.isNaN(e)||O.isInfinite(e))throw new zn;return e}},{key:"getCoordinate",value:function(){var e=new U;return e.x=this.getX(),e.y=this.getY(),e}}],[{key:"constructor_",value:function(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var n=arguments[0],r=arguments[1];this.x=n,this.y=r,this.w=1}else if(arguments[0]instanceof t&&arguments[1]instanceof t){var i=arguments[0],o=arguments[1];this.x=i.y*o.w-o.y*i.w,this.y=o.x*i.w-i.x*o.w,this.w=i.x*o.y-o.x*i.y}else if(arguments[0]instanceof U&&arguments[1]instanceof U){var a=arguments[0],s=arguments[1];this.x=a.y-s.y,this.y=s.x-a.x,this.w=a.x*s.y-s.x*a.y}}else if(3===arguments.length){var u=arguments[0],l=arguments[1],c=arguments[2];this.x=u,this.y=l,this.w=c}else if(4===arguments.length){var h=arguments[0],f=arguments[1],d=arguments[2],p=arguments[3],g=h.y-f.y,v=f.x-h.x,y=h.x*f.y-f.x*h.y,m=d.y-p.y,_=p.x-d.x,k=d.x*p.y-p.x*d.y;this.x=v*k-_*y,this.y=m*y-g*k,this.w=g*_-m*v}}}]),t}(),Bn=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"area",value:function(){return t.area(this.p0,this.p1,this.p2)}},{key:"signedArea",value:function(){return t.signedArea(this.p0,this.p1,this.p2)}},{key:"interpolateZ",value:function(e){if(null===e)throw new _("Supplied point is null.");return t.interpolateZ(e,this.p0,this.p1,this.p2)}},{key:"longestSideLength",value:function(){return t.longestSideLength(this.p0,this.p1,this.p2)}},{key:"isAcute",value:function(){return t.isAcute(this.p0,this.p1,this.p2)}},{key:"circumcentre",value:function(){return t.circumcentre(this.p0,this.p1,this.p2)}},{key:"area3D",value:function(){return t.area3D(this.p0,this.p1,this.p2)}},{key:"centroid",value:function(){return t.centroid(this.p0,this.p1,this.p2)}},{key:"inCentre",value:function(){return t.inCentre(this.p0,this.p1,this.p2)}}],[{key:"constructor_",value:function(){this.p0=null,this.p1=null,this.p2=null;var e=arguments[0],t=arguments[1],n=arguments[2];this.p0=e,this.p1=t,this.p2=n}},{key:"area",value:function(e,t,n){return Math.abs(((n.x-e.x)*(t.y-e.y)-(t.x-e.x)*(n.y-e.y))/2)}},{key:"signedArea",value:function(e,t,n){return((n.x-e.x)*(t.y-e.y)-(t.x-e.x)*(n.y-e.y))/2}},{key:"det",value:function(e,t,n,r){return e*r-t*n}},{key:"interpolateZ",value:function(e,t,n,r){var i=t.x,o=t.y,a=n.x-i,s=r.x-i,u=n.y-o,l=r.y-o,c=a*l-s*u,h=e.x-i,f=e.y-o,d=(l*h-s*f)/c,p=(-u*h+a*f)/c;return t.getZ()+d*(n.getZ()-t.getZ())+p*(r.getZ()-t.getZ())}},{key:"longestSideLength",value:function(e,t,n){var r=e.distance(t),i=t.distance(n),o=n.distance(e),a=r;return i>a&&(a=i),o>a&&(a=o),a}},{key:"circumcentreDD",value:function(e,t,n){var r=ue.valueOf(e.x).subtract(n.x),i=ue.valueOf(e.y).subtract(n.y),o=ue.valueOf(t.x).subtract(n.x),a=ue.valueOf(t.y).subtract(n.y),s=ue.determinant(r,i,o,a).multiply(2),u=r.sqr().add(i.sqr()),l=o.sqr().add(a.sqr()),c=ue.determinant(i,u,a,l),h=ue.determinant(r,u,o,l),f=ue.valueOf(n.x).subtract(c.divide(s)).doubleValue(),d=ue.valueOf(n.y).add(h.divide(s)).doubleValue();return new U(f,d)}},{key:"isAcute",value:function(e,t,n){return!!Mn.isAcute(e,t,n)&&!!Mn.isAcute(t,n,e)&&!!Mn.isAcute(n,e,t)}},{key:"circumcentre",value:function(e,n,r){var i=r.x,o=r.y,a=e.x-i,s=e.y-o,u=n.x-i,l=n.y-o,c=2*t.det(a,s,u,l),h=t.det(s,a*a+s*s,l,u*u+l*l),f=t.det(a,a*a+s*s,u,u*u+l*l);return new U(i-h/c,o+f/c)}},{key:"perpendicularBisector",value:function(e,t){var n=t.x-e.x,r=t.y-e.y,i=new jn(e.x+n/2,e.y+r/2,1),o=new jn(e.x-r+n/2,e.y+n+r/2,1);return new jn(i,o)}},{key:"angleBisector",value:function(e,t,n){var r=t.distance(e),i=r/(r+t.distance(n)),o=n.x-e.x,a=n.y-e.y;return new U(e.x+i*o,e.y+i*a)}},{key:"area3D",value:function(e,t,n){var r=t.x-e.x,i=t.y-e.y,o=t.getZ()-e.getZ(),a=n.x-e.x,s=n.y-e.y,u=n.getZ()-e.getZ(),l=i*u-o*s,c=o*a-r*u,h=r*s-i*a,f=l*l+c*c+h*h;return Math.sqrt(f)/2}},{key:"centroid",value:function(e,t,n){var r=(e.x+t.x+n.x)/3,i=(e.y+t.y+n.y)/3;return new U(r,i)}},{key:"inCentre",value:function(e,t,n){var r=t.distance(n),i=e.distance(n),o=e.distance(t),a=r+i+o,s=(r*e.x+i*t.x+o*n.x)/a,u=(r*e.y+i*t.y+o*n.y)/a;return new U(s,u)}}]),t}(),qn=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"addRingSide",value:function(e,t,n,r,i){if(0===t&&e.length<Ue.MINIMUM_VALID_SIZE)return null;var o=r,a=i;e.length>=Ue.MINIMUM_VALID_SIZE&&he.isCCW(e)&&(o=i,a=r,n=J.opposite(n));var s=this._curveBuilder.getRingCurve(e,n,t);this.addCurve(s,o,a)}},{key:"addRingBothSides",value:function(e,t){this.addRingSide(e,t,J.LEFT,X.EXTERIOR,X.INTERIOR),this.addRingSide(e,t,J.RIGHT,X.INTERIOR,X.EXTERIOR)}},{key:"addPoint",value:function(e){if(this._distance<=0)return null;var t=e.getCoordinates(),n=this._curveBuilder.getLineCurve(t,this._distance);this.addCurve(n,X.EXTERIOR,X.INTERIOR)}},{key:"addPolygon",value:function(e){var t=this._distance,n=J.LEFT;this._distance<0&&(t=-this._distance,n=J.RIGHT);var r=e.getExteriorRing(),i=We.removeRepeatedPoints(r.getCoordinates());if(this._distance<0&&this.isErodedCompletely(r,this._distance))return null;if(this._distance<=0&&i.length<3)return null;this.addRingSide(i,t,n,X.EXTERIOR,X.INTERIOR);for(var o=0;o<e.getNumInteriorRing();o++){var a=e.getInteriorRingN(o),s=We.removeRepeatedPoints(a.getCoordinates());this._distance>0&&this.isErodedCompletely(a,-this._distance)||this.addRingSide(s,t,J.opposite(n),X.INTERIOR,X.EXTERIOR)}}},{key:"isTriangleErodedCompletely",value:function(e,t){var n=new Bn(e[0],e[1],e[2]),r=n.inCentre();return xe.pointToSegment(r,n.p0,n.p1)<Math.abs(t)}},{key:"addLineString",value:function(e){if(this._curveBuilder.isLineOffsetEmpty(this._distance))return null;var t=We.removeRepeatedPoints(e.getCoordinates());if(We.isRing(t)&&!this._curveBuilder.getBufferParameters().isSingleSided())this.addRingBothSides(t,this._distance);else{var n=this._curveBuilder.getLineCurve(t,this._distance);this.addCurve(n,X.EXTERIOR,X.INTERIOR)}}},{key:"addCurve",value:function(e,t,n){if(null===e||e.length<2)return null;var r=new bn(e,new At(0,X.BOUNDARY,t,n));this._curveList.add(r)}},{key:"getCurves",value:function(){return this.add(this._inputGeom),this._curveList}},{key:"add",value:function(e){if(e.isEmpty())return null;if(e instanceof De)this.addPolygon(e);else if(e instanceof Le)this.addLineString(e);else if(e instanceof Pe)this.addPoint(e);else if(e instanceof qe)this.addCollection(e);else if(e instanceof ot)this.addCollection(e);else if(e instanceof et)this.addCollection(e);else{if(!(e instanceof Be))throw new $(e.getGeometryType());this.addCollection(e)}}},{key:"isErodedCompletely",value:function(e,t){var n=e.getCoordinates();if(n.length<4)return t<0;if(4===n.length)return this.isTriangleErodedCompletely(n,t);var r=e.getEnvelopeInternal(),i=Math.min(r.getHeight(),r.getWidth());return t<0&&2*Math.abs(t)>i}},{key:"addCollection",value:function(e){for(var t=0;t<e.getNumGeometries();t++){var n=e.getGeometryN(t);this.add(n)}}}],[{key:"constructor_",value:function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new ge;var e=arguments[0],t=arguments[1],n=arguments[2];this._inputGeom=e,this._distance=t,this._curveBuilder=n}}]),t}(),Un=function(){function t(){e(this,t)}return n(t,[{key:"locate",value:function(e){}}]),t}(),Gn=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"next",value:function(){if(this._atStart)return this._atStart=!1,t.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new W;var e=this._parent.getGeometryN(this._index++);return e instanceof Be?(this._subcollectionIterator=new t(e),this._subcollectionIterator.next()):e}},{key:"remove",value:function(){throw new $(this.getClass().getName())}},{key:"hasNext",value:function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)}},{key:"interfaces_",get:function(){return[yn]}}],[{key:"constructor_",value:function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var e=arguments[0];this._parent=e,this._atStart=!0,this._index=0,this._max=e.getNumGeometries()}},{key:"isAtomic",value:function(e){return!(e instanceof Be)}}]),t}(),Yn=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"locate",value:function(e){return t.locate(e,this._geom)}},{key:"interfaces_",get:function(){return[Un]}}],[{key:"constructor_",value:function(){this._geom=null;var e=arguments[0];this._geom=e}},{key:"locatePointInPolygon",value:function(e,n){if(n.isEmpty())return X.EXTERIOR;var r=n.getExteriorRing(),i=t.locatePointInRing(e,r);if(i!==X.INTERIOR)return i;for(var o=0;o<n.getNumInteriorRing();o++){var a=n.getInteriorRingN(o),s=t.locatePointInRing(e,a);if(s===X.BOUNDARY)return X.BOUNDARY;if(s===X.INTERIOR)return X.EXTERIOR}return X.INTERIOR}},{key:"locatePointInRing",value:function(e,t){return t.getEnvelopeInternal().intersects(e)?Mt.locateInRing(e,t.getCoordinates()):X.EXTERIOR}},{key:"containsPointInPolygon",value:function(e,n){return X.EXTERIOR!==t.locatePointInPolygon(e,n)}},{key:"locateInGeometry",value:function(e,n){if(n instanceof De)return t.locatePointInPolygon(e,n);if(n instanceof Be)for(var r=new Gn(n);r.hasNext();){var i=r.next();if(i!==n){var o=t.locateInGeometry(e,i);if(o!==X.EXTERIOR)return o}}return X.EXTERIOR}},{key:"isContained",value:function(e,n){return X.EXTERIOR!==t.locate(e,n)}},{key:"locate",value:function(e,n){return n.isEmpty()?X.EXTERIOR:n.getEnvelopeInternal().intersects(e)?t.locateInGeometry(e,n):X.EXTERIOR}}]),t}(),Hn=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"getNextCW",value:function(e){this.getEdges();var t=this._edgeList.indexOf(e),n=t-1;return 0===t&&(n=this._edgeList.size()-1),this._edgeList.get(n)}},{key:"propagateSideLabels",value:function(e){for(var t=X.NONE,n=this.iterator();n.hasNext();){var r=n.next().getLabel();r.isArea(e)&&r.getLocation(e,J.LEFT)!==X.NONE&&(t=r.getLocation(e,J.LEFT))}if(t===X.NONE)return null;for(var i=t,o=this.iterator();o.hasNext();){var a=o.next(),s=a.getLabel();if(s.getLocation(e,J.ON)===X.NONE&&s.setLocation(e,J.ON,i),s.isArea(e)){var u=s.getLocation(e,J.LEFT),l=s.getLocation(e,J.RIGHT);if(l!==X.NONE){if(l!==i)throw new de("side location conflict",a.getCoordinate());u===X.NONE&&z.shouldNeverReachHere("found single null side (at "+a.getCoordinate()+")"),i=u}else z.isTrue(s.getLocation(e,J.LEFT)===X.NONE,"found single null side"),s.setLocation(e,J.RIGHT,i),s.setLocation(e,J.LEFT,i)}}}},{key:"getCoordinate",value:function(){var e=this.iterator();return e.hasNext()?e.next().getCoordinate():null}},{key:"print",value:function(e){_e.out.println("EdgeEndStar:   "+this.getCoordinate());for(var t=this.iterator();t.hasNext();)t.next().print(e)}},{key:"isAreaLabelsConsistent",value:function(e){return this.computeEdgeEndLabels(e.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)}},{key:"checkAreaLabelsConsistent",value:function(e){var t=this.getEdges();if(t.size()<=0)return!0;var n=t.size()-1,r=t.get(n).getLabel().getLocation(e,J.LEFT);z.isTrue(r!==X.NONE,"Found unlabelled area edge");for(var i=r,o=this.iterator();o.hasNext();){var a=o.next().getLabel();z.isTrue(a.isArea(e),"Found non-area edge");var s=a.getLocation(e,J.LEFT),u=a.getLocation(e,J.RIGHT);if(s===u)return!1;if(u!==i)return!1;i=s}return!0}},{key:"findIndex",value:function(e){this.iterator();for(var t=0;t<this._edgeList.size();t++)if(this._edgeList.get(t)===e)return t;return-1}},{key:"iterator",value:function(){return this.getEdges().iterator()}},{key:"getEdges",value:function(){return null===this._edgeList&&(this._edgeList=new ge(this._edgeMap.values())),this._edgeList}},{key:"getLocation",value:function(e,t,n){return this._ptInAreaLocation[e]===X.NONE&&(this._ptInAreaLocation[e]=Yn.locate(t,n[e].getGeometry())),this._ptInAreaLocation[e]}},{key:"toString",value:function(){var e=new oe;e.append("EdgeEndStar:   "+this.getCoordinate()),e.append("\n");for(var t=this.iterator();t.hasNext();){var n=t.next();e.append(n),e.append("\n")}return e.toString()}},{key:"computeEdgeEndLabels",value:function(e){for(var t=this.iterator();t.hasNext();)t.next().computeLabel(e)}},{key:"computeLabelling",value:function(e){this.computeEdgeEndLabels(e[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var t=[!1,!1],n=this.iterator();n.hasNext();)for(var r=n.next().getLabel(),i=0;i<2;i++)r.isLine(i)&&r.getLocation(i)===X.BOUNDARY&&(t[i]=!0);for(var o=this.iterator();o.hasNext();)for(var a=o.next(),s=a.getLabel(),u=0;u<2;u++)if(s.isAnyNull(u)){var l=X.NONE;if(t[u])l=X.EXTERIOR;else{var c=a.getCoordinate();l=this.getLocation(u,c,e)}s.setAllLocationsIfNull(u,l)}}},{key:"getDegree",value:function(){return this._edgeMap.size()}},{key:"insertEdgeEnd",value:function(e,t){this._edgeMap.put(e,t),this._edgeList=null}}],[{key:"constructor_",value:function(){this._edgeMap=new Vt,this._edgeList=null,this._ptInAreaLocation=[X.NONE,X.NONE]}}]),t}(),Xn=function(t){r(a,t);var o=h(a);function a(){var t;return e(this,a),t=o.call(this),a.constructor_.apply(l(t),arguments),t}return n(a,[{key:"linkResultDirectedEdges",value:function(){this.getResultAreaEdges();for(var e=null,t=null,n=this._SCANNING_FOR_INCOMING,r=0;r<this._resultAreaEdgeList.size();r++){var i=this._resultAreaEdgeList.get(r),o=i.getSym();if(i.getLabel().isArea())switch(null===e&&i.isInResult()&&(e=i),n){case this._SCANNING_FOR_INCOMING:if(!o.isInResult())continue;t=o,n=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!i.isInResult())continue;t.setNext(i),n=this._SCANNING_FOR_INCOMING}}if(n===this._LINKING_TO_OUTGOING){if(null===e)throw new de("no outgoing dirEdge found",this.getCoordinate());z.isTrue(e.isInResult(),"unable to link last incoming dirEdge"),t.setNext(e)}}},{key:"insert",value:function(e){var t=e;this.insertEdgeEnd(t,t)}},{key:"getRightmostEdge",value:function(){var e=this.getEdges(),t=e.size();if(t<1)return null;var n=e.get(0);if(1===t)return n;var r=e.get(t-1),i=n.getQuadrant(),o=r.getQuadrant();return $t.isNorthern(i)&&$t.isNorthern(o)?n:$t.isNorthern(i)||$t.isNorthern(o)?0!==n.getDy()?n:0!==r.getDy()?r:(z.shouldNeverReachHere("found two horizontal edges incident on node"),null):r}},{key:"print",value:function(e){_e.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var t=this.iterator();t.hasNext();){var n=t.next();e.print("out "),n.print(e),e.println(),e.print("in "),n.getSym().print(e),e.println()}}},{key:"getResultAreaEdges",value:function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new ge;for(var e=this.iterator();e.hasNext();){var t=e.next();(t.isInResult()||t.getSym().isInResult())&&this._resultAreaEdgeList.add(t)}return this._resultAreaEdgeList}},{key:"updateLabelling",value:function(e){for(var t=this.iterator();t.hasNext();){var n=t.next().getLabel();n.setAllLocationsIfNull(0,e.getLocation(0)),n.setAllLocationsIfNull(1,e.getLocation(1))}}},{key:"linkAllDirectedEdges",value:function(){this.getEdges();for(var e=null,t=null,n=this._edgeList.size()-1;n>=0;n--){var r=this._edgeList.get(n),i=r.getSym();null===t&&(t=i),null!==e&&i.setNext(e),e=r}t.setNext(e)}},{key:"computeDepths",value:function(){if(1===arguments.length){var e=arguments[0],t=this.findIndex(e),n=e.getDepth(J.LEFT),r=e.getDepth(J.RIGHT),i=this.computeDepths(t+1,this._edgeList.size(),n);if(this.computeDepths(0,t,i)!==r)throw new de("depth mismatch at "+e.getCoordinate())}else if(3===arguments.length){for(var o=arguments[1],a=arguments[2],s=arguments[0];s<o;s++){var u=this._edgeList.get(s);u.setEdgeDepths(J.RIGHT,a),a=u.getDepth(J.LEFT)}return a}}},{key:"mergeSymLabels",value:function(){for(var e=this.iterator();e.hasNext();){var t=e.next();t.getLabel().merge(t.getSym().getLabel())}}},{key:"linkMinimalDirectedEdges",value:function(e){for(var t=null,n=null,r=this._SCANNING_FOR_INCOMING,i=this._resultAreaEdgeList.size()-1;i>=0;i--){var o=this._resultAreaEdgeList.get(i),a=o.getSym();switch(null===t&&o.getEdgeRing()===e&&(t=o),r){case this._SCANNING_FOR_INCOMING:if(a.getEdgeRing()!==e)continue;n=a,r=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(o.getEdgeRing()!==e)continue;n.setNextMin(o),r=this._SCANNING_FOR_INCOMING}}r===this._LINKING_TO_OUTGOING&&(z.isTrue(null!==t,"found null for first outgoing dirEdge"),z.isTrue(t.getEdgeRing()===e,"unable to link last incoming dirEdge"),n.setNextMin(t))}},{key:"getOutgoingDegree",value:function(){if(0===arguments.length){for(var e=0,t=this.iterator();t.hasNext();)t.next().isInResult()&&e++;return e}if(1===arguments.length){for(var n=arguments[0],r=0,i=this.iterator();i.hasNext();)i.next().getEdgeRing()===n&&r++;return r}}},{key:"getLabel",value:function(){return this._label}},{key:"findCoveredLineEdges",value:function(){for(var e=X.NONE,t=this.iterator();t.hasNext();){var n=t.next(),r=n.getSym();if(!n.isLineEdge()){if(n.isInResult()){e=X.INTERIOR;break}if(r.isInResult()){e=X.EXTERIOR;break}}}if(e===X.NONE)return null;for(var i=e,o=this.iterator();o.hasNext();){var a=o.next(),s=a.getSym();a.isLineEdge()?a.getEdge().setCovered(i===X.INTERIOR):(a.isInResult()&&(i=X.EXTERIOR),s.isInResult()&&(i=X.INTERIOR))}}},{key:"computeLabelling",value:function(e){f(i(a.prototype),"computeLabelling",this).call(this,e),this._label=new At(X.NONE);for(var t=this.iterator();t.hasNext();)for(var n=t.next().getEdge().getLabel(),r=0;r<2;r++){var o=n.getLocation(r);o!==X.INTERIOR&&o!==X.BOUNDARY||this._label.setLocation(r,X.INTERIOR)}}}],[{key:"constructor_",value:function(){this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}}]),a}(Hn),Vn=function(t){r(o,t);var i=h(o);function o(){return e(this,o),i.call(this)}return n(o,[{key:"createNode",value:function(e){return new Bt(e,new Xn)}}]),o}(Kt),Wn=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"compareTo",value:function(e){var n=e;return t.compareOriented(this._pts,this._orientation,n._pts,n._orientation)}},{key:"interfaces_",get:function(){return[x]}}],[{key:"constructor_",value:function(){this._pts=null,this._orientation=null;var e=arguments[0];this._pts=e,this._orientation=t.orientation(e)}},{key:"orientation",value:function(e){return 1===We.increasingDirection(e)}},{key:"compareOriented",value:function(e,t,n,r){for(var i=t?1:-1,o=r?1:-1,a=t?e.length:-1,s=r?n.length:-1,u=t?0:e.length-1,l=r?0:n.length-1;;){var c=e[u].compareTo(n[l]);if(0!==c)return c;var h=(u+=i)===a,f=(l+=o)===s;if(h&&!f)return-1;if(!h&&f)return 1;if(h&&f)return 0}}}]),t}(),$n=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"print",value:function(e){e.print("MULTILINESTRING ( ");for(var t=0;t<this._edges.size();t++){var n=this._edges.get(t);t>0&&e.print(","),e.print("(");for(var r=n.getCoordinates(),i=0;i<r.length;i++)i>0&&e.print(","),e.print(r[i].x+" "+r[i].y);e.println(")")}e.print(")  ")}},{key:"addAll",value:function(e){for(var t=e.iterator();t.hasNext();)this.add(t.next())}},{key:"findEdgeIndex",value:function(e){for(var t=0;t<this._edges.size();t++)if(this._edges.get(t).equals(e))return t;return-1}},{key:"iterator",value:function(){return this._edges.iterator()}},{key:"getEdges",value:function(){return this._edges}},{key:"get",value:function(e){return this._edges.get(e)}},{key:"findEqualEdge",value:function(e){var t=new Wn(e.getCoordinates());return this._ocaMap.get(t)}},{key:"add",value:function(e){this._edges.add(e);var t=new Wn(e.getCoordinates());this._ocaMap.put(t,e)}}],[{key:"constructor_",value:function(){this._edges=new ge,this._ocaMap=new Vt}}]),t}(),Zn=function(){function t(){e(this,t)}return n(t,[{key:"processIntersections",value:function(e,t,n,r){}},{key:"isDone",value:function(){}}]),t}(),Qn=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"isTrivialIntersection",value:function(e,n,r,i){if(e===r&&1===this._li.getIntersectionNum()){if(t.isAdjacentSegments(n,i))return!0;if(e.isClosed()){var o=e.size()-1;if(0===n&&i===o||0===i&&n===o)return!0}}return!1}},{key:"getProperIntersectionPoint",value:function(){return this._properIntersectionPoint}},{key:"hasProperInteriorIntersection",value:function(){return this._hasProperInterior}},{key:"getLineIntersector",value:function(){return this._li}},{key:"hasProperIntersection",value:function(){return this._hasProper}},{key:"processIntersections",value:function(e,t,n,r){if(e===n&&t===r)return null;this.numTests++;var i=e.getCoordinates()[t],o=e.getCoordinates()[t+1],a=n.getCoordinates()[r],s=n.getCoordinates()[r+1];this._li.computeIntersection(i,o,a,s),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(e,t,n,r)||(this._hasIntersection=!0,e.addIntersections(this._li,t,0),n.addIntersections(this._li,r,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))}},{key:"hasIntersection",value:function(){return this._hasIntersection}},{key:"isDone",value:function(){return!1}},{key:"hasInteriorIntersection",value:function(){return this._hasInterior}},{key:"interfaces_",get:function(){return[Zn]}}],[{key:"constructor_",value:function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var e=arguments[0];this._li=e}},{key:"isAdjacentSegments",value:function(e,t){return 1===Math.abs(e-t)}}]),t}(),Kn=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"getSegmentIndex",value:function(){return this.segmentIndex}},{key:"getCoordinate",value:function(){return this.coord}},{key:"print",value:function(e){e.print(this.coord),e.print(" seg # = "+this.segmentIndex),e.println(" dist = "+this.dist)}},{key:"compareTo",value:function(e){var t=e;return this.compare(t.segmentIndex,t.dist)}},{key:"isEndPoint",value:function(e){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===e}},{key:"toString",value:function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist}},{key:"getDistance",value:function(){return this.dist}},{key:"compare",value:function(e,t){return this.segmentIndex<e?-1:this.segmentIndex>e?1:this.dist<t?-1:this.dist>t?1:0}},{key:"interfaces_",get:function(){return[x]}}],[{key:"constructor_",value:function(){this.coord=null,this.segmentIndex=null,this.dist=null;var e=arguments[0],t=arguments[1],n=arguments[2];this.coord=new U(e),this.segmentIndex=t,this.dist=n}}]),t}(),Jn=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"print",value:function(e){e.println("Intersections:");for(var t=this.iterator();t.hasNext();)t.next().print(e)}},{key:"iterator",value:function(){return this._nodeMap.values().iterator()}},{key:"addSplitEdges",value:function(e){this.addEndpoints();for(var t=this.iterator(),n=t.next();t.hasNext();){var r=t.next(),i=this.createSplitEdge(n,r);e.add(i),n=r}}},{key:"addEndpoints",value:function(){var e=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[e],e,0)}},{key:"createSplitEdge",value:function(e,t){var n=t.segmentIndex-e.segmentIndex+2,r=this.edge.pts[t.segmentIndex],i=t.dist>0||!t.coord.equals2D(r);i||n--;var o=new Array(n).fill(null),a=0;o[a++]=new U(e.coord);for(var s=e.segmentIndex+1;s<=t.segmentIndex;s++)o[a++]=this.edge.pts[s];return i&&(o[a]=t.coord),new or(o,new At(this.edge._label))}},{key:"add",value:function(e,t,n){var r=new Kn(e,t,n),i=this._nodeMap.get(r);return null!==i?i:(this._nodeMap.put(r,r),r)}},{key:"isIntersection",value:function(e){for(var t=this.iterator();t.hasNext();)if(t.next().coord.equals(e))return!0;return!1}}],[{key:"constructor_",value:function(){this._nodeMap=new Vt,this.edge=null;var e=arguments[0];this.edge=e}}]),t}(),er=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"isIntersects",value:function(){return!this.isDisjoint()}},{key:"isCovers",value:function(){return(t.isTrue(this._matrix[X.INTERIOR][X.INTERIOR])||t.isTrue(this._matrix[X.INTERIOR][X.BOUNDARY])||t.isTrue(this._matrix[X.BOUNDARY][X.INTERIOR])||t.isTrue(this._matrix[X.BOUNDARY][X.BOUNDARY]))&&this._matrix[X.EXTERIOR][X.INTERIOR]===Ie.FALSE&&this._matrix[X.EXTERIOR][X.BOUNDARY]===Ie.FALSE}},{key:"isCoveredBy",value:function(){return(t.isTrue(this._matrix[X.INTERIOR][X.INTERIOR])||t.isTrue(this._matrix[X.INTERIOR][X.BOUNDARY])||t.isTrue(this._matrix[X.BOUNDARY][X.INTERIOR])||t.isTrue(this._matrix[X.BOUNDARY][X.BOUNDARY]))&&this._matrix[X.INTERIOR][X.EXTERIOR]===Ie.FALSE&&this._matrix[X.BOUNDARY][X.EXTERIOR]===Ie.FALSE}},{key:"set",value:function(){if(1===arguments.length)for(var e=arguments[0],t=0;t<e.length;t++){var n=Math.trunc(t/3),r=t%3;this._matrix[n][r]=Ie.toDimensionValue(e.charAt(t))}else if(3===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2];this._matrix[i][o]=a}}},{key:"isContains",value:function(){return t.isTrue(this._matrix[X.INTERIOR][X.INTERIOR])&&this._matrix[X.EXTERIOR][X.INTERIOR]===Ie.FALSE&&this._matrix[X.EXTERIOR][X.BOUNDARY]===Ie.FALSE}},{key:"setAtLeast",value:function(){if(1===arguments.length)for(var e=arguments[0],t=0;t<e.length;t++){var n=Math.trunc(t/3),r=t%3;this.setAtLeast(n,r,Ie.toDimensionValue(e.charAt(t)))}else if(3===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2];this._matrix[i][o]<a&&(this._matrix[i][o]=a)}}},{key:"setAtLeastIfValid",value:function(e,t,n){e>=0&&t>=0&&this.setAtLeast(e,t,n)}},{key:"isWithin",value:function(){return t.isTrue(this._matrix[X.INTERIOR][X.INTERIOR])&&this._matrix[X.INTERIOR][X.EXTERIOR]===Ie.FALSE&&this._matrix[X.BOUNDARY][X.EXTERIOR]===Ie.FALSE}},{key:"isTouches",value:function(e,n){return e>n?this.isTouches(n,e):(e===Ie.A&&n===Ie.A||e===Ie.L&&n===Ie.L||e===Ie.L&&n===Ie.A||e===Ie.P&&n===Ie.A||e===Ie.P&&n===Ie.L)&&this._matrix[X.INTERIOR][X.INTERIOR]===Ie.FALSE&&(t.isTrue(this._matrix[X.INTERIOR][X.BOUNDARY])||t.isTrue(this._matrix[X.BOUNDARY][X.INTERIOR])||t.isTrue(this._matrix[X.BOUNDARY][X.BOUNDARY]))}},{key:"isOverlaps",value:function(e,n){return e===Ie.P&&n===Ie.P||e===Ie.A&&n===Ie.A?t.isTrue(this._matrix[X.INTERIOR][X.INTERIOR])&&t.isTrue(this._matrix[X.INTERIOR][X.EXTERIOR])&&t.isTrue(this._matrix[X.EXTERIOR][X.INTERIOR]):e===Ie.L&&n===Ie.L&&1===this._matrix[X.INTERIOR][X.INTERIOR]&&t.isTrue(this._matrix[X.INTERIOR][X.EXTERIOR])&&t.isTrue(this._matrix[X.EXTERIOR][X.INTERIOR])}},{key:"isEquals",value:function(e,n){return e===n&&t.isTrue(this._matrix[X.INTERIOR][X.INTERIOR])&&this._matrix[X.INTERIOR][X.EXTERIOR]===Ie.FALSE&&this._matrix[X.BOUNDARY][X.EXTERIOR]===Ie.FALSE&&this._matrix[X.EXTERIOR][X.INTERIOR]===Ie.FALSE&&this._matrix[X.EXTERIOR][X.BOUNDARY]===Ie.FALSE}},{key:"toString",value:function(){for(var e=new Qe("123456789"),t=0;t<3;t++)for(var n=0;n<3;n++)e.setCharAt(3*t+n,Ie.toDimensionSymbol(this._matrix[t][n]));return e.toString()}},{key:"setAll",value:function(e){for(var t=0;t<3;t++)for(var n=0;n<3;n++)this._matrix[t][n]=e}},{key:"get",value:function(e,t){return this._matrix[e][t]}},{key:"transpose",value:function(){var e=this._matrix[1][0];return this._matrix[1][0]=this._matrix[0][1],this._matrix[0][1]=e,e=this._matrix[2][0],this._matrix[2][0]=this._matrix[0][2],this._matrix[0][2]=e,e=this._matrix[2][1],this._matrix[2][1]=this._matrix[1][2],this._matrix[1][2]=e,this}},{key:"matches",value:function(e){if(9!==e.length)throw new _("Should be length 9: "+e);for(var n=0;n<3;n++)for(var r=0;r<3;r++)if(!t.matches(this._matrix[n][r],e.charAt(3*n+r)))return!1;return!0}},{key:"add",value:function(e){for(var t=0;t<3;t++)for(var n=0;n<3;n++)this.setAtLeast(t,n,e.get(t,n))}},{key:"isDisjoint",value:function(){return this._matrix[X.INTERIOR][X.INTERIOR]===Ie.FALSE&&this._matrix[X.INTERIOR][X.BOUNDARY]===Ie.FALSE&&this._matrix[X.BOUNDARY][X.INTERIOR]===Ie.FALSE&&this._matrix[X.BOUNDARY][X.BOUNDARY]===Ie.FALSE}},{key:"isCrosses",value:function(e,n){return e===Ie.P&&n===Ie.L||e===Ie.P&&n===Ie.A||e===Ie.L&&n===Ie.A?t.isTrue(this._matrix[X.INTERIOR][X.INTERIOR])&&t.isTrue(this._matrix[X.INTERIOR][X.EXTERIOR]):e===Ie.L&&n===Ie.P||e===Ie.A&&n===Ie.P||e===Ie.A&&n===Ie.L?t.isTrue(this._matrix[X.INTERIOR][X.INTERIOR])&&t.isTrue(this._matrix[X.EXTERIOR][X.INTERIOR]):e===Ie.L&&n===Ie.L&&0===this._matrix[X.INTERIOR][X.INTERIOR]}},{key:"interfaces_",get:function(){return[b]}}],[{key:"constructor_",value:function(){if(this._matrix=null,0===arguments.length)this._matrix=Array(3).fill().map((function(){return Array(3)})),this.setAll(Ie.FALSE);else if(1===arguments.length)if("string"==typeof arguments[0]){var e=arguments[0];t.constructor_.call(this),this.set(e)}else if(arguments[0]instanceof t){var n=arguments[0];t.constructor_.call(this),this._matrix[X.INTERIOR][X.INTERIOR]=n._matrix[X.INTERIOR][X.INTERIOR],this._matrix[X.INTERIOR][X.BOUNDARY]=n._matrix[X.INTERIOR][X.BOUNDARY],this._matrix[X.INTERIOR][X.EXTERIOR]=n._matrix[X.INTERIOR][X.EXTERIOR],this._matrix[X.BOUNDARY][X.INTERIOR]=n._matrix[X.BOUNDARY][X.INTERIOR],this._matrix[X.BOUNDARY][X.BOUNDARY]=n._matrix[X.BOUNDARY][X.BOUNDARY],this._matrix[X.BOUNDARY][X.EXTERIOR]=n._matrix[X.BOUNDARY][X.EXTERIOR],this._matrix[X.EXTERIOR][X.INTERIOR]=n._matrix[X.EXTERIOR][X.INTERIOR],this._matrix[X.EXTERIOR][X.BOUNDARY]=n._matrix[X.EXTERIOR][X.BOUNDARY],this._matrix[X.EXTERIOR][X.EXTERIOR]=n._matrix[X.EXTERIOR][X.EXTERIOR]}}},{key:"matches",value:function(){if(Number.isInteger(arguments[0])&&"string"==typeof arguments[1]){var e=arguments[0],n=arguments[1];return n===Ie.SYM_DONTCARE||n===Ie.SYM_TRUE&&(e>=0||e===Ie.TRUE)||n===Ie.SYM_FALSE&&e===Ie.FALSE||n===Ie.SYM_P&&e===Ie.P||n===Ie.SYM_L&&e===Ie.L||n===Ie.SYM_A&&e===Ie.A}if("string"==typeof arguments[0]&&"string"==typeof arguments[1]){var r=arguments[1];return new t(arguments[0]).matches(r)}}},{key:"isTrue",value:function(e){return e>=0||e===Ie.TRUE}}]),t}(),tr=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"size",value:function(){return this._size}},{key:"addAll",value:function(e){return null===e||0===e.length?null:(this.ensureCapacity(this._size+e.length),_e.arraycopy(e,0,this._data,this._size,e.length),void(this._size+=e.length))}},{key:"ensureCapacity",value:function(e){if(e<=this._data.length)return null;var t=Math.max(e,2*this._data.length);this._data=Oe.copyOf(this._data,t)}},{key:"toArray",value:function(){var e=new Array(this._size).fill(null);return _e.arraycopy(this._data,0,e,0,this._size),e}},{key:"add",value:function(e){this.ensureCapacity(this._size+1),this._data[this._size]=e,++this._size}}],[{key:"constructor_",value:function(){if(this._data=null,this._size=0,0===arguments.length)t.constructor_.call(this,10);else if(1===arguments.length){var e=arguments[0];this._data=new Array(e).fill(null)}}}]),t}(),nr=function(){function t(){e(this,t)}return n(t,[{key:"getChainStartIndices",value:function(e){var t=0,n=new tr(Math.trunc(e.length/2));n.add(t);do{var r=this.findChainEnd(e,t);n.add(r),t=r}while(t<e.length-1);return n.toArray()}},{key:"findChainEnd",value:function(e,t){for(var n=$t.quadrant(e[t],e[t+1]),r=t+1;r<e.length&&$t.quadrant(e[r-1],e[r])===n;)r++;return r-1}},{key:"OLDgetChainStartIndices",value:function(e){var n=0,r=new ge;r.add(n);do{var i=this.findChainEnd(e,n);r.add(i),n=i}while(n<e.length-1);return t.toIntArray(r)}}],[{key:"toIntArray",value:function(e){for(var t=new Array(e.size()).fill(null),n=0;n<t.length;n++)t[n]=e.get(n).intValue();return t}}]),t}(),rr=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"getCoordinates",value:function(){return this.pts}},{key:"getMaxX",value:function(e){var t=this.pts[this.startIndex[e]].x,n=this.pts[this.startIndex[e+1]].x;return t>n?t:n}},{key:"getMinX",value:function(e){var t=this.pts[this.startIndex[e]].x,n=this.pts[this.startIndex[e+1]].x;return t<n?t:n}},{key:"computeIntersectsForChain",value:function(){if(4===arguments.length){var e=arguments[0],t=arguments[1],n=arguments[2],r=arguments[3];this.computeIntersectsForChain(this.startIndex[e],this.startIndex[e+1],t,t.startIndex[n],t.startIndex[n+1],r)}else if(6===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3],u=arguments[4],l=arguments[5];if(o-i==1&&u-s==1)return l.addIntersections(this.e,i,a.e,s),null;if(!this.overlaps(i,o,a,s,u))return null;var c=Math.trunc((i+o)/2),h=Math.trunc((s+u)/2);i<c&&(s<h&&this.computeIntersectsForChain(i,c,a,s,h,l),h<u&&this.computeIntersectsForChain(i,c,a,h,u,l)),c<o&&(s<h&&this.computeIntersectsForChain(c,o,a,s,h,l),h<u&&this.computeIntersectsForChain(c,o,a,h,u,l))}}},{key:"overlaps",value:function(e,t,n,r,i){return Y.intersects(this.pts[e],this.pts[t],n.pts[r],n.pts[i])}},{key:"getStartIndexes",value:function(){return this.startIndex}},{key:"computeIntersects",value:function(e,t){for(var n=0;n<this.startIndex.length-1;n++)for(var r=0;r<e.startIndex.length-1;r++)this.computeIntersectsForChain(n,e,r,t)}}],[{key:"constructor_",value:function(){this.e=null,this.pts=null,this.startIndex=null;var e=arguments[0];this.e=e,this.pts=e.getCoordinates();var t=new nr;this.startIndex=t.getChainStartIndices(this.pts)}}]),t}(),ir=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"getDepth",value:function(e,t){return this._depth[e][t]}},{key:"setDepth",value:function(e,t,n){this._depth[e][t]=n}},{key:"isNull",value:function(){if(0===arguments.length){for(var e=0;e<2;e++)for(var n=0;n<3;n++)if(this._depth[e][n]!==t.NULL_VALUE)return!1;return!0}if(1===arguments.length){var r=arguments[0];return this._depth[r][1]===t.NULL_VALUE}if(2===arguments.length){var i=arguments[0],o=arguments[1];return this._depth[i][o]===t.NULL_VALUE}}},{key:"normalize",value:function(){for(var e=0;e<2;e++)if(!this.isNull(e)){var t=this._depth[e][1];this._depth[e][2]<t&&(t=this._depth[e][2]),t<0&&(t=0);for(var n=1;n<3;n++){var r=0;this._depth[e][n]>t&&(r=1),this._depth[e][n]=r}}}},{key:"getDelta",value:function(e){return this._depth[e][J.RIGHT]-this._depth[e][J.LEFT]}},{key:"getLocation",value:function(e,t){return this._depth[e][t]<=0?X.EXTERIOR:X.INTERIOR}},{key:"toString",value:function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]}},{key:"add",value:function(){if(1===arguments.length)for(var e=arguments[0],n=0;n<2;n++)for(var r=1;r<3;r++){var i=e.getLocation(n,r);i!==X.EXTERIOR&&i!==X.INTERIOR||(this.isNull(n,r)?this._depth[n][r]=t.depthAtLocation(i):this._depth[n][r]+=t.depthAtLocation(i))}else if(3===arguments.length){var o=arguments[0],a=arguments[1];arguments[2]===X.INTERIOR&&this._depth[o][a]++}}}],[{key:"constructor_",value:function(){this._depth=Array(2).fill().map((function(){return Array(3)}));for(var e=0;e<2;e++)for(var n=0;n<3;n++)this._depth[e][n]=t.NULL_VALUE}},{key:"depthAtLocation",value:function(e){return e===X.EXTERIOR?0:e===X.INTERIOR?1:t.NULL_VALUE}}]),t}();ir.NULL_VALUE=-1;var or=function(t){r(a,t);var o=h(a);function a(){var t;return e(this,a),t=o.call(this),a.constructor_.apply(l(t),arguments),t}return n(a,[{key:"getDepth",value:function(){return this._depth}},{key:"getCollapsedEdge",value:function(){var e=new Array(2).fill(null);return e[0]=this.pts[0],e[1]=this.pts[1],new a(e,At.toLineLabel(this._label))}},{key:"isIsolated",value:function(){return this._isIsolated}},{key:"getCoordinates",value:function(){return this.pts}},{key:"setIsolated",value:function(e){this._isIsolated=e}},{key:"setName",value:function(e){this._name=e}},{key:"equals",value:function(e){if(!(e instanceof a))return!1;var t=e;if(this.pts.length!==t.pts.length)return!1;for(var n=!0,r=!0,i=this.pts.length,o=0;o<this.pts.length;o++)if(this.pts[o].equals2D(t.pts[o])||(n=!1),this.pts[o].equals2D(t.pts[--i])||(r=!1),!n&&!r)return!1;return!0}},{key:"getCoordinate",value:function(){if(0===arguments.length)return this.pts.length>0?this.pts[0]:null;if(1===arguments.length){var e=arguments[0];return this.pts[e]}}},{key:"print",value:function(e){e.print("edge "+this._name+": "),e.print("LINESTRING (");for(var t=0;t<this.pts.length;t++)t>0&&e.print(","),e.print(this.pts[t].x+" "+this.pts[t].y);e.print(")  "+this._label+" "+this._depthDelta)}},{key:"computeIM",value:function(e){a.updateIM(this._label,e)}},{key:"isCollapsed",value:function(){return!!this._label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])}},{key:"isClosed",value:function(){return this.pts[0].equals(this.pts[this.pts.length-1])}},{key:"getMaximumSegmentIndex",value:function(){return this.pts.length-1}},{key:"getDepthDelta",value:function(){return this._depthDelta}},{key:"getNumPoints",value:function(){return this.pts.length}},{key:"printReverse",value:function(e){e.print("edge "+this._name+": ");for(var t=this.pts.length-1;t>=0;t--)e.print(this.pts[t]+" ");e.println("")}},{key:"getMonotoneChainEdge",value:function(){return null===this._mce&&(this._mce=new rr(this)),this._mce}},{key:"getEnvelope",value:function(){if(null===this._env){this._env=new Y;for(var e=0;e<this.pts.length;e++)this._env.expandToInclude(this.pts[e])}return this._env}},{key:"addIntersection",value:function(e,t,n,r){var i=new U(e.getIntersection(r)),o=t,a=e.getEdgeDistance(n,r),s=o+1;if(s<this.pts.length){var u=this.pts[s];i.equals2D(u)&&(o=s,a=0)}this.eiList.add(i,o,a)}},{key:"toString",value:function(){var e=new Qe;e.append("edge "+this._name+": "),e.append("LINESTRING (");for(var t=0;t<this.pts.length;t++)t>0&&e.append(","),e.append(this.pts[t].x+" "+this.pts[t].y);return e.append(")  "+this._label+" "+this._depthDelta),e.toString()}},{key:"isPointwiseEqual",value:function(e){if(this.pts.length!==e.pts.length)return!1;for(var t=0;t<this.pts.length;t++)if(!this.pts[t].equals2D(e.pts[t]))return!1;return!0}},{key:"setDepthDelta",value:function(e){this._depthDelta=e}},{key:"getEdgeIntersectionList",value:function(){return this.eiList}},{key:"addIntersections",value:function(e,t,n){for(var r=0;r<e.getIntersectionNum();r++)this.addIntersection(e,t,n,r)}}],[{key:"constructor_",value:function(){if(this.pts=null,this._env=null,this.eiList=new Jn(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new ir,this._depthDelta=0,1===arguments.length){var e=arguments[0];a.constructor_.call(this,e,null)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];this.pts=t,this._label=n}}},{key:"updateIM",value:function(){if(!(2===arguments.length&&arguments[1]instanceof er&&arguments[0]instanceof At))return f(i(a),"updateIM",this).apply(this,arguments);var e=arguments[0],t=arguments[1];t.setAtLeastIfValid(e.getLocation(0,J.ON),e.getLocation(1,J.ON),1),e.isArea()&&(t.setAtLeastIfValid(e.getLocation(0,J.LEFT),e.getLocation(1,J.LEFT),2),t.setAtLeastIfValid(e.getLocation(0,J.RIGHT),e.getLocation(1,J.RIGHT),2))}}]),a}(jt),ar=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"setWorkingPrecisionModel",value:function(e){this._workingPrecisionModel=e}},{key:"insertUniqueEdge",value:function(e){var n=this._edgeList.findEqualEdge(e);if(null!==n){var r=n.getLabel(),i=e.getLabel();n.isPointwiseEqual(e)||(i=new At(e.getLabel())).flip(),r.merge(i);var o=t.depthDelta(i),a=n.getDepthDelta()+o;n.setDepthDelta(a)}else this._edgeList.add(e),e.setDepthDelta(t.depthDelta(e.getLabel()))}},{key:"buildSubgraphs",value:function(e,t){for(var n=new ge,r=e.iterator();r.hasNext();){var i=r.next(),o=i.getRightmostCoordinate(),a=new Dn(n).getDepth(o);i.computeDepth(a),i.findResultEdges(),n.add(i),t.add(i.getDirectedEdges(),i.getNodes())}}},{key:"createSubgraphs",value:function(e){for(var t=new ge,n=e.getNodes().iterator();n.hasNext();){var r=n.next();if(!r.isVisited()){var i=new ye;i.create(r),t.add(i)}}return sn.sort(t,sn.reverseOrder()),t}},{key:"createEmptyResultGeometry",value:function(){return this._geomFact.createPolygon()}},{key:"getNoder",value:function(e){if(null!==this._workingNoder)return this._workingNoder;var t=new Tn,n=new Rt;return n.setPrecisionModel(e),t.setSegmentIntersector(new Qn(n)),t}},{key:"buffer",value:function(e,t){var n=this._workingPrecisionModel;null===n&&(n=e.getPrecisionModel()),this._geomFact=e.getFactory();var r=new An(n,this._bufParams),i=new qn(e,t,r).getCurves();if(i.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(i,n),this._graph=new Jt(new Vn),this._graph.addEdges(this._edgeList.getEdges());var o=this.createSubgraphs(this._graph),a=new en(this._geomFact);this.buildSubgraphs(o,a);var s=a.getPolygons();return s.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(s)}},{key:"computeNodedEdges",value:function(e,t){var n=this.getNoder(t);n.computeNodes(e);for(var r=n.getNodedSubstrings().iterator();r.hasNext();){var i=r.next(),o=i.getCoordinates();if(2!==o.length||!o[0].equals2D(o[1])){var a=i.getData(),s=new or(i.getCoordinates(),new At(a));this.insertUniqueEdge(s)}}}},{key:"setNoder",value:function(e){this._workingNoder=e}}],[{key:"constructor_",value:function(){this._bufParams=null,this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new $n;var e=arguments[0];this._bufParams=e}},{key:"depthDelta",value:function(e){var t=e.getLocation(0,J.LEFT),n=e.getLocation(0,J.RIGHT);return t===X.INTERIOR&&n===X.EXTERIOR?1:t===X.EXTERIOR&&n===X.INTERIOR?-1:0}},{key:"convertSegStrings",value:function(e){for(var t=new at,n=new ge;e.hasNext();){var r=e.next(),i=t.createLineString(r.getCoordinates());n.add(i)}return t.buildGeometry(n)}}]),t}(),sr=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"rescale",value:function(){if(ie(arguments[0],V))for(var e=arguments[0].iterator();e.hasNext();){var t=e.next();this.rescale(t.getCoordinates())}else if(arguments[0]instanceof Array){for(var n=arguments[0],r=0;r<n.length;r++)n[r].x=n[r].x/this._scaleFactor+this._offsetX,n[r].y=n[r].y/this._scaleFactor+this._offsetY;2===n.length&&n[0].equals2D(n[1])&&_e.out.println(n)}}},{key:"scale",value:function(){if(ie(arguments[0],V)){for(var e=arguments[0],t=new ge(e.size()),n=e.iterator();n.hasNext();){var r=n.next();t.add(new bn(this.scale(r.getCoordinates()),r.getData()))}return t}if(arguments[0]instanceof Array){for(var i=arguments[0],o=new Array(i.length).fill(null),a=0;a<i.length;a++)o[a]=new U(Math.round((i[a].x-this._offsetX)*this._scaleFactor),Math.round((i[a].y-this._offsetY)*this._scaleFactor),i[a].getZ());return We.removeRepeatedPoints(o)}}},{key:"isIntegerPrecision",value:function(){return 1===this._scaleFactor}},{key:"getNodedSubstrings",value:function(){var e=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(e),e}},{key:"computeNodes",value:function(e){var t=e;this._isScaled&&(t=this.scale(e)),this._noder.computeNodes(t)}},{key:"interfaces_",get:function(){return[In]}}],[{key:"constructor_",value:function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){var e=arguments[0],n=arguments[1];t.constructor_.call(this,e,n,0,0)}else if(4===arguments.length){var r=arguments[0],i=arguments[1];this._noder=r,this._scaleFactor=i,this._isScaled=!this.isIntegerPrecision()}}}]),t}(),ur=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"checkEndPtVertexIntersections",value:function(){if(0===arguments.length)for(var e=this._segStrings.iterator();e.hasNext();){var t=e.next().getCoordinates();this.checkEndPtVertexIntersections(t[0],this._segStrings),this.checkEndPtVertexIntersections(t[t.length-1],this._segStrings)}else if(2===arguments.length)for(var n=arguments[0],r=arguments[1].iterator();r.hasNext();)for(var i=r.next().getCoordinates(),o=1;o<i.length-1;o++)if(i[o].equals(n))throw new D("found endpt/interior pt intersection at index "+o+" :pt "+n)}},{key:"checkInteriorIntersections",value:function(){if(0===arguments.length)for(var e=this._segStrings.iterator();e.hasNext();)for(var t=e.next(),n=this._segStrings.iterator();n.hasNext();){var r=n.next();this.checkInteriorIntersections(t,r)}else if(2===arguments.length)for(var i=arguments[0],o=arguments[1],a=i.getCoordinates(),s=o.getCoordinates(),u=0;u<a.length-1;u++)for(var l=0;l<s.length-1;l++)this.checkInteriorIntersections(i,u,o,l);else if(4===arguments.length){var c=arguments[0],h=arguments[1],f=arguments[2],d=arguments[3];if(c===f&&h===d)return null;var p=c.getCoordinates()[h],g=c.getCoordinates()[h+1],v=f.getCoordinates()[d],y=f.getCoordinates()[d+1];if(this._li.computeIntersection(p,g,v,y),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,p,g)||this.hasInteriorIntersection(this._li,v,y)))throw new D("found non-noded intersection at "+p+"-"+g+" and "+v+"-"+y)}}},{key:"checkValid",value:function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()}},{key:"checkCollapses",value:function(){if(0===arguments.length)for(var e=this._segStrings.iterator();e.hasNext();){var t=e.next();this.checkCollapses(t)}else if(1===arguments.length)for(var n=arguments[0].getCoordinates(),r=0;r<n.length-2;r++)this.checkCollapse(n[r],n[r+1],n[r+2])}},{key:"hasInteriorIntersection",value:function(e,t,n){for(var r=0;r<e.getIntersectionNum();r++){var i=e.getIntersection(r);if(!i.equals(t)&&!i.equals(n))return!0}return!1}},{key:"checkCollapse",value:function(e,n,r){if(e.equals(r))throw new D("found non-noded collapse at "+t.fact.createLineString([e,n,r]))}}],[{key:"constructor_",value:function(){this._li=new Rt,this._segStrings=null;var e=arguments[0];this._segStrings=e}}]),t}();ur.fact=new at;var lr=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"intersectsScaled",value:function(e,t){var n=Math.min(e.x,t.x),r=Math.max(e.x,t.x),i=Math.min(e.y,t.y),o=Math.max(e.y,t.y),a=this._maxx<n||this._minx>r||this._maxy<i||this._miny>o;if(a)return!1;var s=this.intersectsToleranceSquare(e,t);return z.isTrue(!(a&&s),"Found bad envelope test"),s}},{key:"initCorners",value:function(e){var t=.5;this._minx=e.x-t,this._maxx=e.x+t,this._miny=e.y-t,this._maxy=e.y+t,this._corner[0]=new U(this._maxx,this._maxy),this._corner[1]=new U(this._minx,this._maxy),this._corner[2]=new U(this._minx,this._miny),this._corner[3]=new U(this._maxx,this._miny)}},{key:"intersects",value:function(e,t){return 1===this._scaleFactor?this.intersectsScaled(e,t):(this.copyScaled(e,this._p0Scaled),this.copyScaled(t,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))}},{key:"scale",value:function(e){return Math.round(e*this._scaleFactor)}},{key:"getCoordinate",value:function(){return this._originalPt}},{key:"copyScaled",value:function(e,t){t.x=this.scale(e.x),t.y=this.scale(e.y)}},{key:"getSafeEnvelope",value:function(){if(null===this._safeEnv){var e=t.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new Y(this._originalPt.x-e,this._originalPt.x+e,this._originalPt.y-e,this._originalPt.y+e)}return this._safeEnv}},{key:"intersectsPixelClosure",value:function(e,t){return this._li.computeIntersection(e,t,this._corner[0],this._corner[1]),!!this._li.hasIntersection()||(this._li.computeIntersection(e,t,this._corner[1],this._corner[2]),!!this._li.hasIntersection()||(this._li.computeIntersection(e,t,this._corner[2],this._corner[3]),!!this._li.hasIntersection()||(this._li.computeIntersection(e,t,this._corner[3],this._corner[0]),!!this._li.hasIntersection())))}},{key:"intersectsToleranceSquare",value:function(e,t){var n=!1,r=!1;return this._li.computeIntersection(e,t,this._corner[0],this._corner[1]),!!this._li.isProper()||(this._li.computeIntersection(e,t,this._corner[1],this._corner[2]),!!this._li.isProper()||(this._li.hasIntersection()&&(n=!0),this._li.computeIntersection(e,t,this._corner[2],this._corner[3]),!!this._li.isProper()||(this._li.hasIntersection()&&(r=!0),this._li.computeIntersection(e,t,this._corner[3],this._corner[0]),!!this._li.isProper()||!(!n||!r)||!!e.equals(this._pt)||!!t.equals(this._pt))))}},{key:"addSnappedNode",value:function(e,t){var n=e.getCoordinate(t),r=e.getCoordinate(t+1);return!!this.intersects(n,r)&&(e.addIntersection(this.getCoordinate(),t),!0)}}],[{key:"constructor_",value:function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var e=arguments[0],t=arguments[1],n=arguments[2];if(this._originalPt=e,this._pt=e,this._scaleFactor=t,this._li=n,t<=0)throw new _("Scale factor must be non-zero");1!==t&&(this._pt=new U(this.scale(e.x),this.scale(e.y)),this._p0Scaled=new U,this._p1Scaled=new U),this.initCorners(this._pt)}}]),t}();lr.SAFE_ENV_EXPANSION_FACTOR=.75;var cr=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"select",value:function(){if(1===arguments.length);else if(2===arguments.length){var e=arguments[1];arguments[0].getLineSegment(e,this.selectedSegment),this.select(this.selectedSegment)}}}],[{key:"constructor_",value:function(){this.selectedSegment=new wn}}]),t}(),hr=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"snap",value:function(){if(1===arguments.length){var t=arguments[0];return this.snap(t,null,-1)}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2],a=r.getSafeEnvelope(),s=new fr(r,i,o);return this._index.query(a,new(function(){function t(){e(this,t)}return n(t,[{key:"interfaces_",get:function(){return[cn]}},{key:"visitItem",value:function(e){e.select(a,s)}}]),t}())),s.isNodeAdded()}}}],[{key:"constructor_",value:function(){this._index=null;var e=arguments[0];this._index=e}}]),t}(),fr=function(t){r(a,t);var o=h(a);function a(){var t;return e(this,a),t=o.call(this),a.constructor_.apply(l(t),arguments),t}return n(a,[{key:"isNodeAdded",value:function(){return this._isNodeAdded}},{key:"select",value:function(){if(!(2===arguments.length&&Number.isInteger(arguments[1])&&arguments[0]instanceof Nn))return f(i(a.prototype),"select",this).apply(this,arguments);var e=arguments[1],t=arguments[0].getContext();if(this._parentEdge===t&&(e===this._hotPixelVertexIndex||e+1===this._hotPixelVertexIndex))return null;this._isNodeAdded|=this._hotPixel.addSnappedNode(t,e)}}],[{key:"constructor_",value:function(){this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var e=arguments[0],t=arguments[1],n=arguments[2];this._hotPixel=e,this._parentEdge=t,this._hotPixelVertexIndex=n}}]),a}(cr);hr.HotPixelSnapAction=fr;var dr=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"processIntersections",value:function(e,t,n,r){if(e===n&&t===r)return null;var i=e.getCoordinates()[t],o=e.getCoordinates()[t+1],a=n.getCoordinates()[r],s=n.getCoordinates()[r+1];if(this._li.computeIntersection(i,o,a,s),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var u=0;u<this._li.getIntersectionNum();u++)this._interiorIntersections.add(this._li.getIntersection(u));e.addIntersections(this._li,t,0),n.addIntersections(this._li,r,1)}}},{key:"isDone",value:function(){return!1}},{key:"getInteriorIntersections",value:function(){return this._interiorIntersections}},{key:"interfaces_",get:function(){return[Zn]}}],[{key:"constructor_",value:function(){this._li=null,this._interiorIntersections=null;var e=arguments[0];this._li=e,this._interiorIntersections=new ge}}]),t}(),pr=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"checkCorrectness",value:function(e){var t=bn.getNodedSubstrings(e),n=new ur(t);try{n.checkValid()}catch(e){if(!(e instanceof m))throw e;e.printStackTrace()}}},{key:"getNodedSubstrings",value:function(){return bn.getNodedSubstrings(this._nodedSegStrings)}},{key:"snapRound",value:function(e,t){var n=this.findInteriorIntersections(e,t);this.computeIntersectionSnaps(n),this.computeVertexSnaps(e)}},{key:"findInteriorIntersections",value:function(e,t){var n=new dr(t);return this._noder.setSegmentIntersector(n),this._noder.computeNodes(e),n.getInteriorIntersections()}},{key:"computeVertexSnaps",value:function(){if(ie(arguments[0],V))for(var e=arguments[0].iterator();e.hasNext();){var t=e.next();this.computeVertexSnaps(t)}else if(arguments[0]instanceof bn)for(var n=arguments[0],r=n.getCoordinates(),i=0;i<r.length;i++){var o=new lr(r[i],this._scaleFactor,this._li);this._pointSnapper.snap(o,n,i)&&n.addIntersection(r[i],i)}}},{key:"computeNodes",value:function(e){this._nodedSegStrings=e,this._noder=new Tn,this._pointSnapper=new hr(this._noder.getIndex()),this.snapRound(e,this._li)}},{key:"computeIntersectionSnaps",value:function(e){for(var t=e.iterator();t.hasNext();){var n=t.next(),r=new lr(n,this._scaleFactor,this._li);this._pointSnapper.snap(r)}}},{key:"interfaces_",get:function(){return[In]}}],[{key:"constructor_",value:function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var e=arguments[0];this._pm=e,this._li=new Rt,this._li.setPrecisionModel(e),this._scaleFactor=e.getScale()}}]),t}(),gr=function(){function t(){e(this,t),t.constructor_.apply(this,arguments)}return n(t,[{key:"bufferFixedPrecision",value:function(e){var t=new sr(new pr(new rt(1)),e.getScale()),n=new ar(this._bufParams);n.setWorkingPrecisionModel(e),n.setNoder(t),this._resultGeometry=n.buffer(this._argGeom,this._distance)}},{key:"bufferReducedPrecision",value:function(){if(0===arguments.length){for(var e=t.MAX_PRECISION_DIGITS;e>=0;e--){try{this.bufferReducedPrecision(e)}catch(e){if(!(e instanceof de))throw e;this._saveException=e}if(null!==this._resultGeometry)return null}throw this._saveException}if(1===arguments.length){var n=arguments[0],r=t.precisionScaleFactor(this._argGeom,this._distance,n),i=new rt(r);this.bufferFixedPrecision(i)}}},{key:"computeGeometry",value:function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var e=this._argGeom.getFactory().getPrecisionModel();e.getType()===rt.FIXED?this.bufferFixedPrecision(e):this.bufferReducedPrecision()}},{key:"setQuadrantSegments",value:function(e){this._bufParams.setQuadrantSegments(e)}},{key:"bufferOriginalPrecision",value:function(){try{var e=new ar(this._bufParams);this._resultGeometry=e.buffer(this._argGeom,this._distance)}catch(e){if(!(e instanceof D))throw e;this._saveException=e}}},{key:"getResultGeometry",value:function(e){return this._distance=e,this.computeGeometry(),this._resultGeometry}},{key:"setEndCapStyle",value:function(e){this._bufParams.setEndCapStyle(e)}}],[{key:"constructor_",value:function(){if(this._argGeom=null,this._distance=null,this._bufParams=new y,this._resultGeometry=null,this._saveException=null,1===arguments.length){var e=arguments[0];this._argGeom=e}else if(2===arguments.length){var t=arguments[0],n=arguments[1];this._argGeom=t,this._bufParams=n}}},{key:"bufferOp",value:function(){if(2===arguments.length){var e=arguments[1];return new t(arguments[0]).getResultGeometry(e)}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof H&&"number"==typeof arguments[1]){var n=arguments[1],r=arguments[2],i=new t(arguments[0]);return i.setQuadrantSegments(r),i.getResultGeometry(n)}if(arguments[2]instanceof y&&arguments[0]instanceof H&&"number"==typeof arguments[1]){var o=arguments[1];return new t(arguments[0],arguments[2]).getResultGeometry(o)}}else if(4===arguments.length){var a=arguments[1],s=arguments[2],u=arguments[3],l=new t(arguments[0]);return l.setQuadrantSegments(s),l.setEndCapStyle(u),l.getResultGeometry(a)}}},{key:"precisionScaleFactor",value:function(e,t,n){var r=e.getEnvelopeInternal(),i=ke.max(Math.abs(r.getMaxX()),Math.abs(r.getMaxY()),Math.abs(r.getMinX()),Math.abs(r.getMinY()))+2*(t>0?t:0),o=n-Math.trunc(Math.log(i)/Math.log(10)+1);return Math.pow(10,o)}}]),t}();gr.CAP_ROUND=y.CAP_ROUND,gr.CAP_BUTT=y.CAP_FLAT,gr.CAP_FLAT=y.CAP_FLAT,gr.CAP_SQUARE=y.CAP_SQUARE,gr.MAX_PRECISION_DIGITS=12;var vr=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],yr=function(){function t(n){e(this,t),this.geometryFactory=n||new at}return n(t,[{key:"read",value:function(e){var t,n=(t="string"==typeof e?JSON.parse(e):e).type;if(!mr[n])throw new Error("Unknown GeoJSON type: "+t.type);return-1!==vr.indexOf(n)?mr[n].call(this,t.coordinates):"GeometryCollection"===n?mr[n].call(this,t.geometries):mr[n].call(this,t)}},{key:"write",value:function(e){var t=e.getGeometryType();if(!_r[t])throw new Error("Geometry is not supported");return _r[t].call(this,e)}}]),t}(),mr={Feature:function(e){var t={};for(var n in e)t[n]=e[n];if(e.geometry){var r=e.geometry.type;if(!mr[r])throw new Error("Unknown GeoJSON type: "+e.type);t.geometry=this.read(e.geometry)}return e.bbox&&(t.bbox=mr.bbox.call(this,e.bbox)),t},FeatureCollection:function(e){var t={};if(e.features){t.features=[];for(var n=0;n<e.features.length;++n)t.features.push(this.read(e.features[n]))}return e.bbox&&(t.bbox=this.parse.bbox.call(this,e.bbox)),t},coordinates:function(e){for(var t=[],n=0;n<e.length;++n){var r=e[n];t.push(s(U,d(r)))}return t},bbox:function(e){return this.geometryFactory.createLinearRing([new U(e[0],e[1]),new U(e[2],e[1]),new U(e[2],e[3]),new U(e[0],e[3]),new U(e[0],e[1])])},Point:function(e){var t=s(U,d(e));return this.geometryFactory.createPoint(t)},MultiPoint:function(e){for(var t=[],n=0;n<e.length;++n)t.push(mr.Point.call(this,e[n]));return this.geometryFactory.createMultiPoint(t)},LineString:function(e){var t=mr.coordinates.call(this,e);return this.geometryFactory.createLineString(t)},MultiLineString:function(e){for(var t=[],n=0;n<e.length;++n)t.push(mr.LineString.call(this,e[n]));return this.geometryFactory.createMultiLineString(t)},Polygon:function(e){for(var t=mr.coordinates.call(this,e[0]),n=this.geometryFactory.createLinearRing(t),r=[],i=1;i<e.length;++i){var o=e[i],a=mr.coordinates.call(this,o),s=this.geometryFactory.createLinearRing(a);r.push(s)}return this.geometryFactory.createPolygon(n,r)},MultiPolygon:function(e){for(var t=[],n=0;n<e.length;++n){var r=e[n];t.push(mr.Polygon.call(this,r))}return this.geometryFactory.createMultiPolygon(t)},GeometryCollection:function(e){for(var t=[],n=0;n<e.length;++n){var r=e[n];t.push(this.read(r))}return this.geometryFactory.createGeometryCollection(t)}},_r={coordinate:function(e){var t=[e.x,e.y];return e.z&&t.push(e.z),e.m&&t.push(e.m),t},Point:function(e){return{type:"Point",coordinates:_r.coordinate.call(this,e.getCoordinate())}},MultiPoint:function(e){for(var t=[],n=0;n<e._geometries.length;++n){var r=e._geometries[n],i=_r.Point.call(this,r);t.push(i.coordinates)}return{type:"MultiPoint",coordinates:t}},LineString:function(e){for(var t=[],n=e.getCoordinates(),r=0;r<n.length;++r){var i=n[r];t.push(_r.coordinate.call(this,i))}return{type:"LineString",coordinates:t}},MultiLineString:function(e){for(var t=[],n=0;n<e._geometries.length;++n){var r=e._geometries[n],i=_r.LineString.call(this,r);t.push(i.coordinates)}return{type:"MultiLineString",coordinates:t}},Polygon:function(e){var t=[],n=_r.LineString.call(this,e._shell);t.push(n.coordinates);for(var r=0;r<e._holes.length;++r){var i=e._holes[r],o=_r.LineString.call(this,i);t.push(o.coordinates)}return{type:"Polygon",coordinates:t}},MultiPolygon:function(e){for(var t=[],n=0;n<e._geometries.length;++n){var r=e._geometries[n],i=_r.Polygon.call(this,r);t.push(i.coordinates)}return{type:"MultiPolygon",coordinates:t}},GeometryCollection:function(e){for(var t=[],n=0;n<e._geometries.length;++n){var r=e._geometries[n],i=r.getGeometryType();t.push(_r[i].call(this,r))}return{type:"GeometryCollection",geometries:t}}};return{BufferOp:gr,GeoJSONReader:function(){function t(n){e(this,t),this.parser=new yr(n||new at)}return n(t,[{key:"read",value:function(e){return this.parser.read(e)}}]),t}(),GeoJSONWriter:function(){function t(){e(this,t),this.parser=new yr(this.geometryFactory)}return n(t,[{key:"write",value:function(e){return this.parser.write(e)}}]),t}()}}()},730:(e,t,n)=>{"use strict";var r=n(43),i=n(853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function u(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function g(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function m(e){return e[1].toUpperCase()}function _(e,t,n,r){var i=v.hasOwnProperty(t)?v[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(d,e)&&(f.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,m);v[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,m);v[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,m);v[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),b=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),I=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var M=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function A(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var D,F=Object.assign;function z(e){if(void 0===D)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var j=!1;function B(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var u="\n"+i[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=a&&0<=s);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function q(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case w:return"Fragment";case b:return"Portal";case N:return"Profiler";case E:return"StrictMode";case T:return"Suspense";case L:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return U(e(t))}catch(n){}}return null}function G(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function Y(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function X(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function V(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function W(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Z(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Y(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function K(e,t){Q(e,t);var n=Y(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,Y(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&W(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Y(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Y(n)}}function oe(e,t){var n=Y(t.value),r=Y(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce,he=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ve(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function me(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var be=null,we=null,Ee=null;function Ne(e){if(e=_i(e)){if("function"!==typeof be)throw Error(o(280));var t=e.stateNode;t&&(t=xi(t),be(e.stateNode,e.type,t))}}function Se(e){we?Ee?Ee.push(e):Ee=[e]:we=e}function Ie(){if(we){var e=we,t=Ee;if(Ee=we=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function Ce(e,t){return e(t)}function Te(){}var Le=!1;function Re(e,t,n){if(Le)return e(t,n);Le=!0;try{return Ce(e,t,n)}finally{Le=!1,(null!==we||null!==Ee)&&(Te(),Ie())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=xi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Me=!1;if(c)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Me=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ce){Me=!1}function Ae(e,t,n,r,i,o,a,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var De=!1,Fe=null,ze=!1,je=null,Be={onError:function(e){De=!0,Fe=e}};function qe(e,t,n,r,i,o,a,s,u){De=!1,Fe=null,Ae.apply(Be,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ge(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ye(e){if(Ue(e)!==e)throw Error(o(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ye(i),e;if(a===r)return Ye(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Xe(e):null}function Xe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Xe(e);if(null!==t)return t;e=e.sibling}return null}var Ve=i.unstable_scheduleCallback,We=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ze=i.unstable_requestPaint,Qe=i.unstable_now,Ke=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var lt=64,ct=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=ht(s):0!==(o&=a)&&(r=ht(o))}else 0!==(a=n&~i)?r=ht(a):0!==o&&(r=ht(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function mt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var _t=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,bt,wt,Et,Nt,St=!1,It=[],Ct=null,Tt=null,Lt=null,Rt=new Map,Pt=new Map,Mt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function At(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Lt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Dt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=_i(t))&&bt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=mi(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ge(n)))return e.blockedOn=t,void Nt(e.priority,(function(){wt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=_i(n))&&bt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function jt(e,t,n){zt(e)&&n.delete(t)}function Bt(){St=!1,null!==Ct&&zt(Ct)&&(Ct=null),null!==Tt&&zt(Tt)&&(Tt=null),null!==Lt&&zt(Lt)&&(Lt=null),Rt.forEach(jt),Pt.forEach(jt)}function qt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function Ut(e){function t(t){return qt(t,e)}if(0<It.length){qt(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&qt(Ct,e),null!==Tt&&qt(Tt,e),null!==Lt&&qt(Lt,e),Rt.forEach(t),Pt.forEach(t),n=0;n<Mt.length;n++)(r=Mt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Mt.length&&null===(n=Mt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Mt.shift()}var Gt=k.ReactCurrentBatchConfig,Yt=!0;function Ht(e,t,n,r){var i=_t,o=Gt.transition;Gt.transition=null;try{_t=1,Vt(e,t,n,r)}finally{_t=i,Gt.transition=o}}function Xt(e,t,n,r){var i=_t,o=Gt.transition;Gt.transition=null;try{_t=4,Vt(e,t,n,r)}finally{_t=i,Gt.transition=o}}function Vt(e,t,n,r){if(Yt){var i=$t(e,t,n,r);if(null===i)Yr(e,t,r,Wt,n),At(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Dt(Ct,e,t,n,r,i),!0;case"dragenter":return Tt=Dt(Tt,e,t,n,r,i),!0;case"mouseover":return Lt=Dt(Lt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Rt.set(o,Dt(Rt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Pt.set(o,Dt(Pt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(At(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var o=_i(i);if(null!==o&&xt(o),null===(o=$t(e,t,n,r))&&Yr(e,t,r,Wt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Yr(e,t,r,null,n)}}var Wt=null;function $t(e,t,n,r){if(Wt=null,null!==(e=mi(e=xe(r))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ge(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wt=e,null}function Zt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ke()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Qt=null,Kt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Kt,r=n.length,i="value"in Qt?Qt.value:Qt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,un,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=on(ln),hn=F({},ln,{view:0,detail:0}),fn=on(hn),dn=F({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(an=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=an=0,un=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(dn),gn=on(F({},dn,{dataTransfer:0})),vn=on(F({},hn,{relatedTarget:0})),yn=on(F({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),mn=F({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=on(mn),kn=on(F({},ln,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wn[e])&&!!t[e]}function Nn(){return En}var Sn=F({},hn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?bn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=on(Sn),Cn=on(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=on(F({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nn})),Ln=on(F({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=on(Rn),Mn=[9,13,27,32],On=c&&"CompositionEvent"in window,An=null;c&&"documentMode"in document&&(An=document.documentMode);var Dn=c&&"TextEvent"in window&&!An,Fn=c&&(!On||An&&8<An&&11>=An),zn=String.fromCharCode(32),jn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var Gn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Gn[e.type]:"textarea"===t}function Hn(e,t,n,r){Se(r),0<(t=Xr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Xn=null,Vn=null;function Wn(e){zr(e,0)}function $n(e){if(V(ki(e)))return e}function Zn(e,t){if("change"===e)return t}var Qn=!1;if(c){var Kn;if(c){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Kn=Jn}else Kn=!1;Qn=Kn&&(!document.documentMode||9<document.documentMode)}function tr(){Xn&&(Xn.detachEvent("onpropertychange",nr),Vn=Xn=null)}function nr(e){if("value"===e.propertyName&&$n(Vn)){var t=[];Hn(t,Vn,e,xe(e)),Re(Wn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Vn=n,(Xn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Vn)}function or(e,t){if("click"===e)return $n(t)}function ar(e,t){if("input"===e||"change"===e)return $n(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=W();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=W((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=cr(n,o);var a=cr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=c&&"documentMode"in document&&11>=document.documentMode,vr=null,yr=null,mr=null,_r=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==vr||vr!==W(r)||("selectionStart"in(r=vr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},mr&&ur(mr,r)||(mr=r,0<(r=Xr(yr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var br={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},wr={},Er={};function Nr(e){if(wr[e])return wr[e];if(!br[e])return e;var t,n=br[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return wr[e]=n[t];return e}c&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete br.animationend.animation,delete br.animationiteration.animation,delete br.animationstart.animation),"TransitionEvent"in window||delete br.transitionend.transition);var Sr=Nr("animationend"),Ir=Nr("animationiteration"),Cr=Nr("animationstart"),Tr=Nr("transitionend"),Lr=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Lr.set(e,t),u(t,[e])}for(var Mr=0;Mr<Rr.length;Mr++){var Or=Rr[Mr];Pr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Pr(Sr,"onAnimationEnd"),Pr(Ir,"onAnimationIteration"),Pr(Cr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Tr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ar="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ar));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,l){if(qe.apply(this,arguments),De){if(!De)throw Error(o(198));var c=Fe;De=!1,Fe=null,ze||(ze=!0,je=c)}}(r,t,void 0,e),e.currentTarget=null}function zr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;Fr(i,s,l),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,l=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;Fr(i,s,l),o=u}}}if(ze)throw e=je,ze=!1,je=null,e}function jr(e,t){var n=t[gi];void 0===n&&(n=t[gi]=new Set);var r=e+"__bubble";n.has(r)||(Gr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),Gr(n,e,r,t)}var qr="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[qr]){e[qr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Dr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[qr]||(t[qr]=!0,Br("selectionchange",!1,t))}}function Gr(e,t,n,r){switch(Zt(t)){case 1:var i=Ht;break;case 4:i=Xt;break;default:i=Vt}n=i.bind(null,t,n,e),i=void 0,!Me||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Yr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=mi(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}Re((function(){var r=o,i=xe(n),a=[];e:{var s=Lr.get(e);if(void 0!==s){var u=cn,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=In;break;case"focusin":l="focus",u=vn;break;case"focusout":l="blur",u=vn;break;case"beforeblur":case"afterblur":u=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Tn;break;case Sr:case Ir:case Cr:u=yn;break;case Tr:u=Ln;break;case"scroll":u=fn;break;case"wheel":u=Pn;break;case"copy":case"cut":case"paste":u=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Cn}var c=0!==(4&t),h=!c&&"scroll"===e,f=c?null!==s?s+"Capture":null:s;c=[];for(var d,p=r;null!==p;){var g=(d=p).stateNode;if(5===d.tag&&null!==g&&(d=g,null!==f&&(null!=(g=Pe(p,f))&&c.push(Hr(p,g,d)))),h)break;p=p.return}0<c.length&&(s=new u(s,l,null,n,i),a.push({event:s,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===ke||!(l=n.relatedTarget||n.fromElement)||!mi(l)&&!l[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?mi(l):null)&&(l!==(h=Ue(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=pn,g="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Cn,g="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==u?s:ki(u),d=null==l?s:ki(l),(s=new c(g,p+"leave",u,n,i)).target=h,s.relatedTarget=d,g=null,mi(i)===r&&((c=new c(f,p+"enter",l,n,i)).target=d,c.relatedTarget=h,g=c),h=g,u&&l)e:{for(f=l,p=0,d=c=u;d;d=Vr(d))p++;for(d=0,g=f;g;g=Vr(g))d++;for(;0<p-d;)c=Vr(c),p--;for(;0<d-p;)f=Vr(f),d--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break e;c=Vr(c),f=Vr(f)}c=null}else c=null;null!==u&&Wr(a,s,u,c,!1),null!==l&&null!==h&&Wr(a,h,l,c,!0)}if("select"===(u=(s=r?ki(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var v=Zn;else if(Yn(s))if(Qn)v=ar;else{v=ir;var y=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=or);switch(v&&(v=v(e,r))?Hn(a,v,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?ki(r):window,e){case"focusin":(Yn(y)||"true"===y.contentEditable)&&(vr=y,yr=r,mr=null);break;case"focusout":mr=yr=vr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,kr(a,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":kr(a,n,i)}var m;if(On)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Un?Bn(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(Fn&&"ko"!==n.locale&&(Un||"onCompositionStart"!==_?"onCompositionEnd"===_&&Un&&(m=en()):(Kt="value"in(Qt=i)?Qt.value:Qt.textContent,Un=!0)),0<(y=Xr(r,_)).length&&(_=new kn(_,e,null,n,i),a.push({event:_,listeners:y}),m?_.data=m:null!==(m=qn(n))&&(_.data=m))),(m=Dn?function(e,t){switch(e){case"compositionend":return qn(t);case"keypress":return 32!==t.which?null:(jn=!0,zn);case"textInput":return(e=t.data)===zn&&jn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!On&&Bn(e,t)?(e=en(),Jt=Kt=Qt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Xr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=m))}zr(a,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Xr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Pe(e,n))&&r.unshift(Hr(e,o,i)),null!=(o=Pe(e,t))&&r.push(Hr(e,o,i))),e=e.return}return r}function Vr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Wr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=Pe(n,o))&&a.unshift(Hr(n,u,s)):i||null!=(u=Pe(n,o))&&a.push(Hr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var $r=/\r\n?/g,Zr=/\u0000|\uFFFD/g;function Qr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Zr,"")}function Kr(e,t,n){if(t=Qr(t),Qr(e)!==t&&n)throw Error(o(425))}function Jr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ut(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),fi="__reactFiber$"+hi,di="__reactProps$"+hi,pi="__reactContainer$"+hi,gi="__reactEvents$"+hi,vi="__reactListeners$"+hi,yi="__reactHandles$"+hi;function mi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[fi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function _i(e){return!(e=e[fi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ki(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function xi(e){return e[di]||null}var bi=[],wi=-1;function Ei(e){return{current:e}}function Ni(e){0>wi||(e.current=bi[wi],bi[wi]=null,wi--)}function Si(e,t){wi++,bi[wi]=e.current,e.current=t}var Ii={},Ci=Ei(Ii),Ti=Ei(!1),Li=Ii;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Mi(){Ni(Ti),Ni(Ci)}function Oi(e,t,n){if(Ci.current!==Ii)throw Error(o(168));Si(Ci,t),Si(Ti,n)}function Ai(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,G(e)||"Unknown",i));return F({},n,r)}function Di(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,Li=Ci.current,Si(Ci,e),Si(Ti,Ti.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Ai(e,t,Li),r.__reactInternalMemoizedMergedChildContext=e,Ni(Ti),Ni(Ci),Si(Ci,e)):Ni(Ti),Si(Ti,n)}var zi=null,ji=!1,Bi=!1;function qi(e){null===zi?zi=[e]:zi.push(e)}function Ui(){if(!Bi&&null!==zi){Bi=!0;var e=0,t=_t;try{var n=zi;for(_t=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}zi=null,ji=!1}catch(i){throw null!==zi&&(zi=zi.slice(e+1)),Ve(Je,Ui),i}finally{_t=t,Bi=!1}}return null}var Gi=[],Yi=0,Hi=null,Xi=0,Vi=[],Wi=0,$i=null,Zi=1,Qi="";function Ki(e,t){Gi[Yi++]=Xi,Gi[Yi++]=Hi,Hi=e,Xi=t}function Ji(e,t,n){Vi[Wi++]=Zi,Vi[Wi++]=Qi,Vi[Wi++]=$i,$i=e;var r=Zi;e=Qi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Zi=1<<32-at(t)+i|n<<i|r,Qi=o+e}else Zi=1<<o|n<<i|r,Qi=e}function eo(e){null!==e.return&&(Ki(e,1),Ji(e,1,0))}function to(e){for(;e===Hi;)Hi=Gi[--Yi],Gi[Yi]=null,Xi=Gi[--Yi],Gi[Yi]=null;for(;e===$i;)$i=Vi[--Wi],Vi[Wi]=null,Qi=Vi[--Wi],Vi[Wi]=null,Zi=Vi[--Wi],Vi[Wi]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Rl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Zi,overflow:Qi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function uo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function lo(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(uo(e))throw Error(o(418));t=li(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(uo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function co(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return co(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(uo(e))throw fo(),Error(o(418));for(;t;)ao(e,t),t=li(t.nextSibling)}if(co(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?li(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=li(e.nextSibling)}function po(){ro=no=null,io=!1}function go(e){null===oo?oo=[e]:oo.push(e)}var vo=k.ReactCurrentBatchConfig;function yo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function mo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function _o(e){return(0,e._init)(e._payload)}function ko(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ml(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Fl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var o=n.type;return o===w?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===P&&_o(o)===t.type)?((r=i(t,n.props)).ref=yo(e,t,n),r.return=e,r):((r=Ol(n.type,n.key,n.props,null,e.mode,r)).ref=yo(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Al(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Ol(t.type,t.key,t.props,null,e.mode,n)).ref=yo(e,null,t),n.return=e,n;case b:return(t=zl(t,e.mode,n)).return=e,t;case P:return f(e,(0,t._init)(t._payload),n)}if(te(t)||A(t))return(t=Al(t,e.mode,n,null)).return=e,t;mo(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?l(e,t,n,r):null;case b:return n.key===i?c(e,t,n,r):null;case P:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||A(n))return null!==i?null:h(e,t,n,r,null);mo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case b:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||A(r))return h(t,e=e.get(n)||null,r,i,null);mo(t,r)}return null}function g(i,o,s,u){for(var l=null,c=null,h=o,g=o=0,v=null;null!==h&&g<s.length;g++){h.index>g?(v=h,h=null):v=h.sibling;var y=d(i,h,s[g],u);if(null===y){null===h&&(h=v);break}e&&h&&null===y.alternate&&t(i,h),o=a(y,o,g),null===c?l=y:c.sibling=y,c=y,h=v}if(g===s.length)return n(i,h),io&&Ki(i,g),l;if(null===h){for(;g<s.length;g++)null!==(h=f(i,s[g],u))&&(o=a(h,o,g),null===c?l=h:c.sibling=h,c=h);return io&&Ki(i,g),l}for(h=r(i,h);g<s.length;g++)null!==(v=p(h,i,g,s[g],u))&&(e&&null!==v.alternate&&h.delete(null===v.key?g:v.key),o=a(v,o,g),null===c?l=v:c.sibling=v,c=v);return e&&h.forEach((function(e){return t(i,e)})),io&&Ki(i,g),l}function v(i,s,u,l){var c=A(u);if("function"!==typeof c)throw Error(o(150));if(null==(u=c.call(u)))throw Error(o(151));for(var h=c=null,g=s,v=s=0,y=null,m=u.next();null!==g&&!m.done;v++,m=u.next()){g.index>v?(y=g,g=null):y=g.sibling;var _=d(i,g,m.value,l);if(null===_){null===g&&(g=y);break}e&&g&&null===_.alternate&&t(i,g),s=a(_,s,v),null===h?c=_:h.sibling=_,h=_,g=y}if(m.done)return n(i,g),io&&Ki(i,v),c;if(null===g){for(;!m.done;v++,m=u.next())null!==(m=f(i,m.value,l))&&(s=a(m,s,v),null===h?c=m:h.sibling=m,h=m);return io&&Ki(i,v),c}for(g=r(i,g);!m.done;v++,m=u.next())null!==(m=p(g,i,v,m.value,l))&&(e&&null!==m.alternate&&g.delete(null===m.key?v:m.key),s=a(m,s,v),null===h?c=m:h.sibling=m,h=m);return e&&g.forEach((function(e){return t(i,e)})),io&&Ki(i,v),c}return function e(r,o,a,u){if("object"===typeof a&&null!==a&&a.type===w&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case x:e:{for(var l=a.key,c=o;null!==c;){if(c.key===l){if((l=a.type)===w){if(7===c.tag){n(r,c.sibling),(o=i(c,a.props.children)).return=r,r=o;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===P&&_o(l)===c.type){n(r,c.sibling),(o=i(c,a.props)).ref=yo(r,c,a),o.return=r,r=o;break e}n(r,c);break}t(r,c),c=c.sibling}a.type===w?((o=Al(a.props.children,r.mode,u,a.key)).return=r,r=o):((u=Ol(a.type,a.key,a.props,null,r.mode,u)).ref=yo(r,o,a),u.return=r,r=u)}return s(r);case b:e:{for(c=a.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=zl(a,r.mode,u)).return=r,r=o}return s(r);case P:return e(r,o,(c=a._init)(a._payload),u)}if(te(a))return g(r,o,a,u);if(A(a))return v(r,o,a,u);mo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Fl(a,r.mode,u)).return=r,r=o),s(r)):n(r,o)}}var xo=ko(!0),bo=ko(!1),wo=Ei(null),Eo=null,No=null,So=null;function Io(){So=No=Eo=null}function Co(e){var t=wo.current;Ni(wo),e._currentValue=t}function To(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Lo(e,t){Eo=e,So=No=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(_s=!0),e.firstContext=null)}function Ro(e){var t=e._currentValue;if(So!==e)if(e={context:e,memoizedValue:t,next:null},null===No){if(null===Eo)throw Error(o(308));No=e,Eo.dependencies={lanes:0,firstContext:e}}else No=No.next=e;return t}var Po=null;function Mo(e){null===Po?Po=[e]:Po.push(e)}function Oo(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Mo(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ao(e,r)}function Ao(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Do=!1;function Fo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function jo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ao(e,n)}return null===(i=r.interleaved)?(t.next=t,Mo(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ao(e,n)}function qo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,mt(e,n)}}function Uo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Go(e,t,n,r){var i=e.updateQueue;Do=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,l=u.next;u.next=null,null===a?o=l:a.next=l,a=u;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===s?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(null!==o){var h=i.baseState;for(a=0,c=l=u=null,s=o;;){var f=s.lane,d=s.eventTime;if((r&f)===f){null!==c&&(c=c.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,g=s;switch(f=t,d=n,g.tag){case 1:if("function"===typeof(p=g.payload)){h=p.call(d,h,f);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=g.payload)?p.call(d,h,f):p)||void 0===f)break e;h=F({},h,f);break e;case 2:Do=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else d={eventTime:d,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(l=c=d,u=h):c=c.next=d,a|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===c&&(u=h),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Du|=a,e.lanes=a,e.memoizedState=h}}function Yo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Ho={},Xo=Ei(Ho),Vo=Ei(Ho),Wo=Ei(Ho);function $o(e){if(e===Ho)throw Error(o(174));return e}function Zo(e,t){switch(Si(Wo,t),Si(Vo,e),Si(Xo,Ho),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ni(Xo),Si(Xo,t)}function Qo(){Ni(Xo),Ni(Vo),Ni(Wo)}function Ko(e){$o(Wo.current);var t=$o(Xo.current),n=ue(t,e.type);t!==n&&(Si(Vo,e),Si(Xo,n))}function Jo(e){Vo.current===e&&(Ni(Xo),Ni(Vo))}var ea=Ei(0);function ta(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var na=[];function ra(){for(var e=0;e<na.length;e++)na[e]._workInProgressVersionPrimary=null;na.length=0}var ia=k.ReactCurrentDispatcher,oa=k.ReactCurrentBatchConfig,aa=0,sa=null,ua=null,la=null,ca=!1,ha=!1,fa=0,da=0;function pa(){throw Error(o(321))}function ga(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function va(e,t,n,r,i,a){if(aa=a,sa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ia.current=null===e||null===e.memoizedState?Ja:es,e=n(r,i),ha){a=0;do{if(ha=!1,fa=0,25<=a)throw Error(o(301));a+=1,la=ua=null,t.updateQueue=null,ia.current=ts,e=n(r,i)}while(ha)}if(ia.current=Ka,t=null!==ua&&null!==ua.next,aa=0,la=ua=sa=null,ca=!1,t)throw Error(o(300));return e}function ya(){var e=0!==fa;return fa=0,e}function ma(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===la?sa.memoizedState=la=e:la=la.next=e,la}function _a(){if(null===ua){var e=sa.alternate;e=null!==e?e.memoizedState:null}else e=ua.next;var t=null===la?sa.memoizedState:la.next;if(null!==t)la=t,ua=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ua=e).memoizedState,baseState:ua.baseState,baseQueue:ua.baseQueue,queue:ua.queue,next:null},null===la?sa.memoizedState=la=e:la=la.next=e}return la}function ka(e,t){return"function"===typeof t?t(e):t}function xa(e){var t=_a(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ua,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var u=s=null,l=null,c=a;do{var h=c.lane;if((aa&h)===h)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=f,s=r):l=l.next=f,sa.lanes|=h,Du|=h}c=c.next}while(null!==c&&c!==a);null===l?s=r:l.next=u,sr(r,t.memoizedState)||(_s=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,sa.lanes|=a,Du|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ba(e){var t=_a(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(_s=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function wa(){}function Ea(e,t){var n=sa,r=_a(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,_s=!0),r=r.queue,Da(Ia.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==la&&1&la.memoizedState.tag){if(n.flags|=2048,Ra(9,Sa.bind(null,n,r,i,t),void 0,null),null===Tu)throw Error(o(349));0!==(30&aa)||Na(n,t,i)}return i}function Na(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Sa(e,t,n,r){t.value=n,t.getSnapshot=r,Ca(t)&&Ta(e)}function Ia(e,t,n){return n((function(){Ca(t)&&Ta(e)}))}function Ca(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Ta(e){var t=Ao(e,1);null!==t&&nl(t,e,1,-1)}function La(e){var t=ma();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:e},t.queue=e,e=e.dispatch=Wa.bind(null,sa,e),[t.memoizedState,e]}function Ra(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Pa(){return _a().memoizedState}function Ma(e,t,n,r){var i=ma();sa.flags|=e,i.memoizedState=Ra(1|t,n,void 0,void 0===r?null:r)}function Oa(e,t,n,r){var i=_a();r=void 0===r?null:r;var o=void 0;if(null!==ua){var a=ua.memoizedState;if(o=a.destroy,null!==r&&ga(r,a.deps))return void(i.memoizedState=Ra(t,n,o,r))}sa.flags|=e,i.memoizedState=Ra(1|t,n,o,r)}function Aa(e,t){return Ma(8390656,8,e,t)}function Da(e,t){return Oa(2048,8,e,t)}function Fa(e,t){return Oa(4,2,e,t)}function za(e,t){return Oa(4,4,e,t)}function ja(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ba(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oa(4,4,ja.bind(null,t,e),n)}function qa(){}function Ua(e,t){var n=_a();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ga(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ga(e,t){var n=_a();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ga(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ya(e,t,n){return 0===(21&aa)?(e.baseState&&(e.baseState=!1,_s=!0),e.memoizedState=n):(sr(n,t)||(n=gt(),sa.lanes|=n,Du|=n,e.baseState=!0),t)}function Ha(e,t){var n=_t;_t=0!==n&&4>n?n:4,e(!0);var r=oa.transition;oa.transition={};try{e(!1),t()}finally{_t=n,oa.transition=r}}function Xa(){return _a().memoizedState}function Va(e,t,n){var r=tl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$a(e))Za(t,n);else if(null!==(n=Oo(e,t,n,r))){nl(n,e,r,el()),Qa(n,t,r)}}function Wa(e,t,n){var r=tl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($a(e))Za(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var u=t.interleaved;return null===u?(i.next=i,Mo(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=Oo(e,t,i,r))&&(nl(n,e,r,i=el()),Qa(n,t,r))}}function $a(e){var t=e.alternate;return e===sa||null!==t&&t===sa}function Za(e,t){ha=ca=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,mt(e,n)}}var Ka={readContext:Ro,useCallback:pa,useContext:pa,useEffect:pa,useImperativeHandle:pa,useInsertionEffect:pa,useLayoutEffect:pa,useMemo:pa,useReducer:pa,useRef:pa,useState:pa,useDebugValue:pa,useDeferredValue:pa,useTransition:pa,useMutableSource:pa,useSyncExternalStore:pa,useId:pa,unstable_isNewReconciler:!1},Ja={readContext:Ro,useCallback:function(e,t){return ma().memoizedState=[e,void 0===t?null:t],e},useContext:Ro,useEffect:Aa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ma(4194308,4,ja.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ma(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ma(4,2,e,t)},useMemo:function(e,t){var n=ma();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ma();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Va.bind(null,sa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ma().memoizedState=e},useState:La,useDebugValue:qa,useDeferredValue:function(e){return ma().memoizedState=e},useTransition:function(){var e=La(!1),t=e[0];return e=Ha.bind(null,e[1]),ma().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=sa,i=ma();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Tu)throw Error(o(349));0!==(30&aa)||Na(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Aa(Ia.bind(null,r,a,e),[e]),r.flags|=2048,Ra(9,Sa.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ma(),t=Tu.identifierPrefix;if(io){var n=Qi;t=":"+t+"R"+(n=(Zi&~(1<<32-at(Zi)-1)).toString(32)+n),0<(n=fa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=da++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Ro,useCallback:Ua,useContext:Ro,useEffect:Da,useImperativeHandle:Ba,useInsertionEffect:Fa,useLayoutEffect:za,useMemo:Ga,useReducer:xa,useRef:Pa,useState:function(){return xa(ka)},useDebugValue:qa,useDeferredValue:function(e){return Ya(_a(),ua.memoizedState,e)},useTransition:function(){return[xa(ka)[0],_a().memoizedState]},useMutableSource:wa,useSyncExternalStore:Ea,useId:Xa,unstable_isNewReconciler:!1},ts={readContext:Ro,useCallback:Ua,useContext:Ro,useEffect:Da,useImperativeHandle:Ba,useInsertionEffect:Fa,useLayoutEffect:za,useMemo:Ga,useReducer:ba,useRef:Pa,useState:function(){return ba(ka)},useDebugValue:qa,useDeferredValue:function(e){var t=_a();return null===ua?t.memoizedState=e:Ya(t,ua.memoizedState,e)},useTransition:function(){return[ba(ka)[0],_a().memoizedState]},useMutableSource:wa,useSyncExternalStore:Ea,useId:Xa,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var is={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=el(),i=tl(e),o=jo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Bo(e,o,i))&&(nl(t,e,i,r),qo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=el(),i=tl(e),o=jo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Bo(e,o,i))&&(nl(t,e,i,r),qo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=el(),r=tl(e),i=jo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Bo(e,i,r))&&(nl(t,e,r,n),qo(t,e,r))}};function os(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,o))}function as(e,t,n){var r=!1,i=Ii,o=t.contextType;return"object"===typeof o&&null!==o?o=Ro(o):(i=Pi(t)?Li:Ci.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):Ii),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=is,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function ss(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&is.enqueueReplaceState(t,t.state,null)}function us(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Fo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Ro(o):(o=Pi(t)?Li:Ci.current,i.context=Ri(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(rs(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&is.enqueueReplaceState(i,i.state,null),Go(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function ls(e,t){try{var n="",r=t;do{n+=q(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function cs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fs="function"===typeof WeakMap?WeakMap:Map;function ds(e,t,n){(n=jo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Yu||(Yu=!0,Hu=r),hs(0,t)},n}function ps(e,t,n){(n=jo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Xu?Xu=new Set([this]):Xu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Nl.bind(null,e,t,n),t.then(e,e))}function vs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=jo(-1,1)).tag=2,Bo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ms=k.ReactCurrentOwner,_s=!1;function ks(e,t,n,r){t.child=null===e?bo(t,null,n,r):xo(t,e.child,n,r)}function xs(e,t,n,r,i){n=n.render;var o=t.ref;return Lo(t,i),r=va(e,t,n,r,o,i),n=ya(),null===e||_s?(io&&n&&eo(t),t.flags|=1,ks(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ys(e,t,i))}function bs(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Pl(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ol(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,ws(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(a,r)&&e.ref===t.ref)return Ys(e,t,i)}return t.flags|=1,(e=Ml(o,r)).ref=t.ref,e.return=t,t.child=e}function ws(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(ur(o,r)&&e.ref===t.ref){if(_s=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Ys(e,t,i);0!==(131072&e.flags)&&(_s=!0)}}return Ss(e,t,n,r,i)}function Es(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Mu,Pu),Pu|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(Mu,Pu),Pu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Si(Mu,Pu),Pu|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Si(Mu,Pu),Pu|=r;return ks(e,t,i,n),t.child}function Ns(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ss(e,t,n,r,i){var o=Pi(n)?Li:Ci.current;return o=Ri(t,o),Lo(t,i),n=va(e,t,n,r,o,i),r=ya(),null===e||_s?(io&&r&&eo(t),t.flags|=1,ks(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ys(e,t,i))}function Is(e,t,n,r,i){if(Pi(n)){var o=!0;Di(t)}else o=!1;if(Lo(t,i),null===t.stateNode)Gs(e,t),as(t,n,r),us(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,l=n.contextType;"object"===typeof l&&null!==l?l=Ro(l):l=Ri(t,l=Pi(n)?Li:Ci.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==l)&&ss(t,a,r,l),Do=!1;var f=t.memoizedState;a.state=f,Go(t,r,a,i),u=t.memoizedState,s!==r||f!==u||Ti.current||Do?("function"===typeof c&&(rs(t,n,c,r),u=t.memoizedState),(s=Do||os(t,n,s,r,f,u,l))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=l,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,zo(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:ns(t.type,s),a.props=l,h=t.pendingProps,f=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=Ro(u):u=Ri(t,u=Pi(n)?Li:Ci.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==h||f!==u)&&ss(t,a,r,u),Do=!1,f=t.memoizedState,a.state=f,Go(t,r,a,i);var p=t.memoizedState;s!==h||f!==p||Ti.current||Do?("function"===typeof d&&(rs(t,n,d,r),p=t.memoizedState),(l=Do||os(t,n,l,r,f,p,u)||!1)?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=l):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Cs(e,t,n,r,o,i)}function Cs(e,t,n,r,i,o){Ns(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Fi(t,n,!1),Ys(e,t,o);r=t.stateNode,ms.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=xo(t,e.child,null,o),t.child=xo(t,null,s,o)):ks(e,t,s,o),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Ts(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),Zo(e,t.containerInfo)}function Ls(e,t,n,r,i){return po(),go(i),t.flags|=256,ks(e,t,n,r),t.child}var Rs,Ps,Ms,Os,As={dehydrated:null,treeContext:null,retryLane:0};function Ds(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,n){var r,i=t.pendingProps,a=ea.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Si(ea,1&a),null===e)return lo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Dl(u,i,0,null),e=Al(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ds(n),t.memoizedState=As,e):zs(t,u));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,js(e,t,s,r=cs(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Dl({mode:"visible",children:r.children},i,0,null),(a=Al(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&xo(t,e.child,null,s),t.child.memoizedState=Ds(s),t.memoizedState=As,a);if(0===(1&t.mode))return js(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,js(e,t,s,r=cs(a=Error(o(419)),r,void 0))}if(u=0!==(s&e.childLanes),_s||u){if(null!==(r=Tu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Ao(e,i),nl(r,e,i,-1))}return gl(),js(e,t,s,r=cs(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Il.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=li(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Vi[Wi++]=Zi,Vi[Wi++]=Qi,Vi[Wi++]=$i,Zi=e.id,Qi=e.overflow,$i=t),t=zs(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,a,n);if(s){s=i.fallback,u=t.mode,r=(a=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Ml(a,l)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Ml(r,s):(s=Al(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Ds(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=As,i}return e=(s=e.child).sibling,i=Ml(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function zs(e,t){return(t=Dl({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function js(e,t,n,r){return null!==r&&go(r),xo(t,e.child,null,n),(e=zs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),To(e.return,t,n)}function qs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Us(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ks(e,t,r.children,n),0!==(2&(r=ea.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bs(e,n,t);else if(19===e.tag)Bs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Si(ea,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ta(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),qs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ta(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}qs(t,!0,n,null,o);break;case"together":qs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ys(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Du|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ml(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ml(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hs(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Xs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Vs(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xs(t),null;case 1:case 17:return Pi(t.type)&&Mi(),Xs(t),null;case 3:return r=t.stateNode,Qo(),Ni(Ti),Ni(Ci),ra(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(al(oo),oo=null))),Ps(e,t),Xs(t),null;case 5:Jo(t);var i=$o(Wo.current);if(n=t.type,null!==e&&null!=t.stateNode)Ms(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Xs(t),null}if(e=$o(Xo.current),ho(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[fi]=t,r[di]=a,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Ar.length;i++)jr(Ar[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":Z(r,a),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},jr("invalid",r);break;case"textarea":ie(r,a),jr("invalid",r)}for(var u in me(n,a),i=null,a)if(a.hasOwnProperty(u)){var l=a[u];"children"===u?"string"===typeof l?r.textContent!==l&&(!0!==a.suppressHydrationWarning&&Kr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==a.suppressHydrationWarning&&Kr(r.textContent,l,e),i=["children",""+l]):s.hasOwnProperty(u)&&null!=l&&"onScroll"===u&&jr("scroll",r)}switch(n){case"input":X(r),J(r,a,!0);break;case"textarea":X(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[fi]=t,e[di]=r,Rs(e,t,!1,!1),t.stateNode=e;e:{switch(u=_e(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ar.length;i++)jr(Ar[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":Z(e,r),i=$(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(a in me(n,i),l=i)if(l.hasOwnProperty(a)){var c=l[a];"style"===a?ve(e,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&he(e,c):"children"===a?"string"===typeof c?("textarea"!==n||""!==c)&&fe(e,c):"number"===typeof c&&fe(e,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=c&&"onScroll"===a&&jr("scroll",e):null!=c&&_(e,a,c,u))}switch(n){case"input":X(e),J(e,r,!1);break;case"textarea":X(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Y(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Xs(t),null;case 6:if(e&&null!=t.stateNode)Os(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=$o(Wo.current),$o(Xo.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Kr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Kr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return Xs(t),null;case 13:if(Ni(ea),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,a=!1;else if(a=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[fi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Xs(t),a=!1}else null!==oo&&(al(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ea.current)?0===Ou&&(Ou=3):gl())),null!==t.updateQueue&&(t.flags|=4),Xs(t),null);case 4:return Qo(),Ps(e,t),null===e&&Ur(t.stateNode.containerInfo),Xs(t),null;case 10:return Co(t.type._context),Xs(t),null;case 19:if(Ni(ea),null===(a=t.memoizedState))return Xs(t),null;if(r=0!==(128&t.flags),null===(u=a.rendering))if(r)Hs(a,!1);else{if(0!==Ou||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=ta(e))){for(t.flags|=128,Hs(a,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(u=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(ea,1&ea.current|2),t.child}e=e.sibling}null!==a.tail&&Qe()>Uu&&(t.flags|=128,r=!0,Hs(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ta(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!u.alternate&&!io)return Xs(t),null}else 2*Qe()-a.renderingStartTime>Uu&&1073741824!==n&&(t.flags|=128,r=!0,Hs(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=a.last)?n.sibling=u:t.child=u,a.last=u)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Qe(),t.sibling=null,n=ea.current,Si(ea,r?1&n|2:1&n),t):(Xs(t),null);case 22:case 23:return hl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pu)&&(Xs(t),6&t.subtreeFlags&&(t.flags|=8192)):Xs(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ws(e,t){switch(to(t),t.tag){case 1:return Pi(t.type)&&Mi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Qo(),Ni(Ti),Ni(Ci),ra(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Jo(t),null;case 13:if(Ni(ea),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ni(ea),null;case 4:return Qo(),null;case 10:return Co(t.type._context),null;case 22:case 23:return hl(),null;default:return null}}Rs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ps=function(){},Ms=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,$o(Xo.current);var o,a=null;switch(n){case"input":i=$(e,i),r=$(e,r),a=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(c in me(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var u=i[c];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(u=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==u&&(null!=l||null!=u))if("style"===c)if(u){for(o in u)!u.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&u[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(a||(a=[]),a.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(a=a||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(a=a||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&jr("scroll",e),a||u===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}},Os=function(e,t,n,r){n!==r&&(t.flags|=4)};var $s=!1,Zs=!1,Qs="function"===typeof WeakSet?WeakSet:Set,Ks=null;function Js(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){El(e,t,r)}else n.current=null}function eu(e,t,n){try{n()}catch(r){El(e,t,r)}}var tu=!1;function nu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&eu(t,n,o)}i=i.next}while(i!==r)}}function ru(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ou(e){var t=e.alternate;null!==t&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[di],delete t[gi],delete t[vi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function au(e){return 5===e.tag||3===e.tag||4===e.tag}function su(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||au(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function uu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(uu(e,t,n),e=e.sibling;null!==e;)uu(e,t,n),e=e.sibling}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}var cu=null,hu=!1;function fu(e,t,n){for(n=n.child;null!==n;)du(e,t,n),n=n.sibling}function du(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Zs||Js(n,t);case 6:var r=cu,i=hu;cu=null,fu(e,t,n),hu=i,null!==(cu=r)&&(hu?(e=cu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cu.removeChild(n.stateNode));break;case 18:null!==cu&&(hu?(e=cu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),Ut(e)):ui(cu,n.stateNode));break;case 4:r=cu,i=hu,cu=n.stateNode.containerInfo,hu=!0,fu(e,t,n),cu=r,hu=i;break;case 0:case 11:case 14:case 15:if(!Zs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&eu(n,t,a),i=i.next}while(i!==r)}fu(e,t,n);break;case 1:if(!Zs&&(Js(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){El(n,t,s)}fu(e,t,n);break;case 21:fu(e,t,n);break;case 22:1&n.mode?(Zs=(r=Zs)||null!==n.memoizedState,fu(e,t,n),Zs=r):fu(e,t,n);break;default:fu(e,t,n)}}function pu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qs),t.forEach((function(t){var r=Cl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:cu=u.stateNode,hu=!1;break e;case 3:case 4:cu=u.stateNode.containerInfo,hu=!0;break e}u=u.return}if(null===cu)throw Error(o(160));du(a,s,i),cu=null,hu=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(c){El(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vu(t,e),t=t.sibling}function vu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gu(t,e),yu(e),4&r){try{nu(3,e,e.return),ru(3,e)}catch(v){El(e,e.return,v)}try{nu(5,e,e.return)}catch(v){El(e,e.return,v)}}break;case 1:gu(t,e),yu(e),512&r&&null!==n&&Js(n,n.return);break;case 5:if(gu(t,e),yu(e),512&r&&null!==n&&Js(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(v){El(e,e.return,v)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,u=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===u&&"radio"===a.type&&null!=a.name&&Q(i,a),_e(u,s);var c=_e(u,a);for(s=0;s<l.length;s+=2){var h=l[s],f=l[s+1];"style"===h?ve(i,f):"dangerouslySetInnerHTML"===h?he(i,f):"children"===h?fe(i,f):_(i,h,f,c)}switch(u){case"input":K(i,a);break;case"textarea":oe(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):d!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[di]=a}catch(v){El(e,e.return,v)}}break;case 6:if(gu(t,e),yu(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(v){El(e,e.return,v)}}break;case 3:if(gu(t,e),yu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(v){El(e,e.return,v)}break;case 4:default:gu(t,e),yu(e);break;case 13:gu(t,e),yu(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(qu=Qe())),4&r&&pu(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Zs=(c=Zs)||h,gu(t,e),Zs=c):gu(t,e),yu(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!h&&0!==(1&e.mode))for(Ks=e,h=e.child;null!==h;){for(f=Ks=h;null!==Ks;){switch(p=(d=Ks).child,d.tag){case 0:case 11:case 14:case 15:nu(4,d,d.return);break;case 1:Js(d,d.return);var g=d.stateNode;if("function"===typeof g.componentWillUnmount){r=d,n=d.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(v){El(r,n,v)}}break;case 5:Js(d,d.return);break;case 22:if(null!==d.memoizedState){xu(f);continue}}null!==p?(p.return=d,Ks=p):xu(f)}h=h.sibling}e:for(h=null,f=e;;){if(5===f.tag){if(null===h){h=f;try{i=f.stateNode,c?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(u=f.stateNode,s=void 0!==(l=f.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,u.style.display=ge("display",s))}catch(v){El(e,e.return,v)}}}else if(6===f.tag){if(null===h)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){El(e,e.return,v)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:gu(t,e),yu(e),4&r&&pu(e);case 21:}}function yu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(au(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),lu(e,su(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;uu(e,su(e),a);break;default:throw Error(o(161))}}catch(s){El(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function mu(e,t,n){Ks=e,_u(e,t,n)}function _u(e,t,n){for(var r=0!==(1&e.mode);null!==Ks;){var i=Ks,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||$s;if(!a){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Zs;s=$s;var l=Zs;if($s=a,(Zs=u)&&!l)for(Ks=i;null!==Ks;)u=(a=Ks).child,22===a.tag&&null!==a.memoizedState?bu(i):null!==u?(u.return=a,Ks=u):bu(i);for(;null!==o;)Ks=o,_u(o,t,n),o=o.sibling;Ks=i,$s=s,Zs=l}ku(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Ks=o):ku(e)}}function ku(e){for(;null!==Ks;){var t=Ks;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Zs||ru(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Zs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Yo(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Yo(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var f=h.dehydrated;null!==f&&Ut(f)}}}break;default:throw Error(o(163))}Zs||512&t.flags&&iu(t)}catch(d){El(t,t.return,d)}}if(t===e){Ks=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ks=n;break}Ks=t.return}}function xu(e){for(;null!==Ks;){var t=Ks;if(t===e){Ks=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ks=n;break}Ks=t.return}}function bu(e){for(;null!==Ks;){var t=Ks;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ru(4,t)}catch(u){El(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){El(t,i,u)}}var o=t.return;try{iu(t)}catch(u){El(t,o,u)}break;case 5:var a=t.return;try{iu(t)}catch(u){El(t,a,u)}}}catch(u){El(t,t.return,u)}if(t===e){Ks=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Ks=s;break}Ks=t.return}}var wu,Eu=Math.ceil,Nu=k.ReactCurrentDispatcher,Su=k.ReactCurrentOwner,Iu=k.ReactCurrentBatchConfig,Cu=0,Tu=null,Lu=null,Ru=0,Pu=0,Mu=Ei(0),Ou=0,Au=null,Du=0,Fu=0,zu=0,ju=null,Bu=null,qu=0,Uu=1/0,Gu=null,Yu=!1,Hu=null,Xu=null,Vu=!1,Wu=null,$u=0,Zu=0,Qu=null,Ku=-1,Ju=0;function el(){return 0!==(6&Cu)?Qe():-1!==Ku?Ku:Ku=Qe()}function tl(e){return 0===(1&e.mode)?1:0!==(2&Cu)&&0!==Ru?Ru&-Ru:null!==vo.transition?(0===Ju&&(Ju=gt()),Ju):0!==(e=_t)?e:e=void 0===(e=window.event)?16:Zt(e.type)}function nl(e,t,n,r){if(50<Zu)throw Zu=0,Qu=null,Error(o(185));yt(e,n,r),0!==(2&Cu)&&e===Tu||(e===Tu&&(0===(2&Cu)&&(Fu|=n),4===Ou&&sl(e,Ru)),rl(e,r),1===n&&0===Cu&&0===(1&t.mode)&&(Uu=Qe()+500,ji&&Ui()))}function rl(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,u=i[a];-1===u?0!==(s&n)&&0===(s&r)||(i[a]=dt(s,t)):u<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ft(e,e===Tu?Ru:0);if(0===r)null!==n&&We(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&We(n),1===t)0===e.tag?function(e){ji=!0,qi(e)}(ul.bind(null,e)):qi(ul.bind(null,e)),ai((function(){0===(6&Cu)&&Ui()})),n=null;else{switch(kt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Tl(n,il.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function il(e,t){if(Ku=-1,Ju=0,0!==(6&Cu))throw Error(o(327));var n=e.callbackNode;if(bl()&&e.callbackNode!==n)return null;var r=ft(e,e===Tu?Ru:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vl(e,r);else{t=r;var i=Cu;Cu|=2;var a=pl();for(Tu===e&&Ru===t||(Gu=null,Uu=Qe()+500,fl(e,t));;)try{ml();break}catch(u){dl(e,u)}Io(),Nu.current=a,Cu=i,null!==Lu?t=0:(Tu=null,Ru=0,t=Ou)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ol(e,i))),1===t)throw n=Au,fl(e,0),sl(e,r),rl(e,Qe()),n;if(6===t)sl(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vl(e,r))&&(0!==(a=pt(e))&&(r=a,t=ol(e,a))),1===t))throw n=Au,fl(e,0),sl(e,r),rl(e,Qe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:xl(e,Bu,Gu);break;case 3:if(sl(e,r),(130023424&r)===r&&10<(t=qu+500-Qe())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){el(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xl.bind(null,e,Bu,Gu),t);break}xl(e,Bu,Gu);break;case 4:if(sl(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Qe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Eu(r/1960))-r)){e.timeoutHandle=ri(xl.bind(null,e,Bu,Gu),r);break}xl(e,Bu,Gu);break;default:throw Error(o(329))}}}return rl(e,Qe()),e.callbackNode===n?il.bind(null,e):null}function ol(e,t){var n=ju;return e.current.memoizedState.isDehydrated&&(fl(e,t).flags|=256),2!==(e=vl(e,t))&&(t=Bu,Bu=n,null!==t&&al(t)),e}function al(e){null===Bu?Bu=e:Bu.push.apply(Bu,e)}function sl(e,t){for(t&=~zu,t&=~Fu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function ul(e){if(0!==(6&Cu))throw Error(o(327));bl();var t=ft(e,0);if(0===(1&t))return rl(e,Qe()),null;var n=vl(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ol(e,r))}if(1===n)throw n=Au,fl(e,0),sl(e,t),rl(e,Qe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xl(e,Bu,Gu),rl(e,Qe()),null}function ll(e,t){var n=Cu;Cu|=1;try{return e(t)}finally{0===(Cu=n)&&(Uu=Qe()+500,ji&&Ui())}}function cl(e){null!==Wu&&0===Wu.tag&&0===(6&Cu)&&bl();var t=Cu;Cu|=1;var n=Iu.transition,r=_t;try{if(Iu.transition=null,_t=1,e)return e()}finally{_t=r,Iu.transition=n,0===(6&(Cu=t))&&Ui()}}function hl(){Pu=Mu.current,Ni(Mu)}function fl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Lu)for(n=Lu.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Mi();break;case 3:Qo(),Ni(Ti),Ni(Ci),ra();break;case 5:Jo(r);break;case 4:Qo();break;case 13:case 19:Ni(ea);break;case 10:Co(r.type._context);break;case 22:case 23:hl()}n=n.return}if(Tu=e,Lu=e=Ml(e.current,null),Ru=Pu=t,Ou=0,Au=null,zu=Fu=Du=0,Bu=ju=null,null!==Po){for(t=0;t<Po.length;t++)if(null!==(r=(n=Po[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Po=null}return e}function dl(e,t){for(;;){var n=Lu;try{if(Io(),ia.current=Ka,ca){for(var r=sa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ca=!1}if(aa=0,la=ua=sa=null,ha=!1,fa=0,Su.current=null,null===n||null===n.return){Ou=1,Au=t,Lu=null;break}e:{var a=e,s=n.return,u=n,l=t;if(t=Ru,u.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,h=u,f=h.tag;if(0===(1&h.mode)&&(0===f||11===f||15===f)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=vs(s);if(null!==p){p.flags&=-257,ys(p,s,u,0,t),1&p.mode&&gs(a,c,t),l=c;var g=(t=p).updateQueue;if(null===g){var v=new Set;v.add(l),t.updateQueue=v}else g.add(l);break e}if(0===(1&t)){gs(a,c,t),gl();break e}l=Error(o(426))}else if(io&&1&u.mode){var y=vs(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ys(y,s,u,0,t),go(ls(l,u));break e}}a=l=ls(l,u),4!==Ou&&(Ou=2),null===ju?ju=[a]:ju.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Uo(a,ds(0,l,t));break e;case 1:u=l;var m=a.type,_=a.stateNode;if(0===(128&a.flags)&&("function"===typeof m.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Xu||!Xu.has(_)))){a.flags|=65536,t&=-t,a.lanes|=t,Uo(a,ps(a,u,t));break e}}a=a.return}while(null!==a)}kl(n)}catch(k){t=k,Lu===n&&null!==n&&(Lu=n=n.return);continue}break}}function pl(){var e=Nu.current;return Nu.current=Ka,null===e?Ka:e}function gl(){0!==Ou&&3!==Ou&&2!==Ou||(Ou=4),null===Tu||0===(268435455&Du)&&0===(268435455&Fu)||sl(Tu,Ru)}function vl(e,t){var n=Cu;Cu|=2;var r=pl();for(Tu===e&&Ru===t||(Gu=null,fl(e,t));;)try{yl();break}catch(i){dl(e,i)}if(Io(),Cu=n,Nu.current=r,null!==Lu)throw Error(o(261));return Tu=null,Ru=0,Ou}function yl(){for(;null!==Lu;)_l(Lu)}function ml(){for(;null!==Lu&&!$e();)_l(Lu)}function _l(e){var t=wu(e.alternate,e,Pu);e.memoizedProps=e.pendingProps,null===t?kl(e):Lu=t,Su.current=null}function kl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Vs(n,t,Pu)))return void(Lu=n)}else{if(null!==(n=Ws(n,t)))return n.flags&=32767,void(Lu=n);if(null===e)return Ou=6,void(Lu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Lu=t);Lu=t=e}while(null!==t);0===Ou&&(Ou=5)}function xl(e,t,n){var r=_t,i=Iu.transition;try{Iu.transition=null,_t=1,function(e,t,n,r){do{bl()}while(null!==Wu);if(0!==(6&Cu))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Tu&&(Lu=Tu=null,Ru=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Vu||(Vu=!0,Tl(tt,(function(){return bl(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Iu.transition,Iu.transition=null;var s=_t;_t=1;var u=Cu;Cu|=4,Su.current=null,function(e,t){if(ei=Yt,dr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(x){n=null;break e}var s=0,u=-1,l=-1,c=0,h=0,f=e,d=null;t:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(u=s+i),f!==a||0!==r&&3!==f.nodeType||(l=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)d=f,f=p;for(;;){if(f===e)break t;if(d===n&&++c===i&&(u=s),d===a&&++h===r&&(l=s),null!==(p=f.nextSibling))break;d=(f=d).parentNode}f=p}n=-1===u||-1===l?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Yt=!1,Ks=t;null!==Ks;)if(e=(t=Ks).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ks=e;else for(;null!==Ks;){t=Ks;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var v=g.memoizedProps,y=g.memoizedState,m=t.stateNode,_=m.getSnapshotBeforeUpdate(t.elementType===t.type?v:ns(t.type,v),y);m.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var k=t.stateNode.containerInfo;1===k.nodeType?k.textContent="":9===k.nodeType&&k.documentElement&&k.removeChild(k.documentElement);break;default:throw Error(o(163))}}catch(x){El(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Ks=e;break}Ks=t.return}g=tu,tu=!1}(e,n),vu(n,e),pr(ti),Yt=!!ei,ti=ei=null,e.current=n,mu(n,e,i),Ze(),Cu=u,_t=s,Iu.transition=a}else e.current=n;if(Vu&&(Vu=!1,Wu=e,$u=i),a=e.pendingLanes,0===a&&(Xu=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rl(e,Qe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Yu)throw Yu=!1,e=Hu,Hu=null,e;0!==(1&$u)&&0!==e.tag&&bl(),a=e.pendingLanes,0!==(1&a)?e===Qu?Zu++:(Zu=0,Qu=e):Zu=0,Ui()}(e,t,n,r)}finally{Iu.transition=i,_t=r}return null}function bl(){if(null!==Wu){var e=kt($u),t=Iu.transition,n=_t;try{if(Iu.transition=null,_t=16>e?16:e,null===Wu)var r=!1;else{if(e=Wu,Wu=null,$u=0,0!==(6&Cu))throw Error(o(331));var i=Cu;for(Cu|=4,Ks=e.current;null!==Ks;){var a=Ks,s=a.child;if(0!==(16&Ks.flags)){var u=a.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for(Ks=c;null!==Ks;){var h=Ks;switch(h.tag){case 0:case 11:case 15:nu(8,h,a)}var f=h.child;if(null!==f)f.return=h,Ks=f;else for(;null!==Ks;){var d=(h=Ks).sibling,p=h.return;if(ou(h),h===c){Ks=null;break}if(null!==d){d.return=p,Ks=d;break}Ks=p}}}var g=a.alternate;if(null!==g){var v=g.child;if(null!==v){g.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(null!==v)}}Ks=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Ks=s;else e:for(;null!==Ks;){if(0!==(2048&(a=Ks).flags))switch(a.tag){case 0:case 11:case 15:nu(9,a,a.return)}var m=a.sibling;if(null!==m){m.return=a.return,Ks=m;break e}Ks=a.return}}var _=e.current;for(Ks=_;null!==Ks;){var k=(s=Ks).child;if(0!==(2064&s.subtreeFlags)&&null!==k)k.return=s,Ks=k;else e:for(s=_;null!==Ks;){if(0!==(2048&(u=Ks).flags))try{switch(u.tag){case 0:case 11:case 15:ru(9,u)}}catch(b){El(u,u.return,b)}if(u===s){Ks=null;break e}var x=u.sibling;if(null!==x){x.return=u.return,Ks=x;break e}Ks=u.return}}if(Cu=i,Ui(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(b){}r=!0}return r}finally{_t=n,Iu.transition=t}}return!1}function wl(e,t,n){e=Bo(e,t=ds(0,t=ls(n,t),1),1),t=el(),null!==e&&(yt(e,1,t),rl(e,t))}function El(e,t,n){if(3===e.tag)wl(e,e,n);else for(;null!==t;){if(3===t.tag){wl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Xu||!Xu.has(r))){t=Bo(t,e=ps(t,e=ls(n,e),1),1),e=el(),null!==t&&(yt(t,1,e),rl(t,e));break}}t=t.return}}function Nl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=el(),e.pingedLanes|=e.suspendedLanes&n,Tu===e&&(Ru&n)===n&&(4===Ou||3===Ou&&(130023424&Ru)===Ru&&500>Qe()-qu?fl(e,0):zu|=n),rl(e,t)}function Sl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=el();null!==(e=Ao(e,t))&&(yt(e,t,n),rl(e,n))}function Il(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Sl(e,n)}function Cl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Sl(e,n)}function Tl(e,t){return Ve(e,t)}function Ll(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rl(e,t,n,r){return new Ll(e,t,n,r)}function Pl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ml(e,t){var n=e.alternate;return null===n?((n=Rl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ol(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Pl(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case w:return Al(n.children,i,a,t);case E:s=8,i|=8;break;case N:return(e=Rl(12,n,t,2|i)).elementType=N,e.lanes=a,e;case T:return(e=Rl(13,n,t,i)).elementType=T,e.lanes=a,e;case L:return(e=Rl(19,n,t,i)).elementType=L,e.lanes=a,e;case M:return Dl(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:s=10;break e;case I:s=9;break e;case C:s=11;break e;case R:s=14;break e;case P:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Rl(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Al(e,t,n,r){return(e=Rl(7,e,r,t)).lanes=n,e}function Dl(e,t,n,r){return(e=Rl(22,e,r,t)).elementType=M,e.lanes=n,e.stateNode={isHidden:!1},e}function Fl(e,t,n){return(e=Rl(6,e,null,t)).lanes=n,e}function zl(e,t,n){return(t=Rl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jl(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bl(e,t,n,r,i,o,a,s,u){return e=new jl(e,t,n,s,u),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Rl(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fo(o),e}function ql(e){if(!e)return Ii;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Ai(e,n,t)}return t}function Ul(e,t,n,r,i,o,a,s,u){return(e=Bl(n,r,!0,e,0,o,0,s,u)).context=ql(null),n=e.current,(o=jo(r=el(),i=tl(n))).callback=void 0!==t&&null!==t?t:null,Bo(n,o,i),e.current.lanes=i,yt(e,i,r),rl(e,r),e}function Gl(e,t,n,r){var i=t.current,o=el(),a=tl(i);return n=ql(n),null===t.context?t.context=n:t.pendingContext=n,(t=jo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Bo(i,t,a))&&(nl(e,i,a,o),qo(e,i,a)),a}function Yl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Xl(e,t){Hl(e,t),(e=e.alternate)&&Hl(e,t)}wu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ti.current)_s=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return _s=!1,function(e,t,n){switch(t.tag){case 3:Ts(t),po();break;case 5:Ko(t);break;case 1:Pi(t.type)&&Di(t);break;case 4:Zo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Si(wo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Si(ea,1&ea.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fs(e,t,n):(Si(ea,1&ea.current),null!==(e=Ys(e,t,n))?e.sibling:null);Si(ea,1&ea.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Us(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(ea,ea.current),r)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return Ys(e,t,n)}(e,t,n);_s=0!==(131072&e.flags)}else _s=!1,io&&0!==(1048576&t.flags)&&Ji(t,Xi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Gs(e,t),e=t.pendingProps;var i=Ri(t,Ci.current);Lo(t,n),i=va(null,t,r,e,i,n);var a=ya();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(a=!0,Di(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Fo(t),i.updater=is,t.stateNode=i,i._reactInternals=t,us(t,r,e,n),t=Cs(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),ks(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Gs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===R)return 14}return 2}(r),e=ns(r,e),i){case 0:t=Ss(null,t,r,e,n);break e;case 1:t=Is(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=bs(null,t,r,ns(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ss(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 1:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 3:e:{if(Ts(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,zo(e,t),Go(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ls(e,t,r,n,i=ls(Error(o(423)),t));break e}if(r!==i){t=Ls(e,t,r,n,i=ls(Error(o(424)),t));break e}for(ro=li(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=bo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Ys(e,t,n);break e}ks(e,t,r,n)}t=t.child}return t;case 5:return Ko(t),null===e&&lo(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),Ns(e,t),ks(e,t,s,n),t.child;case 6:return null===e&&lo(t),null;case 13:return Fs(e,t,n);case 4:return Zo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xo(t,null,r,n):ks(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 7:return ks(e,t,t.pendingProps,n),t.child;case 8:case 12:return ks(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Si(wo,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Ti.current){t=Ys(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var u=a.dependencies;if(null!==u){s=a.child;for(var l=u.firstContext;null!==l;){if(l.context===r){if(1===a.tag){(l=jo(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),To(a.return,n,t),u.lanes|=n;break}l=l.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),To(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ks(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Lo(t,n),r=r(i=Ro(i)),t.flags|=1,ks(e,t,r,n),t.child;case 14:return i=ns(r=t.type,t.pendingProps),bs(e,t,r,i=ns(r.type,i),n);case 15:return ws(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ns(r,i),Gs(e,t),t.tag=1,Pi(r)?(e=!0,Di(t)):e=!1,Lo(t,n),as(t,r,i),us(t,r,i,n),Cs(null,t,r,!0,e,n);case 19:return Us(e,t,n);case 22:return Es(e,t,n)}throw Error(o(156,t.tag))};var Vl="function"===typeof reportError?reportError:function(e){console.error(e)};function Wl(e){this._internalRoot=e}function $l(e){this._internalRoot=e}function Zl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Ql(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Kl(){}function Jl(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=Yl(a);s.call(e)}}Gl(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Yl(a);o.call(e)}}var a=Ul(t,r,e,0,null,!1,0,"",Kl);return e._reactRootContainer=a,e[pi]=a.current,Ur(8===e.nodeType?e.parentNode:e),cl(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Yl(u);s.call(e)}}var u=Bl(e,0,!1,null,0,!1,0,"",Kl);return e._reactRootContainer=u,e[pi]=u.current,Ur(8===e.nodeType?e.parentNode:e),cl((function(){Gl(t,u,n,r)})),u}(n,t,e,i,r);return Yl(a)}$l.prototype.render=Wl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Gl(e,t,null,null)},$l.prototype.unmount=Wl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cl((function(){Gl(null,e,null,null)})),t[pi]=null}},$l.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mt.length&&0!==t&&t<Mt[n].priority;n++);Mt.splice(n,0,e),0===n&&Ft(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(mt(t,1|n),rl(t,Qe()),0===(6&Cu)&&(Uu=Qe()+500,Ui()))}break;case 13:cl((function(){var t=Ao(e,1);if(null!==t){var n=el();nl(t,e,1,n)}})),Xl(e,1)}},bt=function(e){if(13===e.tag){var t=Ao(e,134217728);if(null!==t)nl(t,e,134217728,el());Xl(e,134217728)}},wt=function(e){if(13===e.tag){var t=tl(e),n=Ao(e,t);if(null!==n)nl(n,e,t,el());Xl(e,t)}},Et=function(){return _t},Nt=function(e,t){var n=_t;try{return _t=e,t()}finally{_t=n}},be=function(e,t,n){switch(t){case"input":if(K(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xi(r);if(!i)throw Error(o(90));V(r),K(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=ll,Te=cl;var ec={usingClientEntryPoint:!1,Events:[_i,ki,xi,Se,Ie,ll]},tc={findFiberByHostInstance:mi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{it=rc.inject(nc),ot=rc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Zl(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:b,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Zl(e))throw Error(o(299));var n=!1,r="",i=Vl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bl(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Ur(8===e.nodeType?e.parentNode:e),new Wl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return cl(e)},t.hydrate=function(e,t,n){if(!Ql(t))throw Error(o(200));return Jl(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Zl(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Vl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Ul(t,null,e,1,null!=n?n:null,i,0,a,s),e[pi]=t.current,Ur(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $l(t)},t.render=function(e,t,n){if(!Ql(t))throw Error(o(200));return Jl(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Ql(e))throw Error(o(40));return!!e._reactRootContainer&&(cl((function(){Jl(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=ll,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ql(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Jl(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},391:(e,t,n)=>{"use strict";var r=n(950);t.H=r.createRoot,r.hydrateRoot},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},153:(e,t,n)=>{"use strict";var r=n(43),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,o={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)a.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:o,_owner:s.current}}t.Fragment=o,t.jsx=l,t.jsxs=l},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,v={};function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function m(){}function _(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=y.prototype;var k=_.prototype=new m;k.constructor=_,g(k,y.prototype),k.isPureReactComponent=!0;var x=Array.isArray,b=Object.prototype.hasOwnProperty,w={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function N(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)b.call(t,i)&&!E.hasOwnProperty(i)&&(o[i]=t[i]);var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];o.children=l}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===o[i]&&(o[i]=u[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:w.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return a=a(u=e),e=""===o?"."+C(u,0):o,x(a)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),T(a,t,i,"",(function(e){return e}))):null!=a&&(S(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(I,"$&/")+"/")+e)),t.push(a)),1;if(u=0,o=""===o?".":o+":",x(e))for(var l=0;l<e.length;l++){var c=o+C(s=e[l],l);u+=T(s,t,i,c,a)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=T(s=s.value,t,i,c=o+C(s,l++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function L(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},M={transition:null},O={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:M,ReactCurrentOwner:w};function A(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:L,forEach:function(e,t,n){L(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return L(e,(function(){t++})),t},toArray:function(e){return L(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=_,t.StrictMode=o,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.act=A,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=w.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)b.call(t,l)&&!E.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=N,t.createFactory=function(e){var t=N.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=M.transition;M.transition={};try{e()}finally{M.transition=t}},t.unstable_act=A,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},43:(e,t,n)=>{"use strict";e.exports=n(202)},579:(e,t,n)=>{"use strict";e.exports=n(153)},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,u=e[s],l=s+1,c=e[l];if(0>o(u,n))l<i&&0>o(c,u)?(e[r]=c,e[l]=n,r=l):(e[r]=u,e[s]=n,r=s);else{if(!(l<i&&0>o(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var l=[],c=[],h=1,f=null,d=3,p=!1,g=!1,v=!1,y="function"===typeof setTimeout?setTimeout:null,m="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function x(e){if(v=!1,k(e),!g)if(null!==r(l))g=!0,M(b);else{var t=r(c);null!==t&&O(x,t.startTime-e)}}function b(e,n){g=!1,v&&(v=!1,m(S),S=-1),p=!0;var o=d;try{for(k(n),f=r(l);null!==f&&(!(f.expirationTime>n)||e&&!T());){var a=f.callback;if("function"===typeof a){f.callback=null,d=f.priorityLevel;var s=a(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(l)&&i(l),k(n)}else i(l);f=r(l)}if(null!==f)var u=!0;else{var h=r(c);null!==h&&O(x,h.startTime-n),u=!1}return u}finally{f=null,d=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var w,E=!1,N=null,S=-1,I=5,C=-1;function T(){return!(t.unstable_now()-C<I)}function L(){if(null!==N){var e=t.unstable_now();C=e;var n=!0;try{n=N(!0,e)}finally{n?w():(E=!1,N=null)}}else E=!1}if("function"===typeof _)w=function(){_(L)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,P=R.port2;R.port1.onmessage=L,w=function(){P.postMessage(null)}}else w=function(){y(L,0)};function M(e){N=e,E||(E=!0,w())}function O(e,n){S=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,M(b))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(c,e),null===r(l)&&e===r(c)&&(v?(m(S),S=-1):v=!0,O(x,o-a))):(e.sortIndex=s,n(l,e),g||p||(g=!0,M(b))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},853:(e,t,n)=>{"use strict";e.exports=n(234)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.m=e,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(o,a),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".eedd9657.chunk.js",n.miniCssF=e=>{},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="parcels:";n.l=(r,i,o,a)=>{if(e[r])e[r].push(i);else{var s,u;if(void 0!==o)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var h=l[c];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+o){s=h;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=r),e[r]=[i];var f=(t,n)=>{s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((e=>e(n))),t)return t(n)},d=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),u&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/parcels/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=o);var a=n.p+n.u(t),s=new Error;n.l(a,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,o,a=r[0],s=r[1],u=r[2],l=0;if(a.some((t=>0!==e[t]))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);l<a.length;l++)o=a[l],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkparcels=self.webpackChunkparcels||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e=n(43),t=n(391),r=n(579);const i=()=>(0,r.jsx)("div",{className:"title-wrapper-style",children:(0,r.jsxs)("div",{children:["Filter by parcel area ",(0,r.jsx)("span",{style:{fontSize:"0.8em"},children:"m\xb2"})]})});i.displayName="Title";const o=(0,e.createContext)(null),a=()=>(0,e.useContext)(o),s=t=>{let{children:n}=t;const[i,a]=(0,e.useState)(null),[s,u]=(0,e.useState)(null),l={top:10,bottom:0,left:0,right:0},c=i-l.right-l.left,h=s-l.top-l.bottom;return(0,r.jsx)(o.Provider,{value:{margin:l,width:i,height:s,setWidth:a,setHeight:u,innerWidth:c,innerHeight:h},children:n})};o.displayName="BarsSizesContext";const u=t=>{let{children:n}=t;const{margin:i,width:o,height:s,setWidth:u,setHeight:l}=a(),c=(0,e.useCallback)((e=>{if(e){const t=e.getBoundingClientRect().width,n=e.getBoundingClientRect().height;u(t),l(n)}}),[]);return 0===o?(0,r.jsx)(r.Fragment,{}):(0,r.jsx)("div",{ref:c,style:{width:"100%",height:"100%"},children:o&&(0,r.jsx)("svg",{viewBox:`0 0 ${o} ${s}`,preserveAspectRatio:"none",children:(0,r.jsx)("g",{transform:`translate(${i.left}, ${i.top})`,children:e.Children.map(n,((t,n)=>(0,e.cloneElement)(t,{width:"100%"})))})})})};u.displayName="SVGWrapper";const l={latitude:-26.905141661134657,longitude:-49.08110549040376,bearing:-34,pitch:60,zoom:15.5},c=(0,e.createContext)(null),h=()=>(0,e.useContext)(c),f=t=>{let{children:n}=t;const[i,o]=(0,e.useState)("mapbox://styles/hvoking/clrwzn1jo015q01nl53664m2c"),[a,s]=(0,e.useState)("blumenau"),[u,h]=(0,e.useState)(37),[f,d]=(0,e.useState)(41351),[p,g]=(0,e.useState)(41351),[v,y]=(0,e.useState)(l),[m,_]=(0,e.useState)({latitude:v.latitude,longitude:v.longitude}),[k,x]=(0,e.useState)({latitude:v.latitude,longitude:v.longitude});(0,e.useEffect)((()=>{y({...v,...m})}),[m]);const b=(0,e.useRef)();return(0,e.useEffect)((()=>{var e;null===(e=b.current)||void 0===e||e.flyTo({center:[v.longitude,v.latitude],zoom:v.zoom,duration:3e3,essential:!0}),x({longitude:v.longitude,latitude:v.latitude})}),[v]),(0,r.jsx)(c.Provider,{value:{mapRef:b,basemap:i,setBasemap:o,viewport:v,setViewport:y,cityName:a,setCityName:s,parcelId:f,setParcelId:d,cityId:u,setCityId:h,marker:k,setMarker:x,placeCoordinates:m,setPlaceCoordinates:_,placeId:p,setPlaceId:g},children:n})};c.displayName="MapboxContext";var d=6371008.8,p={centimeters:637100880,centimetres:637100880,degrees:360/(2*Math.PI),feet:20902260.511392,inches:39.37*d,kilometers:6371.0088,kilometres:6371.0088,meters:d,metres:d,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:d/1852,radians:1,yards:6967335.223679999};function g(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r={type:"Feature"};return(0===n.id||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=t||{},r.geometry=e,r}function v(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!w(e[0])||!w(e[1]))throw new Error("coordinates must contain numbers");return g({type:"Point",coordinates:e},t,n)}function y(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(const r of e){if(r.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(r[r.length-1].length!==r[0].length)throw new Error("First and last Position are not equivalent.");for(let e=0;e<r[r.length-1].length;e++)if(r[r.length-1][e]!==r[0][e])throw new Error("First and last Position are not equivalent.")}return g({type:"Polygon",coordinates:e},t,n)}function m(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n={type:"FeatureCollection"};return t.id&&(n.id=t.id),t.bbox&&(n.bbox=t.bbox),n.features=e,n}function _(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"kilometers";const n=p[t];if(!n)throw new Error(t+" units is invalid");return e*n}function k(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"kilometers";const n=p[t];if(!n)throw new Error(t+" units is invalid");return e/n}function x(e){return 180*(e%(2*Math.PI))/Math.PI}function b(e){return e%360*Math.PI/180}function w(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function E(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return[...e.geometry.coordinates];if("Point"===e.type)return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function N(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=E(e),o=b(i[0]),a=b(i[1]),s=b(n),u=k(t,r.units),l=Math.asin(Math.sin(a)*Math.cos(u)+Math.cos(a)*Math.sin(u)*Math.cos(s));return v([x(o+Math.atan2(Math.sin(s)*Math.sin(u)*Math.cos(a),Math.cos(u)-Math.sin(a)*Math.sin(l))),x(l)],r.properties)}function S(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=n.steps||64,i=n.properties?n.properties:!Array.isArray(e)&&"Feature"===e.type&&e.properties?e.properties:{},o=[];for(let a=0;a<r;a++)o.push(N(e,t,-360*a/r,n).geometry.coordinates);return o.push(o[0]),y([o],i)}const I=(0,e.createContext)(null),C=()=>(0,e.useContext)(I),T=t=>{let{children:n}=t;const{marker:i}=h(),[o,a]=(0,e.useState)(.5),[s,u]=(0,e.useState)(.5),l=S([i.longitude,i.latitude],s);return(0,r.jsx)(I.Provider,{value:{circleGeometry:l,circleRadius:s,setCircleRadius:u,radiusPosition:o,setRadiusPosition:a,maxBound:1,minBound:.1},children:n})};function L(e,t,n){if(null!==e)for(var r,i,o,a,s,u,l,c,h=0,f=0,d=e.type,p="FeatureCollection"===d,g="Feature"===d,v=p?e.features.length:1,y=0;y<v;y++){s=(c=!!(l=p?e.features[y].geometry:g?e.geometry:e)&&"GeometryCollection"===l.type)?l.geometries.length:1;for(var m=0;m<s;m++){var _=0,k=0;if(null!==(a=c?l.geometries[m]:l)){u=a.coordinates;var x=a.type;switch(h=!n||"Polygon"!==x&&"MultiPolygon"!==x?0:1,x){case null:break;case"Point":if(!1===t(u,f,y,_,k))return!1;f++,_++;break;case"LineString":case"MultiPoint":for(r=0;r<u.length;r++){if(!1===t(u[r],f,y,_,k))return!1;f++,"MultiPoint"===x&&_++}"LineString"===x&&_++;break;case"Polygon":case"MultiLineString":for(r=0;r<u.length;r++){for(i=0;i<u[r].length-h;i++){if(!1===t(u[r][i],f,y,_,k))return!1;f++}"MultiLineString"===x&&_++,"Polygon"===x&&k++}"Polygon"===x&&_++;break;case"MultiPolygon":for(r=0;r<u.length;r++){for(k=0,i=0;i<u[r].length;i++){for(o=0;o<u[r][i].length-h;o++){if(!1===t(u[r][i][o],f,y,_,k))return!1;f++}k++}_++}break;case"GeometryCollection":for(r=0;r<a.geometries.length;r++)if(!1===L(a.geometries[r],t,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function R(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var n=0;n<e.features.length&&!1!==t(e.features[n],n);n++);}function P(e,t){var n,r,i,o,a,s,u,l,c,h,f=0,d="FeatureCollection"===e.type,p="Feature"===e.type,g=d?e.features.length:1;for(n=0;n<g;n++){for(s=d?e.features[n].geometry:p?e.geometry:e,l=d?e.features[n].properties:p?e.properties:{},c=d?e.features[n].bbox:p?e.bbox:void 0,h=d?e.features[n].id:p?e.id:void 0,a=(u=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,i=0;i<a;i++)if(null!==(o=u?s.geometries[i]:s))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(o,f,l,c,h))return!1;break;case"GeometryCollection":for(r=0;r<o.geometries.length;r++)if(!1===t(o.geometries[r],f,l,c,h))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,f,l,c,h))return!1;f++}}function M(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=0,r=0,i=0;return L(e,(function(e){n+=e[0],r+=e[1],i++}),!0),v([n/i,r/i],t.properties)}I.displayName="CircleContext";const O=function(e,t){for(var n=0,r=0,i=0,o=0,a=0,s=0,u=0,l=0,c=null,h=null,f=e[0],d=e[1],p=t.length;n<p;n++){r=0;var g=t[n].length-1,v=t[n];if((c=v[0])[0]!==v[g][0]&&c[1]!==v[g][1])throw new Error("First and last coordinates in a ring must be the same");for(a=c[0]-f,s=c[1]-d;r<g;r++)if(l=(h=v[r+1])[1]-d,s<0&&l<0||s>0&&l>0)s=l,a=(c=h)[0]-f;else{if(u=h[0]-e[0],l>0&&s<=0){if((o=a*l-u*s)>0)i+=1;else if(0===o)return 0}else if(s>0&&l<=0){if((o=a*l-u*s)<0)i+=1;else if(0===o)return 0}else if(0===l&&s<0){if(0===(o=a*l-u*s))return 0}else if(0===s&&l<0){if(0===(o=a*l-u*s))return 0}else if(0===s&&0===l){if(u<=0&&a>=0)return 0;if(a<=0&&u>=0)return 0}c=h,s=l,a=u}}return i%2!==0};function A(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)throw new Error("point is required");if(!t)throw new Error("polygon is required");const r=E(e),i="Feature"===(o=t).type?o.geometry:o;var o;const a=i.type,s=t.bbox;let u=i.coordinates;if(s&&!1===function(e,t){return t[0]<=e[0]&&t[1]<=e[1]&&t[2]>=e[0]&&t[3]>=e[1]}(r,s))return!1;"Polygon"===a&&(u=[u]);let l=!1;for(var c=0;c<u.length;++c){const e=O(r,u[c]);if(0===e)return!n.ignoreBoundary;e&&(l=!0)}return l}const D=(0,e.createContext)(null),F=()=>(0,e.useContext)(D),z=t=>{let{children:n}=t;const{mapRef:i}=h(),{circleGeometry:o}=C(),[a,s]=(0,e.useState)([]),[u,l]=(0,e.useState)(!1);(0,e.useEffect)((()=>{const e=i.current;if(!e)return;const t=e=>e.tile&&l((e=>!e));return e.on("data",t),()=>{e.off("data",t)}}),[i.current]),(0,e.useEffect)((()=>{const e=i.current;if(!e)return;const t=e.queryRenderedFeatures();s(t)}),[u,i.current]);const c=(0,e.useMemo)((()=>a.filter((e=>{if("raster-style"===e.source){return A(M(e.geometry),o)}return!1}))),[a,o]);return(0,r.jsx)(D.Provider,{value:{maskProperties:c},children:n})};function j(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function B(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function q(){}function U(e){return null==e?q:function(){return this.querySelector(e)}}function G(){return[]}function Y(e){return null==e?G:function(){return this.querySelectorAll(e)}}function H(e){return function(){return null==(t=e.apply(this,arguments))?[]:Array.isArray(t)?t:Array.from(t);var t}}function X(e){return function(){return this.matches(e)}}function V(e){return function(t){return t.matches(e)}}D.displayName="MaskContext";var W=Array.prototype.find;function $(){return this.firstElementChild}var Z=Array.prototype.filter;function Q(){return Array.from(this.children)}function K(e){return new Array(e.length)}function J(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function ee(e,t,n,r,i,o){for(var a,s=0,u=t.length,l=o.length;s<l;++s)(a=t[s])?(a.__data__=o[s],r[s]=a):n[s]=new J(e,o[s]);for(;s<u;++s)(a=t[s])&&(i[s]=a)}function te(e,t,n,r,i,o,a){var s,u,l,c=new Map,h=t.length,f=o.length,d=new Array(h);for(s=0;s<h;++s)(u=t[s])&&(d[s]=l=a.call(u,u.__data__,s,t)+"",c.has(l)?i[s]=u:c.set(l,u));for(s=0;s<f;++s)l=a.call(e,o[s],s,o)+"",(u=c.get(l))?(r[s]=u,u.__data__=o[s],c.delete(l)):n[s]=new J(e,o[s]);for(s=0;s<h;++s)(u=t[s])&&c.get(d[s])===u&&(i[s]=u)}function ne(e){return e.__data__}function re(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function ie(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}J.prototype={constructor:J,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var oe="http://www.w3.org/1999/xhtml";const ae={svg:"http://www.w3.org/2000/svg",xhtml:oe,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function se(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),ae.hasOwnProperty(t)?{space:ae[t],local:e}:e}function ue(e){return function(){this.removeAttribute(e)}}function le(e){return function(){this.removeAttributeNS(e.space,e.local)}}function ce(e,t){return function(){this.setAttribute(e,t)}}function he(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function fe(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function de(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function pe(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function ge(e){return function(){this.style.removeProperty(e)}}function ve(e,t,n){return function(){this.style.setProperty(e,t,n)}}function ye(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function me(e,t){return e.style.getPropertyValue(t)||pe(e).getComputedStyle(e,null).getPropertyValue(t)}function _e(e){return function(){delete this[e]}}function ke(e,t){return function(){this[e]=t}}function xe(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function be(e){return e.trim().split(/^|\s+/)}function we(e){return e.classList||new Ee(e)}function Ee(e){this._node=e,this._names=be(e.getAttribute("class")||"")}function Ne(e,t){for(var n=we(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function Se(e,t){for(var n=we(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function Ie(e){return function(){Ne(this,e)}}function Ce(e){return function(){Se(this,e)}}function Te(e,t){return function(){(t.apply(this,arguments)?Ne:Se)(this,e)}}function Le(){this.textContent=""}function Re(e){return function(){this.textContent=e}}function Pe(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function Me(){this.innerHTML=""}function Oe(e){return function(){this.innerHTML=e}}function Ae(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function De(){this.nextSibling&&this.parentNode.appendChild(this)}function Fe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ze(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===oe&&t.documentElement.namespaceURI===oe?t.createElement(e):t.createElementNS(n,e)}}function je(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Be(e){var t=se(e);return(t.local?je:ze)(t)}function qe(){return null}function Ue(){var e=this.parentNode;e&&e.removeChild(this)}function Ge(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Ye(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function He(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,o=t.length;r<o;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?t.length=i:delete this.__on}}}function Xe(e,t,n){return function(){var r,i=this.__on,o=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(i)for(var a=0,s=i.length;a<s;++a)if((r=i[a]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=t);this.addEventListener(e.type,o,n),r={type:e.type,name:e.name,value:t,listener:o,options:n},i?i.push(r):this.__on=[r]}}function Ve(e,t,n){var r=pe(e),i=r.CustomEvent;"function"===typeof i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function We(e,t){return function(){return Ve(this,e,t)}}function $e(e,t){return function(){return Ve(this,e,t.apply(this,arguments))}}Ee.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var Ze=[null];function Qe(e,t){this._groups=e,this._parents=t}function Ke(){return new Qe([[document.documentElement]],Ze)}Qe.prototype=Ke.prototype={constructor:Qe,select:function(e){"function"!==typeof e&&(e=U(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=t[i],u=s.length,l=r[i]=new Array(u),c=0;c<u;++c)(o=s[c])&&(a=e.call(o,o.__data__,c,s))&&("__data__"in o&&(a.__data__=o.__data__),l[c]=a);return new Qe(r,this._parents)},selectAll:function(e){e="function"===typeof e?H(e):Y(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var a,s=t[o],u=s.length,l=0;l<u;++l)(a=s[l])&&(r.push(e.call(a,a.__data__,l,s)),i.push(a));return new Qe(r,i)},selectChild:function(e){return this.select(null==e?$:function(e){return function(){return W.call(this.children,e)}}("function"===typeof e?e:V(e)))},selectChildren:function(e){return this.selectAll(null==e?Q:function(e){return function(){return Z.call(this.children,e)}}("function"===typeof e?e:V(e)))},filter:function(e){"function"!==typeof e&&(e=X(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,a=t[i],s=a.length,u=r[i]=[],l=0;l<s;++l)(o=a[l])&&e.call(o,o.__data__,l,a)&&u.push(o);return new Qe(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,ne);var n,r=t?te:ee,i=this._parents,o=this._groups;"function"!==typeof e&&(n=e,e=function(){return n});for(var a=o.length,s=new Array(a),u=new Array(a),l=new Array(a),c=0;c<a;++c){var h=i[c],f=o[c],d=f.length,p=re(e.call(h,h&&h.__data__,c,i)),g=p.length,v=u[c]=new Array(g),y=s[c]=new Array(g);r(h,f,v,y,l[c]=new Array(d),p,t);for(var m,_,k=0,x=0;k<g;++k)if(m=v[k]){for(k>=x&&(x=k+1);!(_=y[x])&&++x<g;);m._next=_||null}}return(s=new Qe(s,i))._enter=u,s._exit=l,s},enter:function(){return new Qe(this._enter||this._groups.map(K),this._parents)},exit:function(){return new Qe(this._exit||this._groups.map(K),this._parents)},join:function(e,t,n){var r=this.enter(),i=this,o=this.exit();return"function"===typeof e?(r=e(r))&&(r=r.selection()):r=r.append(e+""),null!=t&&(i=t(i))&&(i=i.selection()),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),u=0;u<a;++u)for(var l,c=n[u],h=r[u],f=c.length,d=s[u]=new Array(f),p=0;p<f;++p)(l=c[p]||h[p])&&(d[p]=l);for(;u<i;++u)s[u]=n[u];return new Qe(s,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=ie);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],u=s.length,l=i[o]=new Array(u),c=0;c<u;++c)(a=s[c])&&(l[c]=a);l.sort(t)}return new Qe(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,o=t[n],a=0,s=o.length;a<s;++a)(i=o[a])&&e.call(i,i.__data__,a,o);return this},attr:function(e,t){var n=se(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?le:ue:"function"===typeof t?n.local?de:fe:n.local?he:ce)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?ge:"function"===typeof t?ye:ve)(e,t,null==n?"":n)):me(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?_e:"function"===typeof t?xe:ke)(e,t)):this.node()[e]},classed:function(e,t){var n=be(e+"");if(arguments.length<2){for(var r=we(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"===typeof t?Te:t?Ie:Ce)(n,t))},text:function(e){return arguments.length?this.each(null==e?Le:("function"===typeof e?Pe:Re)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?Me:("function"===typeof e?Ae:Oe)(e)):this.node().innerHTML},raise:function(){return this.each(De)},lower:function(){return this.each(Fe)},append:function(e){var t="function"===typeof e?e:Be(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"===typeof e?e:Be(e),r=null==t?qe:"function"===typeof t?t:U(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Ue)},clone:function(e){return this.select(e?Ye:Ge)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,i,o=function(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}(e+""),a=o.length;if(!(arguments.length<2)){for(s=t?Xe:He,r=0;r<a;++r)this.each(s(o[r],t,n));return this}var s=this.node().__on;if(s)for(var u,l=0,c=s.length;l<c;++l)for(r=0,u=s[l];r<a;++r)if((i=o[r]).type===u.type&&i.name===u.name)return u.value},dispatch:function(e,t){return this.each(("function"===typeof t?$e:We)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r,i=e[t],o=0,a=i.length;o<a;++o)(r=i[o])&&(yield r)}};const Je=Ke;var et={value:()=>{}};function tt(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new nt(r)}function nt(e){this._=e}function rt(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function it(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=et,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}nt.prototype=tt.prototype={constructor:nt,on:function(e,t){var n,r,i=this._,o=(r=i,(e+"").trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}}))),a=-1,s=o.length;if(!(arguments.length<2)){if(null!=t&&"function"!==typeof t)throw new Error("invalid callback: "+t);for(;++a<s;)if(n=(e=o[a]).type)i[n]=it(i[n],e.name,t);else if(null==t)for(n in i)i[n]=it(i[n],e.name,null);return this}for(;++a<s;)if((n=(e=o[a]).type)&&(n=rt(i[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new nt(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,n=(r=this._[e]).length;o<n;++o)r[o].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};const ot=tt;var at,st,ut=0,lt=0,ct=0,ht=0,ft=0,dt=0,pt="object"===typeof performance&&performance.now?performance:Date,gt="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function vt(){return ft||(gt(yt),ft=pt.now()+dt)}function yt(){ft=0}function mt(){this._call=this._time=this._next=null}function _t(e,t,n){var r=new mt;return r.restart(e,t,n),r}function kt(){ft=(ht=pt.now())+dt,ut=lt=0;try{!function(){vt(),++ut;for(var e,t=at;t;)(e=ft-t._time)>=0&&t._call.call(void 0,e),t=t._next;--ut}()}finally{ut=0,function(){var e,t,n=at,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:at=t);st=e,bt(r)}(),ft=0}}function xt(){var e=pt.now(),t=e-ht;t>1e3&&(dt-=t,ht=e)}function bt(e){ut||(lt&&(lt=clearTimeout(lt)),e-ft>24?(e<1/0&&(lt=setTimeout(kt,e-pt.now()-dt)),ct&&(ct=clearInterval(ct))):(ct||(ht=pt.now(),ct=setInterval(xt,1e3)),ut=1,gt(kt)))}function wt(e,t,n){var r=new mt;return t=null==t?0:+t,r.restart((n=>{r.stop(),e(n+t)}),t,n),r}mt.prototype=_t.prototype={constructor:mt,restart:function(e,t,n){if("function"!==typeof e)throw new TypeError("callback is not a function");n=(null==n?vt():+n)+(null==t?0:+t),this._next||st===this||(st?st._next=this:at=this,st=this),this._call=e,this._time=n,bt()},stop:function(){this._call&&(this._call=null,this._time=1/0,bt())}};var Et=ot("start","end","cancel","interrupt"),Nt=[];function St(e,t,n,r,i,o){var a=e.__transition;if(a){if(n in a)return}else e.__transition={};!function(e,t,n){var r,i=e.__transition;function o(e){n.state=1,n.timer.restart(a,n.delay,n.time),n.delay<=e&&a(e-n.delay)}function a(o){var l,c,h,f;if(1!==n.state)return u();for(l in i)if((f=i[l]).name===n.name){if(3===f.state)return wt(a);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",e,e.__data__,f.index,f.group),delete i[l]):+l<t&&(f.state=6,f.timer.stop(),f.on.call("cancel",e,e.__data__,f.index,f.group),delete i[l])}if(wt((function(){3===n.state&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(o))})),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(h=n.tween.length),l=0,c=-1;l<h;++l)(f=n.tween[l].value.call(e,e.__data__,n.index,n.group))&&(r[++c]=f);r.length=c+1}}function s(t){for(var i=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(u),n.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(e,i);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){for(var r in n.state=6,n.timer.stop(),delete i[t],i)return;delete e.__transition}i[t]=n,n.timer=_t(o,0,n.time)}(e,n,{name:t,index:r,group:i,on:Et,tween:Nt,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function It(e,t){var n=Tt(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function Ct(e,t){var n=Tt(e,t);if(n.state>3)throw new Error("too late; already running");return n}function Tt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Lt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Rt,Pt=180/Math.PI,Mt={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ot(e,t,n,r,i,o){var a,s,u;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),e*r<t*n&&(e=-e,t=-t,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*Pt,skewX:Math.atan(u)*Pt,scaleX:a,scaleY:s}}function At(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}return function(o,a){var s=[],u=[];return o=e(o),a=e(a),function(e,r,i,o,a,s){if(e!==i||r!==o){var u=a.push("translate(",null,t,null,n);s.push({i:u-4,x:Lt(e,i)},{i:u-2,x:Lt(r,o)})}else(i||o)&&a.push("translate("+i+t+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,u),function(e,t,n,o){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Lt(e,t)})):t&&n.push(i(n)+"rotate("+t+r)}(o.rotate,a.rotate,s,u),function(e,t,n,o){e!==t?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Lt(e,t)}):t&&n.push(i(n)+"skewX("+t+r)}(o.skewX,a.skewX,s,u),function(e,t,n,r,o,a){if(e!==n||t!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:Lt(e,n)},{i:s-2,x:Lt(t,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,u),o=a=null,function(e){for(var t,n=-1,r=u.length;++n<r;)s[(t=u[n]).i]=t.x(e);return s.join("")}}}var Dt=At((function(e){const t=new("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Mt:Ot(t.a,t.b,t.c,t.d,t.e,t.f)}),"px, ","px)","deg)"),Ft=At((function(e){return null==e?Mt:(Rt||(Rt=document.createElementNS("http://www.w3.org/2000/svg","g")),Rt.setAttribute("transform",e),(e=Rt.transform.baseVal.consolidate())?Ot((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):Mt)}),", ",")",")");function zt(e,t){var n,r;return function(){var i=Ct(this,e),o=i.tween;if(o!==n)for(var a=0,s=(r=n=o).length;a<s;++a)if(r[a].name===t){(r=r.slice()).splice(a,1);break}i.tween=r}}function jt(e,t,n){var r,i;if("function"!==typeof n)throw new Error;return function(){var o=Ct(this,e),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:t,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===t){i[u]=s;break}u===l&&i.push(s)}o.tween=i}}function Bt(e,t,n){var r=e._id;return e.each((function(){var e=Ct(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return Tt(e,r).value[t]}}function qt(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Ut(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Gt(){}var Yt=.7,Ht=1/Yt,Xt="\\s*([+-]?\\d+)\\s*",Vt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Wt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$t=/^#([0-9a-f]{3,8})$/,Zt=new RegExp(`^rgb\\(${Xt},${Xt},${Xt}\\)$`),Qt=new RegExp(`^rgb\\(${Wt},${Wt},${Wt}\\)$`),Kt=new RegExp(`^rgba\\(${Xt},${Xt},${Xt},${Vt}\\)$`),Jt=new RegExp(`^rgba\\(${Wt},${Wt},${Wt},${Vt}\\)$`),en=new RegExp(`^hsl\\(${Vt},${Wt},${Wt}\\)$`),tn=new RegExp(`^hsla\\(${Vt},${Wt},${Wt},${Vt}\\)$`),nn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function rn(){return this.rgb().formatHex()}function on(){return this.rgb().formatRgb()}function an(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=$t.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?sn(t):3===n?new cn(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?un(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?un(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Zt.exec(e))?new cn(t[1],t[2],t[3],1):(t=Qt.exec(e))?new cn(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Kt.exec(e))?un(t[1],t[2],t[3],t[4]):(t=Jt.exec(e))?un(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=en.exec(e))?vn(t[1],t[2]/100,t[3]/100,1):(t=tn.exec(e))?vn(t[1],t[2]/100,t[3]/100,t[4]):nn.hasOwnProperty(e)?sn(nn[e]):"transparent"===e?new cn(NaN,NaN,NaN,0):null}function sn(e){return new cn(e>>16&255,e>>8&255,255&e,1)}function un(e,t,n,r){return r<=0&&(e=t=n=NaN),new cn(e,t,n,r)}function ln(e,t,n,r){return 1===arguments.length?((i=e)instanceof Gt||(i=an(i)),i?new cn((i=i.rgb()).r,i.g,i.b,i.opacity):new cn):new cn(e,t,n,null==r?1:r);var i}function cn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function hn(){return`#${gn(this.r)}${gn(this.g)}${gn(this.b)}`}function fn(){const e=dn(this.opacity);return`${1===e?"rgb(":"rgba("}${pn(this.r)}, ${pn(this.g)}, ${pn(this.b)}${1===e?")":`, ${e})`}`}function dn(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function pn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function gn(e){return((e=pn(e))<16?"0":"")+e.toString(16)}function vn(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new mn(e,t,n,r)}function yn(e){if(e instanceof mn)return new mn(e.h,e.s,e.l,e.opacity);if(e instanceof Gt||(e=an(e)),!e)return new mn;if(e instanceof mn)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=t===o?(n-r)/s+6*(n<r):n===o?(r-t)/s+2:(t-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new mn(a,s,u,e.opacity)}function mn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function _n(e){return(e=(e||0)%360)<0?e+360:e}function kn(e){return Math.max(0,Math.min(1,e||0))}function xn(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function bn(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}qt(Gt,an,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:rn,formatHex:rn,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return yn(this).formatHsl()},formatRgb:on,toString:on}),qt(cn,ln,Ut(Gt,{brighter(e){return e=null==e?Ht:Math.pow(Ht,e),new cn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?Yt:Math.pow(Yt,e),new cn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new cn(pn(this.r),pn(this.g),pn(this.b),dn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:hn,formatHex:hn,formatHex8:function(){return`#${gn(this.r)}${gn(this.g)}${gn(this.b)}${gn(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:fn,toString:fn})),qt(mn,(function(e,t,n,r){return 1===arguments.length?yn(e):new mn(e,t,n,null==r?1:r)}),Ut(Gt,{brighter(e){return e=null==e?Ht:Math.pow(Ht,e),new mn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?Yt:Math.pow(Yt,e),new mn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new cn(xn(e>=240?e-240:e+120,i,r),xn(e,i,r),xn(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new mn(_n(this.h),kn(this.s),kn(this.l),dn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=dn(this.opacity);return`${1===e?"hsl(":"hsla("}${_n(this.h)}, ${100*kn(this.s)}%, ${100*kn(this.l)}%${1===e?")":`, ${e})`}`}}));const wn=e=>()=>e;function En(e,t){return function(n){return e+n*t}}function Nn(e){return 1===(e=+e)?Sn:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):wn(isNaN(t)?n:t)}}function Sn(e,t){var n=t-e;return n?En(e,n):wn(isNaN(e)?t:e)}const In=function e(t){var n=Nn(t);function r(e,t){var r=n((e=ln(e)).r,(t=ln(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),a=Sn(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function Cn(e){return function(t){var n,r,i=t.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=ln(t[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=e(o),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=o(e),r.g=a(e),r.b=s(e),r+""}}}Cn((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,s=r<t-1?e[r+2]:2*o-i;return bn((n-r/t)*t,a,i,o,s)}})),Cn((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return bn((n-r/t)*t,i,o,a,s)}}));var Tn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ln=new RegExp(Tn.source,"g");function Rn(e,t){var n,r,i,o=Tn.lastIndex=Ln.lastIndex=0,a=-1,s=[],u=[];for(e+="",t+="";(n=Tn.exec(e))&&(r=Ln.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:Lt(n,r)})),o=Ln.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?function(e){return function(t){return e(t)+""}}(u[0].x):function(e){return function(){return e}}(t):(t=u.length,function(e){for(var n,r=0;r<t;++r)s[(n=u[r]).i]=n.x(e);return s.join("")})}function Pn(e,t){var n;return("number"===typeof t?Lt:t instanceof an?In:(n=an(t))?(t=n,In):Rn)(e,t)}function Mn(e){return function(){this.removeAttribute(e)}}function On(e){return function(){this.removeAttributeNS(e.space,e.local)}}function An(e,t,n){var r,i,o=n+"";return function(){var a=this.getAttribute(e);return a===o?null:a===r?i:i=t(r=a,n)}}function Dn(e,t,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(e.space,e.local);return a===o?null:a===r?i:i=t(r=a,n)}}function Fn(e,t,n){var r,i,o;return function(){var a,s,u=n(this);if(null!=u)return(a=this.getAttribute(e))===(s=u+"")?null:a===r&&s===i?o:(i=s,o=t(r=a,u));this.removeAttribute(e)}}function zn(e,t,n){var r,i,o;return function(){var a,s,u=n(this);if(null!=u)return(a=this.getAttributeNS(e.space,e.local))===(s=u+"")?null:a===r&&s===i?o:(i=s,o=t(r=a,u));this.removeAttributeNS(e.space,e.local)}}function jn(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}(e,i)),n}return i._value=t,i}function Bn(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}(e,i)),n}return i._value=t,i}function qn(e,t){return function(){It(this,e).delay=+t.apply(this,arguments)}}function Un(e,t){return t=+t,function(){It(this,e).delay=t}}function Gn(e,t){return function(){Ct(this,e).duration=+t.apply(this,arguments)}}function Yn(e,t){return t=+t,function(){Ct(this,e).duration=t}}var Hn=Je.prototype.constructor;function Xn(e){return function(){this.style.removeProperty(e)}}var Vn=0;function Wn(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function $n(){return++Vn}var Zn=Je.prototype;Wn.prototype=function(e){return Je().transition(e)}.prototype={constructor:Wn,select:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=U(e));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,u,l=r[a],c=l.length,h=o[a]=new Array(c),f=0;f<c;++f)(s=l[f])&&(u=e.call(s,s.__data__,f,l))&&("__data__"in s&&(u.__data__=s.__data__),h[f]=u,St(h[f],t,n,f,h,Tt(s,n)));return new Wn(o,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=Y(e));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var u,l=r[s],c=l.length,h=0;h<c;++h)if(u=l[h]){for(var f,d=e.call(u,u.__data__,h,l),p=Tt(u,n),g=0,v=d.length;g<v;++g)(f=d[g])&&St(f,t,n,g,d,p);o.push(d),a.push(u)}return new Wn(o,a,t,n)},selectChild:Zn.selectChild,selectChildren:Zn.selectChildren,filter:function(e){"function"!==typeof e&&(e=X(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,a=t[i],s=a.length,u=r[i]=[],l=0;l<s;++l)(o=a[l])&&e.call(o,o.__data__,l,a)&&u.push(o);return new Wn(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,l=t[s],c=n[s],h=l.length,f=a[s]=new Array(h),d=0;d<h;++d)(u=l[d]||c[d])&&(f[d]=u);for(;s<r;++s)a[s]=t[s];return new Wn(a,this._parents,this._name,this._id)},selection:function(){return new Hn(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=$n(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,l=0;l<u;++l)if(a=s[l]){var c=Tt(a,t);St(a,e,n,l,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Wn(r,this._parents,e,n)},call:Zn.call,nodes:Zn.nodes,node:Zn.node,size:Zn.size,empty:Zn.empty,each:Zn.each,on:function(e,t){var n=this._id;return arguments.length<2?Tt(this.node(),n).on.on(e):this.each(function(e,t,n){var r,i,o=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?It:Ct;return function(){var a=o(this,e),s=a.on;s!==r&&(i=(r=s).copy()).on(t,n),a.on=i}}(n,e,t))},attr:function(e,t){var n=se(e),r="transform"===n?Ft:Pn;return this.attrTween(e,"function"===typeof t?(n.local?zn:Fn)(n,r,Bt(this,"attr."+e,t)):null==t?(n.local?On:Mn)(n):(n.local?Dn:An)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!==typeof t)throw new Error;var r=se(e);return this.tween(n,(r.local?jn:Bn)(r,t))},style:function(e,t,n){var r="transform"===(e+="")?Dt:Pn;return null==t?this.styleTween(e,function(e,t){var n,r,i;return function(){var o=me(this,e),a=(this.style.removeProperty(e),me(this,e));return o===a?null:o===n&&a===r?i:i=t(n=o,r=a)}}(e,r)).on("end.style."+e,Xn(e)):"function"===typeof t?this.styleTween(e,function(e,t,n){var r,i,o;return function(){var a=me(this,e),s=n(this),u=s+"";return null==s&&(this.style.removeProperty(e),u=s=me(this,e)),a===u?null:a===r&&u===i?o:(i=u,o=t(r=a,s))}}(e,r,Bt(this,"style."+e,t))).each(function(e,t){var n,r,i,o,a="style."+t,s="end."+a;return function(){var u=Ct(this,e),l=u.on,c=null==u.value[a]?o||(o=Xn(t)):void 0;l===n&&i===c||(r=(n=l).copy()).on(s,i=c),u.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,i,o=n+"";return function(){var a=me(this,e);return a===o?null:a===r?i:i=t(r=a,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!==typeof t)throw new Error;return this.tween(r,function(e,t,n){var r,i;function o(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&function(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}(e,o,n)),r}return o._value=t,o}(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"===typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(Bt(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!==typeof e)throw new Error;return this.tween(t,function(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&function(e){return function(t){this.textContent=e.call(this,t)}}(r)),t}return r._value=e,r}(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,i=Tt(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===e)return r.value;return null}return this.each((null==t?zt:jt)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?qn:Un)(t,e)):Tt(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?Gn:Yn)(t,e)):Tt(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!==typeof t)throw new Error;return function(){Ct(this,e).ease=t}}(t,e)):Tt(this.node(),t).ease},easeVarying:function(e){if("function"!==typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!==typeof n)throw new Error;Ct(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,r=n._id,i=n.size();return new Promise((function(o,a){var s={value:a},u={value:function(){0===--i&&o()}};n.each((function(){var n=Ct(this,r),i=n.on;i!==e&&((t=(e=i).copy())._.cancel.push(s),t._.interrupt.push(s),t._.end.push(u)),n.on=t})),0===i&&o()}))},[Symbol.iterator]:Zn[Symbol.iterator]};var Qn={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function Kn(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}Je.prototype.interrupt=function(e){return this.each((function(){!function(e,t){var n,r,i,o=e.__transition,a=!0;if(o){for(i in t=null==t?null:t+"",o)(n=o[i]).name===t?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete e.__transition}}(this,e)}))},Je.prototype.transition=function(e){var t,n;e instanceof Wn?(t=e._id,e=e._name):(t=$n(),(n=Qn).time=vt(),e=null==e?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,l=0;l<u;++l)(a=s[l])&&St(a,e,t,l,s,n||Kn(a,t));return new Wn(r,this._parents,e,t)};const{abs:Jn,max:er,min:tr}=Math;function nr(e){return[+e[0],+e[1]]}function rr(e){return[nr(e[0]),nr(e[1])]}["w","e"].map(ir),["n","s"].map(ir),["n","w","e","s","nw","ne","sw","se"].map(ir);function ir(e){return{type:e}}function or(e){return"string"===typeof e?new Qe([[document.querySelector(e)]],[document.documentElement]):new Qe([[e]],Ze)}function ar(e,t){if(e=function(e){let t;for(;t=e.sourceEvent;)e=t;return e}(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const sr={passive:!1},ur={capture:!0,passive:!1};function lr(e){e.stopImmediatePropagation()}function cr(e){e.preventDefault(),e.stopImmediatePropagation()}const hr=e=>()=>e;function fr(e,t){let{sourceEvent:n,subject:r,target:i,identifier:o,active:a,x:s,y:u,dx:l,dy:c,dispatch:h}=t;Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:u,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:h}})}function dr(e){return!e.ctrlKey&&!e.button}function pr(){return this.parentNode}function gr(e,t){return null==t?{x:e.x,y:e.y}:t}function vr(){return navigator.maxTouchPoints||"ontouchstart"in this}function yr(){var e,t,n,r,i=dr,o=pr,a=gr,s=vr,u={},l=ot("start","drag","end"),c=0,h=0;function f(e){e.on("mousedown.drag",d).filter(s).on("touchstart.drag",v).on("touchmove.drag",y,sr).on("touchend.drag touchcancel.drag",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(a,s){if(!r&&i.call(this,a,s)){var u=_(this,o.call(this,a,s),a,s,"mouse");u&&(or(a.view).on("mousemove.drag",p,ur).on("mouseup.drag",g,ur),function(e){var t=e.document.documentElement,n=or(e).on("dragstart.drag",cr,ur);"onselectstart"in t?n.on("selectstart.drag",cr,ur):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}(a.view),lr(a),n=!1,e=a.clientX,t=a.clientY,u("start",a))}}function p(r){if(cr(r),!n){var i=r.clientX-e,o=r.clientY-t;n=i*i+o*o>h}u.mouse("drag",r)}function g(e){or(e.view).on("mousemove.drag mouseup.drag",null),function(e,t){var n=e.document.documentElement,r=or(e).on("dragstart.drag",null);t&&(r.on("click.drag",cr,ur),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}(e.view,n),cr(e),u.mouse("end",e)}function v(e,t){if(i.call(this,e,t)){var n,r,a=e.changedTouches,s=o.call(this,e,t),u=a.length;for(n=0;n<u;++n)(r=_(this,s,e,t,a[n].identifier,a[n]))&&(lr(e),r("start",e,a[n]))}}function y(e){var t,n,r=e.changedTouches,i=r.length;for(t=0;t<i;++t)(n=u[r[t].identifier])&&(cr(e),n("drag",e,r[t]))}function m(e){var t,n,i=e.changedTouches,o=i.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),t=0;t<o;++t)(n=u[i[t].identifier])&&(lr(e),n("end",e,i[t]))}function _(e,t,n,r,i,o){var s,h,d,p=l.copy(),g=ar(o||n,t);if(null!=(d=a.call(e,new fr("beforestart",{sourceEvent:n,target:f,identifier:i,active:c,x:g[0],y:g[1],dx:0,dy:0,dispatch:p}),r)))return s=d.x-g[0]||0,h=d.y-g[1]||0,function n(o,a,l){var v,y=g;switch(o){case"start":u[i]=n,v=c++;break;case"end":delete u[i],--c;case"drag":g=ar(l||a,t),v=c}p.call(o,e,new fr(o,{sourceEvent:a,subject:d,target:f,identifier:i,active:v,x:g[0]+s,y:g[1]+h,dx:g[0]-y[0],dy:g[1]-y[1],dispatch:p}),r)}}return f.filter=function(e){return arguments.length?(i="function"===typeof e?e:hr(!!e),f):i},f.container=function(e){return arguments.length?(o="function"===typeof e?e:hr(e),f):o},f.subject=function(e){return arguments.length?(a="function"===typeof e?e:hr(e),f):a},f.touchable=function(e){return arguments.length?(s="function"===typeof e?e:hr(!!e),f):s},f.on=function(){var e=l.on.apply(l,arguments);return e===l?f:e},f.clickDistance=function(e){return arguments.length?(h=(e=+e)*e,f):Math.sqrt(h)},f}fr.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};const mr=Math.sqrt(50),_r=Math.sqrt(10),kr=Math.sqrt(2);function xr(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=mr?10:o>=_r?5:o>=kr?2:1;let s,u,l;return i<0?(l=Math.pow(10,-i)/a,s=Math.round(e*l),u=Math.round(t*l),s/l<e&&++s,u/l>t&&--u,l=-l):(l=Math.pow(10,i)*a,s=Math.round(e/l),u=Math.round(t/l),s*l<e&&++s,u*l>t&&--u),u<s&&.5<=n&&n<2?xr(e,t,2*n):[s,u,l]}function br(e,t,n){return xr(e=+e,t=+t,n=+n)[2]}function wr(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Er(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Nr(e){let t,n,r;function i(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<o){if(0!==t(r,r))return o;do{const t=i+o>>>1;n(e[t],r)<0?i=t+1:o=t}while(i<o)}return i}return 2!==e.length?(t=wr,n=(t,n)=>wr(e(t),n),r=(t,n)=>e(t)-n):(t=e===wr||e===Er?e:Sr,n=e,r=e),{left:i,center:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const o=i(e,t,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return o>n&&r(e[o-1],t)>-r(e[o],t)?o-1:o},right:function(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<o){if(0!==t(r,r))return o;do{const t=i+o>>>1;n(e[t],r)<=0?i=t+1:o=t}while(i<o)}return i}}}function Sr(){return 0}const Ir=Nr(wr),Cr=Ir.right,Tr=(Ir.left,Nr((function(e){return null===e?NaN:+e})).center,Cr);function Lr(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=Or(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=o[n](e);return a}}function Rr(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Pr(e,t){var n,r={},i={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=Or(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}function Mr(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}}function Or(e,t){var n,r,i=typeof t;return null==t||"boolean"===i?wn(t):("number"===i?Lt:"string"===i?(n=an(t))?(t=n,In):Rn:t instanceof an?In:t instanceof Date?Rr:(r=t,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(t)?Lr:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?Pr:Lt:Mr))(e,t)}function Ar(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Dr(e){return+e}var Fr=[0,1];function zr(e){return e}function jr(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function Br(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=jr(i,r),o=n(a,o)):(r=jr(r,i),o=n(o,a)),function(e){return o(r(e))}}function qr(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=jr(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(t){var n=Tr(e,t,1,r)-1;return o[n](i[n](t))}}function Ur(){var e,t,n,r,i,o,a=Fr,s=Fr,u=Or,l=zr;function c(){var e=Math.min(a.length,s.length);return l!==zr&&(l=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(a[0],a[e-1])),r=e>2?qr:Br,i=o=null,h}function h(t){return null==t||isNaN(t=+t)?n:(i||(i=r(a.map(e),s,u)))(e(l(t)))}return h.invert=function(n){return l(t((o||(o=r(s,a.map(e),Lt)))(n)))},h.domain=function(e){return arguments.length?(a=Array.from(e,Dr),c()):a.slice()},h.range=function(e){return arguments.length?(s=Array.from(e),c()):s.slice()},h.rangeRound=function(e){return s=Array.from(e),u=Ar,c()},h.clamp=function(e){return arguments.length?(l=!!e||zr,c()):l!==zr},h.interpolate=function(e){return arguments.length?(u=e,c()):u},h.unknown=function(e){return arguments.length?(n=e,h):n},function(n,r){return e=n,t=r,c()}}function Gr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}var Yr,Hr=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Xr(e){if(!(t=Hr.exec(e)))throw new Error("invalid format: "+e);var t;return new Vr({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function Vr(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function Wr(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function $r(e){return(e=Wr(Math.abs(e)))?e[1]:NaN}function Zr(e,t){var n=Wr(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Xr.prototype=Vr.prototype,Vr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Qr={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Zr(100*e,t),r:Zr,s:function(e,t){var n=Wr(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(Yr=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Wr(e,Math.max(0,t+o-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Kr(e){return e}var Jr,ei,ti,ni=Array.prototype.map,ri=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function ii(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?Kr:(t=ni.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,o=[],a=0,s=t[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),o.push(e.substring(i-=s,i+s)),!((u+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?Kr:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(ni.call(e.numerals,String)),u=void 0===e.percent?"%":e.percent+"",l=void 0===e.minus?"\u2212":e.minus+"",c=void 0===e.nan?"NaN":e.nan+"";function h(e){var t=(e=Xr(e)).fill,n=e.align,h=e.sign,f=e.symbol,d=e.zero,p=e.width,g=e.comma,v=e.precision,y=e.trim,m=e.type;"n"===m?(g=!0,m="g"):Qr[m]||(void 0===v&&(v=12),y=!0,m="g"),(d||"0"===t&&"="===n)&&(d=!0,t="0",n="=");var _="$"===f?i:"#"===f&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",k="$"===f?o:/[%p]/.test(m)?u:"",x=Qr[m],b=/[defgprs%]/.test(m);function w(e){var i,o,u,f=_,w=k;if("c"===m)w=x(e)+w,e="";else{var E=(e=+e)<0||1/e<0;if(e=isNaN(e)?c:x(Math.abs(e),v),y&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),E&&0===+e&&"+"!==h&&(E=!1),f=(E?"("===h?h:l:"-"===h||"("===h?"":h)+f,w=("s"===m?ri[8+Yr/3]:"")+w+(E&&"("===h?")":""),b)for(i=-1,o=e.length;++i<o;)if(48>(u=e.charCodeAt(i))||u>57){w=(46===u?a+e.slice(i+1):e.slice(i))+w,e=e.slice(0,i);break}}g&&!d&&(e=r(e,1/0));var N=f.length+e.length+w.length,S=N<p?new Array(p-N+1).join(t):"";switch(g&&d&&(e=r(S+e,S.length?p-w.length:1/0),S=""),n){case"<":e=f+e+w+S;break;case"=":e=f+S+e+w;break;case"^":e=S.slice(0,N=S.length>>1)+f+e+w+S.slice(N);break;default:e=S+f+e+w}return s(e)}return v=void 0===v?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),w.toString=function(){return e+""},w}return{format:h,formatPrefix:function(e,t){var n=h(((e=Xr(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor($r(t)/3))),i=Math.pow(10,-r),o=ri[8+r/3];return function(e){return n(i*e)+o}}}}function oi(e,t,n,r){var i,o=function(e,t,n){n=+n;const r=(t=+t)<(e=+e),i=r?br(t,e,n):br(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}(e,t,n);switch((r=Xr(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor($r(t)/3)))-$r(Math.abs(e)))}(o,a))||(r.precision=i),ti(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,$r(t)-$r(e))+1}(o,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-$r(Math.abs(e)))}(o))||(r.precision=i-2*("%"===r.type))}return ei(r)}function ai(e){var t=e.domain;return e.ticks=function(e){var n=t();return function(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[i,o,a]=r?xr(t,e,n):xr(e,t,n);if(!(o>=i))return[];const s=o-i+1,u=new Array(s);if(r)if(a<0)for(let l=0;l<s;++l)u[l]=(o-l)/-a;else for(let l=0;l<s;++l)u[l]=(o-l)*a;else if(a<0)for(let l=0;l<s;++l)u[l]=(i+l)/-a;else for(let l=0;l<s;++l)u[l]=(i+l)*a;return u}(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return oi(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,o=t(),a=0,s=o.length-1,u=o[a],l=o[s],c=10;for(l<u&&(i=u,u=l,l=i,i=a,a=s,s=i);c-- >0;){if((i=br(u,l,n))===r)return o[a]=u,o[s]=l,t(o);if(i>0)u=Math.floor(u/i)*i,l=Math.ceil(l/i)*i;else{if(!(i<0))break;u=Math.ceil(u*i)/i,l=Math.floor(l*i)/i}r=i}return e},e}function si(){var e=Ur()(zr,zr);return e.copy=function(){return function(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}(e,si())},Gr.apply(e,arguments),ai(e)}function ui(e,t,n){this.k=e,this.x=t,this.y=n}Jr=ii({thousands:",",grouping:[3],currency:["$",""]}),ei=Jr.format,ti=Jr.formatPrefix,ui.prototype={constructor:ui,scale:function(e){return 1===e?this:new ui(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new ui(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new ui(1,0,0);ui.prototype;const li=e=>{let{xScale:t,minBound:n,maxBound:i,innerWidth:o,innerHeight:a}=e;const{maskProperties:s}=F();if(!s)return(0,r.jsx)(r.Fragment,{});const u=((e,t,n,r)=>{let i={},o=t;for(;o<=n;){const t=o-r,n=e.filter((e=>t<e&&e<o)).length;i[o]=n,o+=r}return i})(s.reduce(((e,t)=>{const n=t.properties.area_carto;return n<i&&e.push(n),e}),[]),n,i,50),l=Object.values(u).map((e=>e)),c=B(l),h=j(l),f=si().domain([c,h]).range([0,a]),d=o/l.length;return(0,r.jsx)(r.Fragment,{children:Object.keys(u).slice(0,-1).map((e=>{const n=u[e];return(0,r.jsx)("rect",{x:t(e)+1,y:a-f(n),width:d-2,height:f(n),fill:"rgba(126, 126, 132, 0.6)"},e)}))})};li.displayName="Bars";const ci=e=>{let{xScale:t,innerHeight:n,leftPosition:i,rightPosition:o,activeForeground:a}=e;return(0,r.jsx)("rect",{x:t(i),width:t(o)-t(i),height:n,fill:a?"rgba(126, 126, 132, 0.2)":"none"})};ci.displayName="Foreground";const hi=t=>{let{xScale:n,minBound:i,maxBound:o,innerWidth:a,innerHeight:s,leftPosition:u,setLeftPosition:l,rightPosition:c,setRightPosition:h,setActiveForeground:f}=t;const d=(0,e.useRef)(null),p=e=>{const t=n.invert(e.x),r=Math.abs(c-t),a=Math.abs(u-t);d.current=r<a?"right":"left";const s=t<i?i:t>c?c:t,f=t>o?o:t<u?u:t;"left"===d.current?l(+s):h(+f)},g=e=>{const t=n.invert(e.x),r=t<i?i:t>c?c:t,a=t>o?o:t<u?u:t;"left"===d.current?l(+r):h(+a)},v=(0,e.useCallback)((e=>{const t=yr().on("start",p).on("drag",g);or(e).call(t)}),[c,u]);return(0,r.jsx)("rect",{ref:v,width:a,height:s,fill:"transparent",onMouseOver:()=>{f(!0)},onMouseLeave:()=>{f(!1)}})};hi.displayName="Wrapper";const fi=(0,e.createContext)(null),di=()=>(0,e.useContext)(fi),pi=t=>{let{children:n}=t;const[i,o]=(0,e.useState)(100),[a,s]=(0,e.useState)(1200),[u,l]=(0,e.useState)(100),[c,h]=(0,e.useState)(1200),[f,d]=(0,e.useState)(1200);return(0,e.useEffect)((()=>{f<c&&h(f),f<u&&l(f)}),[f]),(0,e.useEffect)((()=>{s(c)}),[c]),(0,e.useEffect)((()=>{o(u)}),[u]),(0,r.jsx)(fi.Provider,{value:{parcelAreaFrom:i,setParcelAreaFrom:o,parcelAreaTo:a,setParcelAreaTo:s,leftPosition:u,setLeftPosition:l,rightPosition:c,setRightPosition:h,minBound:100,maxBound:f,setMaxBound:d},children:n})};fi.displayName="ParcelAreasContext";const gi=e=>{let{activeForeground:t,setActiveForeground:n}=e;const{innerWidth:i,innerHeight:o}=a(),{minBound:s,maxBound:l,leftPosition:c,setLeftPosition:h,rightPosition:f,setRightPosition:d}=di(),p=si().domain([s,l]).range([20,i-20]);return(0,r.jsx)("div",{style:{overflow:"hidden"},children:(0,r.jsxs)(u,{children:[(0,r.jsx)(li,{xScale:p,minBound:s,maxBound:l,innerWidth:i,innerHeight:o}),(0,r.jsx)(ci,{xScale:p,innerHeight:o,leftPosition:c,rightPosition:f,activeForeground:t}),(0,r.jsx)(hi,{xScale:p,innerWidth:i,innerHeight:o,leftPosition:c,rightPosition:f,setLeftPosition:h,setRightPosition:d,minBound:s,maxBound:l,setActiveForeground:n})]})})};gi.displayName="Graphics";const vi=(0,e.createContext)(null),yi=()=>(0,e.useContext)(vi),mi=t=>{let{children:n}=t;const[i,o]=(0,e.useState)(null),[a,s]=(0,e.useState)(null),u={top:0,bottom:10,left:0,right:0},l=i-u.right-u.left,c=a-u.top-u.bottom;return(0,r.jsx)(vi.Provider,{value:{margin:u,width:i,height:a,setWidth:o,setHeight:s,innerWidth:l,innerHeight:c},children:n})};vi.displayName="ParcelSliderSizesContext";const _i=t=>{let{children:n}=t;const{margin:i,width:o,height:a,setWidth:s,setHeight:u}=yi(),l=(0,e.useCallback)((e=>{e&&(s(e.getBoundingClientRect().width),u(e.getBoundingClientRect().height))}),[]);return(0,r.jsx)("div",{ref:l,style:{width:"100%",height:"100%"},children:o&&(0,r.jsx)("svg",{viewBox:`0 0 ${o} ${a}`,preserveAspectRatio:"none",children:(0,r.jsx)("g",{transform:`translate(${i.left}, ${i.top})`,children:e.Children.map(n,((t,n)=>(0,e.cloneElement)(t,{width:"100%"})))})})})};_i.displayName="SVGWrapper";const ki=e=>{let{xScale:t,circleRadius:n,currentPosition:i}=e;const o=i>99999?25:i>9999?22:i>999?17:14;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("polygon",{points:`\n\t\t\t\t\t${t(i)} ${2*n}, \n\t\t\t\t\t${t(i)-6} ${3*n}, \n\t\t\t\t\t${t(i)+6} ${3*n}\n\t\t\t\t`,fill:"rgba(126, 126, 132, 1)"}),(0,r.jsx)("rect",{x:t(i)-o,y:3*n,rx:2,ry:2,width:2*o,height:3*n,fill:"rgba(23, 23, 32, 1)",strokeWidth:2,stroke:"rgba(126, 126, 132, 1)"}),(0,r.jsx)("text",{x:t(i),y:5*n,fill:"rgba(255, 255, 255, 1)",textAnchor:"middle",fontSize:"0.8em",children:Math.round(i)})]})};ki.displayName="Legend";const xi=e=>{let{xScale:t,minBound:n,maxBound:i,circleRadius:o}=e;return(0,r.jsx)("rect",{x:t(n),y:o/2,rx:o/2,ry:o/2,width:t(i)-t(n),height:o,fill:"rgba(126, 126, 132, 0.4)",stroke:"rgba(126, 126, 132, 0.4)",strokeWidth:"1px"})};xi.displayName="Background";const bi=e=>{let{xScale:t,leftPosition:n,rightPosition:i,circleRadius:o,activeForeground:a}=e;return(0,r.jsx)("rect",{x:t(n),y:o/2,rx:o/2,ry:o/2,width:t(i)-t(n),height:o,fill:a?"rgba(255, 255, 255, 0.5)":"rgba(255, 255, 255, 0.3)"})};bi.displayName="Foreground";const wi=e=>{let{activeForeground:t,cx:n,cy:i,r:o}=e;return(0,r.jsx)("circle",{cx:n,cy:o,r:t?o:o-1,fill:"rgba(255, 255, 255, 1)",strokeWidth:0})};wi.displayName="Handler";const Ei=t=>{let{xScale:n,minBound:i,maxBound:o,innerWidth:a,innerHeight:s,leftPosition:u,setLeftPosition:l,rightPosition:c,setRightPosition:h,setActiveForeground:f}=t;const d=(0,e.useRef)(null),p=e=>{const t=n.invert(e.x),r=Math.abs(c-t),a=Math.abs(u-t);d.current=r<a?"right":"left";const s=t<i?i:t>c?c:t,f=t>o?o:t<u?u:t;"left"===d.current?l(+s):h(+f)},g=e=>{const t=n.invert(e.x),r=t<i?i:t>c?c:t,a=t>o?o:t<u?u:t;"left"===d.current?l(+r):h(+a)},v=(0,e.useCallback)((e=>{const t=yr().on("start",p).on("drag",g);or(e).call(t)}),[c,u]);return(0,r.jsx)("rect",{ref:v,width:a,height:s,fill:"transparent",onMouseOver:()=>{f(!0)},onMouseLeave:()=>{f(!1)}})};Ei.displayName="Wrapper";const Ni=e=>{let{activeForeground:t,setActiveForeground:n}=e;const{innerWidth:i,innerHeight:o}=yi(),{minBound:a,maxBound:s,leftPosition:u,setLeftPosition:l,rightPosition:c,setRightPosition:h}=di(),f=o/6,d=si().domain([a,s]).range([20,i-20]);return(0,r.jsxs)(_i,{children:[(0,r.jsx)(ki,{xScale:d,circleRadius:f,currentPosition:u}),(0,r.jsx)(ki,{xScale:d,circleRadius:f,currentPosition:c}),(0,r.jsx)(xi,{xScale:d,minBound:a,maxBound:s,circleRadius:f}),(0,r.jsx)(bi,{xScale:d,leftPosition:u,rightPosition:c,circleRadius:f,activeForeground:t}),(0,r.jsx)(wi,{activeForeground:t,cx:d(u),cy:f,r:f}),(0,r.jsx)(wi,{activeForeground:t,cx:d(c),cy:f,r:f}),(0,r.jsx)(Ei,{xScale:d,innerWidth:i,innerHeight:o,leftPosition:u,rightPosition:c,setLeftPosition:l,setRightPosition:h,minBound:a,maxBound:s,setActiveForeground:n})]})};Ni.displayName="Slider";const Si=()=>{const[t,n]=(0,e.useState)(!1);return(0,r.jsxs)("div",{className:"area-filter-wrapper",children:[(0,r.jsx)(i,{}),(0,r.jsxs)("div",{className:"area-filter",children:[(0,r.jsx)(gi,{activeForeground:t,setActiveForeground:n}),(0,r.jsx)("div",{style:{transform:"translateY(-8px)"},children:(0,r.jsx)(Ni,{activeForeground:t,setActiveForeground:n})})]})]})};Si.displayName="Area";const Ii=(0,e.createContext)(null),Ci=()=>(0,e.useContext)(Ii),Ti=t=>{let{children:n}=t;const[i,o]=(0,e.useState)(null),[a,s]=(0,e.useState)(null),u={top:5,bottom:0,left:0,right:0},l=i-u.right-u.left,c=a-u.top-u.bottom;return(0,r.jsx)(Ii.Provider,{value:{margin:u,width:i,height:a,setWidth:o,setHeight:s,innerWidth:l,innerHeight:c},children:n})};Ii.displayName="CircleSizesContext";const Li=t=>{let{children:n}=t;const{width:i,height:o,setWidth:a,setHeight:s,margin:u}=Ci(),l=(0,e.useCallback)((e=>{e&&(a(e.getBoundingClientRect().width),s(e.getBoundingClientRect().height))}),[]);return(0,r.jsx)("div",{ref:l,style:{width:"100%",height:"100%"},children:i&&(0,r.jsx)("svg",{fill:"none",viewBox:`0 0 ${i} ${o}`,preserveAspectRatio:"none",children:(0,r.jsx)("g",{transform:`translate(${u.left}, ${u.top})`,children:e.Children.map(n,((t,n)=>(0,e.cloneElement)(t,{width:"100%"})))})})})};Li.displayName="SVGWrapper";const Ri=()=>(0,r.jsx)("div",{className:"title-wrapper-style",children:(0,r.jsx)("div",{children:"Catchment area"})});Ri.displayName="Title";const Pi=(0,e.createContext)(null),Mi=()=>(0,e.useContext)(Pi),Oi=t=>{let{children:n}=t;const[i,o]=(0,e.useState)(null),[a,s]=(0,e.useState)(null),u={top:0,bottom:10,left:0,right:0},l=i-u.right-u.left,c=a-u.top-u.bottom;return(0,r.jsx)(Pi.Provider,{value:{margin:u,width:i,height:a,setWidth:o,setHeight:s,innerWidth:l,innerHeight:c},children:n})};Pi.displayName="RadiusSizesContext";const Ai=t=>{let{children:n}=t;const{margin:i,width:o,height:a,setWidth:s,setHeight:u}=Mi(),l=(0,e.useCallback)((e=>{e&&(s(e.getBoundingClientRect().width),u(e.getBoundingClientRect().height))}),[]);return(0,r.jsx)("div",{ref:l,style:{width:"100%",height:"100%"},children:o&&(0,r.jsx)("svg",{viewBox:`0 0 ${o} ${a}`,preserveAspectRatio:"none",children:(0,r.jsx)("g",{transform:`translate(${i.left}, ${i.top})`,children:e.Children.map(n,((t,n)=>(0,e.cloneElement)(t,{width:"100%"})))})})})};Ai.displayName="SVGWrapper";const Di=e=>{let{xScale:t,minBound:n,maxBound:i,circleRadius:o}=e;return(0,r.jsx)("rect",{x:t(n),y:o/2,rx:o/2,ry:o/2,width:t(i)-t(n),height:o,fill:"rgba(126, 126, 132, 0.4)"})};Di.displayName="Background";const Fi=e=>{let{activeForeground:t,xScale:n,minBound:i,radiusPosition:o,circleRadius:a}=e;return(0,r.jsx)("rect",{x:n(i),y:a/2,rx:a/2,ry:a/2,width:n(o)-n(i),height:a,fill:t?"rgba(255, 255, 255, 0.5)":"rgba(255, 255, 255, 0.3)"})};Fi.displayName="Foreground";const zi=e=>{let{cx:t,cy:n,r:i}=e;return(0,r.jsx)("circle",{cx:t,cy:i,r:i-1,fill:"rgba(255, 255, 255, 1)",strokeWidth:0})};zi.displayName="Handler";const ji=e=>{let{xScale:t,circleRadius:n,currentPosition:i}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("polygon",{points:`\n\t\t\t\t\t${t(i)} ${2*n}, \n\t\t\t\t\t${t(i)-6} ${3*n}, \n\t\t\t\t\t${t(i)+6} ${3*n}\n\t\t\t\t`,fill:"rgba(126, 126, 132, 1)"}),(0,r.jsx)("rect",{x:t(i)-16,y:3*n,rx:2,ry:2,width:32,height:3*n,fill:"rgba(23, 23, 32, 1)",strokeWidth:2,stroke:"rgba(126, 126, 132, 1)"}),(0,r.jsx)("text",{x:t(i),y:5*n,fill:"rgba(255, 255, 255, 1)",textAnchor:"middle",fontSize:"0.8em",children:Math.round(10*i)/10})]})};ji.displayName="Legend";const Bi=t=>{let{xScale:n,minBound:i,maxBound:o,innerWidth:a,innerHeight:s,radiusPosition:u,setRadiusPosition:l,setCircleRadius:c,setActiveForeground:h}=t;const f=e=>{const t=n.invert(e.x);l(+(t<i?i:t>o?o:t))},d=e=>{const t=n.invert(e.x);l(+(t<i?i:t>o?o:t))},p=e=>{const t=n.invert(e.x);c(+(t<i?i:t>o?o:t))},g=(0,e.useCallback)((e=>{const t=yr().on("start",f).on("drag",d).on("end",p);or(e).call(t)}),[u]);return(0,r.jsx)("rect",{ref:g,width:a,height:s,fill:"transparent",onMouseOver:()=>{h(!0)},onMouseLeave:()=>{h(!1)}})};Bi.displayName="Wrapper";const qi=()=>{const[t,n]=(0,e.useState)(!1),{innerWidth:i,innerHeight:o}=Mi(),{radiusPosition:a,setRadiusPosition:s,setCircleRadius:u,minBound:l,maxBound:c}=C(),h=o/6,f=si().domain([l,c]).range([20,i-20]);return(0,r.jsxs)(Ai,{children:[(0,r.jsx)(Di,{xScale:f,minBound:l,maxBound:c,circleRadius:h}),(0,r.jsx)(Fi,{xScale:f,minBound:l,radiusPosition:a,circleRadius:h,activeForeground:t}),(0,r.jsx)(zi,{activeForeground:t,cx:f(a),cy:h,r:h}),(0,r.jsx)(ji,{xScale:f,circleRadius:h,currentPosition:a}),(0,r.jsx)(Bi,{xScale:f,innerWidth:i,innerHeight:o,setRadiusPosition:s,setCircleRadius:u,minBound:l,maxBound:c,setActiveForeground:n})]})};qi.displayName="Slider";const Ui=e=>{let{polygonArea:t,polygon:n}=e;const{innerWidth:i,innerHeight:o}=Ci(),{maxBound:a,radiusPosition:s}=C(),u=B([i/2,o/2]),l=si().domain([1,2*a*1e3]).range([1,2*u]);return(0,r.jsxs)("div",{className:"catchment-wrapper",children:[(0,r.jsx)(Ri,{}),(0,r.jsxs)("div",{className:"circle-wrapper",children:[(0,r.jsx)(Li,{children:(0,r.jsx)("circle",{cx:i/2,cy:o/2,r:l(1e3*s),fill:"rgba(126, 126, 132, 0.4)"})}),(0,r.jsxs)("div",{className:"distance-info",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{children:[(Math.round(10*s)/10).toFixed(1),(0,r.jsx)("span",{style:{fontSize:"0.8em"},children:" km"})]}),(0,r.jsx)("div",{className:"subtitle-style",children:"radius"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{children:[Math.round(12*s),(0,r.jsx)("span",{style:{fontSize:"0.8em"},children:" min"})]}),(0,r.jsx)("div",{className:"subtitle-style",children:"walk time"})]})]})]}),(0,r.jsx)(qi,{})]})};Ui.displayName="Catchment";const Gi=()=>(0,r.jsx)("div",{className:"title-wrapper-style",children:(0,r.jsxs)("div",{children:["Filter by built area ",(0,r.jsx)("span",{style:{fontSize:"0.8em"},children:"m\xb2"})]})});Gi.displayName="Title";const Yi=t=>{let{children:n}=t;const{margin:i,width:o,height:s,setWidth:u,setHeight:l}=a(),c=(0,e.useCallback)((e=>{if(e){const t=e.getBoundingClientRect().width,n=e.getBoundingClientRect().height;u(t),l(n)}}),[]);return 0===o?(0,r.jsx)(r.Fragment,{}):(0,r.jsx)("div",{ref:c,style:{width:"100%",height:"100%"},children:o&&(0,r.jsx)("svg",{viewBox:`0 0 ${o} ${s}`,preserveAspectRatio:"none",children:(0,r.jsx)("g",{transform:`translate(${i.left}, ${i.top})`,children:e.Children.map(n,((t,n)=>(0,e.cloneElement)(t,{width:"100%"})))})})})};Yi.displayName="SVGWrapper";const Hi=e=>{let{xScale:t,minBound:n,maxBound:i,innerWidth:o,innerHeight:a}=e;const{maskProperties:s}=F(),u=s.reduce(((e,t)=>{const n=t.properties.constructed_area;if(n){const t=n.replace(/[{}]/g,"").split(",").reduce(((e,t)=>e+parseFloat(t)),0);e.push(t)}return e}),[]),l=((e,t,n,r)=>{let i={},o=t;for(;o<=n;){const t=e.filter((e=>e<o&&e>o-r)).length;i[o]=t,o+=r}return i})(u,n,i,30),c=Object.values(l),h=B(c),f=j(c),d=o/c.length,p=si().domain([f,h]).range([10,a]);return(0,r.jsx)(r.Fragment,{children:Object.keys(l).slice(0,-1).map(((e,n)=>(0,r.jsx)("rect",{x:t(e)+1,y:p(l[e]),width:d-2,height:a-p(l[e]),fill:"rgba(126, 126, 132, 0.6)"},n)))})};Hi.displayName="Bars";const Xi=e=>{let{xScale:t,innerHeight:n,leftPosition:i,rightPosition:o,activeForeground:a}=e;return(0,r.jsx)("rect",{x:t(i),width:t(o)-t(i),height:n,fill:a?"rgba(126, 126, 132, 0.2)":"none"})};Xi.displayName="Foreground";const Vi=t=>{let{xScale:n,minBound:i,maxBound:o,innerWidth:a,innerHeight:s,leftPosition:u,setLeftPosition:l,rightPosition:c,setRightPosition:h,setActiveForeground:f}=t;const d=(0,e.useRef)(null),p=e=>{const t=n.invert(e.x),r=Math.abs(c-t),a=Math.abs(u-t);d.current=r<a?"right":"left";const s=t<i?i:t>c?c:t,f=t>o?o:t<u?u:t;"left"===d.current?l(+s):h(+f)},g=e=>{const t=n.invert(e.x),r=t<i?i:t>c?c:t,a=t>o?o:t<u?u:t;"left"===d.current?l(+r):h(+a)},v=(0,e.useCallback)((e=>{const t=yr().on("start",p).on("drag",g);or(e).call(t)}),[c,u]);return(0,r.jsx)("rect",{ref:v,width:a,height:s,fill:"transparent",onMouseOver:()=>{f(!0)},onMouseLeave:()=>{f(!1)}})};Vi.displayName="Wrapper";const Wi=(0,e.createContext)(null),$i=()=>(0,e.useContext)(Wi),Zi=t=>{let{children:n}=t;const[i,o]=(0,e.useState)(0),[a,s]=(0,e.useState)(600),[u,l]=(0,e.useState)(0),[c,h]=(0,e.useState)(600),[f,d]=(0,e.useState)(600);return(0,e.useEffect)((()=>{f<c&&h(f),f<u&&l(f)}),[f]),(0,e.useEffect)((()=>{s(c)}),[c]),(0,e.useEffect)((()=>{o(u)}),[u]),(0,r.jsx)(Wi.Provider,{value:{builtAreaFrom:i,setBuiltAreaFrom:o,builtAreaTo:a,setBuiltAreaTo:s,leftPosition:u,setLeftPosition:l,rightPosition:c,setRightPosition:h,minBound:0,maxBound:f,setMaxBound:d},children:n})};Wi.displayName="BuiltAreasContext";const Qi=e=>{let{activeForeground:t,setActiveForeground:n}=e;const{innerWidth:i,innerHeight:o}=a(),{minBound:s,maxBound:u,leftPosition:l,setLeftPosition:c,rightPosition:h,setRightPosition:f}=$i(),d=si().domain([s,u]).range([20,i-20]);return(0,r.jsx)("div",{style:{overflow:"hidden"},children:(0,r.jsxs)(Yi,{children:[(0,r.jsx)(Hi,{xScale:d,minBound:s,maxBound:u,innerWidth:i,innerHeight:o}),(0,r.jsx)(Xi,{xScale:d,innerHeight:o,leftPosition:l,rightPosition:h,activeForeground:t}),(0,r.jsx)(Vi,{xScale:d,innerWidth:i,innerHeight:o,leftPosition:l,rightPosition:h,setLeftPosition:c,setRightPosition:f,minBound:s,maxBound:u,setActiveForeground:n})]})})};Qi.displayName="Graphics";const Ki=(0,e.createContext)(null),Ji=()=>(0,e.useContext)(Ki),eo=t=>{let{children:n}=t;const[i,o]=(0,e.useState)(null),[a,s]=(0,e.useState)(null),u={top:0,bottom:10,left:0,right:0},l=i-u.right-u.left,c=a-u.top-u.bottom;return(0,r.jsx)(Ki.Provider,{value:{margin:u,width:i,height:a,setWidth:o,setHeight:s,innerWidth:l,innerHeight:c},children:n})};Ki.displayName="ConstructionSliderSizesContext";const to=t=>{let{children:n}=t;const{margin:i,width:o,height:a,setWidth:s,setHeight:u}=Ji(),l=(0,e.useCallback)((e=>{e&&(s(e.getBoundingClientRect().width),u(e.getBoundingClientRect().height))}),[]);return(0,r.jsx)("div",{ref:l,style:{width:"100%",height:"100%"},children:o&&(0,r.jsx)("svg",{viewBox:`0 0 ${o} ${a}`,preserveAspectRatio:"none",children:(0,r.jsx)("g",{transform:`translate(${i.left}, ${i.top})`,children:e.Children.map(n,((t,n)=>(0,e.cloneElement)(t,{width:"100%"})))})})})};to.displayName="SVGWrapper";const no=e=>{let{xScale:t,circleRadius:n,currentPosition:i}=e;const o=i>99999?25:i>9999?22:i>999?17:14;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("polygon",{points:`\n\t\t\t\t${t(i)} ${2*n}, \n\t\t\t\t${t(i)-6} ${3*n}, \n\t\t\t\t${t(i)+6} ${3*n}\n\t\t\t`,fill:"rgba(126, 126, 132, 1)"}),(0,r.jsx)("rect",{x:t(i)-o,y:3*n,rx:2,ry:2,width:2*o,height:3*n,fill:"rgba(23, 23, 32, 1)",strokeWidth:2,stroke:"rgba(126, 126, 132, 1)"}),(0,r.jsx)("text",{x:t(i),y:5*n,fill:"rgba(255, 255, 255, 1)",textAnchor:"middle",fontSize:"0.8em",children:Math.round(i)})]})};no.displayName="Legend";const ro=e=>{let{xScale:t,minBound:n,maxBound:i,circleRadius:o}=e;return(0,r.jsx)("rect",{x:t(n),y:o/2,rx:o/2,ry:o/2,width:t(i)-t(n),height:o,fill:"rgba(126, 126, 132, 0.4)",stroke:"rgba(126, 126, 132, 0.4)",strokeWidth:"1px"})};ro.displayName="Background";const io=e=>{let{xScale:t,leftPosition:n,rightPosition:i,circleRadius:o,activeForeground:a}=e;return(0,r.jsx)("rect",{x:t(n),y:o/2,rx:o/2,ry:o/2,width:t(i)-t(n),height:o,fill:a?"rgba(255, 255, 255, 0.5)":"rgba(255, 255, 255, 0.3)"})};io.displayName="Foreground";const oo=e=>{let{activeForeground:t,cx:n,cy:i,r:o}=e;return(0,r.jsx)("circle",{cx:n,cy:o,r:t?o:o-1,fill:"rgba(255, 255, 255, 1)",strokeWidth:0})};oo.displayName="Handler";const ao=t=>{let{xScale:n,minBound:i,maxBound:o,innerWidth:a,innerHeight:s,leftPosition:u,setLeftPosition:l,rightPosition:c,setRightPosition:h,setActiveForeground:f}=t;const d=(0,e.useRef)(null),p=e=>{const t=n.invert(e.x),r=Math.abs(c-t),a=Math.abs(u-t);d.current=r<a?"right":"left";const s=t<i?i:t>c?c:t,f=t>o?o:t<u?u:t;"left"===d.current?l(+s):h(+f)},g=e=>{const t=n.invert(e.x),r=t<i?i:t>c?c:t,a=t>o?o:t<u?u:t;"left"===d.current?l(+r):h(+a)},v=(0,e.useCallback)((e=>{const t=yr().on("start",p).on("drag",g);or(e).call(t)}),[c,u]);return(0,r.jsx)("rect",{ref:v,width:a,height:s,fill:"transparent",onMouseOver:()=>{f(!0)},onMouseLeave:()=>{f(!1)}})};ao.displayName="Wrapper";const so=e=>{let{activeForeground:t,setActiveForeground:n}=e;const{innerWidth:i,innerHeight:o}=Ji(),{minBound:a,maxBound:s,leftPosition:u,setLeftPosition:l,rightPosition:c,setRightPosition:h}=$i(),f=o/6,d=si().domain([a,s]).range([20,i-20]);return(0,r.jsxs)(to,{children:[(0,r.jsx)(no,{xScale:d,circleRadius:f,currentPosition:u}),(0,r.jsx)(no,{xScale:d,circleRadius:f,currentPosition:c}),(0,r.jsx)(ro,{xScale:d,minBound:a,maxBound:s,circleRadius:f}),(0,r.jsx)(io,{xScale:d,leftPosition:u,rightPosition:c,circleRadius:f,activeForeground:t}),(0,r.jsx)(oo,{activeForeground:t,cx:d(u),cy:f,r:f}),(0,r.jsx)(oo,{activeForeground:t,cx:d(c),cy:f,r:f}),(0,r.jsx)(ao,{xScale:d,innerWidth:i,innerHeight:o,leftPosition:u,rightPosition:c,setLeftPosition:l,setRightPosition:h,minBound:a,maxBound:s,setActiveForeground:n})]})};so.displayName="Slider";const uo=()=>{const[t,n]=(0,e.useState)(!1);return(0,r.jsxs)("div",{className:"built-filter-wrapper",children:[(0,r.jsx)(Gi,{}),(0,r.jsxs)("div",{className:"built-filter",children:[(0,r.jsx)(Qi,{activeForeground:t,setActiveForeground:n}),(0,r.jsx)("div",{style:{transform:"translateY(-8px)"},children:(0,r.jsx)(so,{activeForeground:t,setActiveForeground:n})})]})]})};uo.displayName="Built";const lo=()=>(0,r.jsx)("div",{className:"left-wrapper",children:(0,r.jsxs)("div",{className:"left-items-wrapper",children:[(0,r.jsx)(Ui,{}),(0,r.jsx)(Si,{}),(0,r.jsx)(uo,{})]})});lo.displayName="Left";const co=e=>{let{setViewport:t,viewport:n,placeCoordinates:i}=e;return(0,r.jsx)("img",{className:"recenter-image",src:"/parcels/static/icons/reCenter.svg",alt:"reCenter",onClick:()=>{t({...n,placeCoordinates:i})}})};co.displayName="ReCenter";const ho=e.createContext(null);function fo(e,t){if(e===t)return!0;if(!e||!t)return!1;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!fo(e[n],t[n]))return!1;return!0}if(Array.isArray(t))return!1;if("object"===typeof e&&"object"===typeof t){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const i of n){if(!t.hasOwnProperty(i))return!1;if(!fo(e[i],t[i]))return!1}return!0}return!1}function po(e,t){if(!e.getProjection)return;const n=e.getProjection();fo(n,t.getProjection())||t.setProjection(n)}function go(e){return{longitude:e.center.lng,latitude:e.center.lat,zoom:e.zoom,pitch:e.pitch,bearing:e.bearing,padding:e.padding}}function vo(e,t){const n=t.viewState||t;let r=!1;if("longitude"in n&&"latitude"in n){const t=e.center;e.center=new t.constructor(n.longitude,n.latitude),r=r||t!==e.center}if("zoom"in n){const t=e.zoom;e.zoom=n.zoom,r=r||t!==e.zoom}if("bearing"in n){const t=e.bearing;e.bearing=n.bearing,r=r||t!==e.bearing}if("pitch"in n){const t=e.pitch;e.pitch=n.pitch,r=r||t!==e.pitch}return n.padding&&!e.isPaddingEqual(n.padding)&&(r=!0,e.padding=n.padding),r}const yo=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function mo(e){if(!e)return null;if("string"===typeof e)return e;if("toJS"in e&&(e=e.toJS()),!e.layers)return e;const t={};for(const r of e.layers)t[r.id]=r;const n=e.layers.map((e=>{let n=null;"interactive"in e&&(n=Object.assign({},e),delete n.interactive);const r=t[e.ref];if(r){n=n||Object.assign({},e),delete n.ref;for(const e of yo)e in r&&(n[e]=r[e])}return n||e}));return{...e,layers:n}}const _o={version:8,sources:{},layers:[]},ko={mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",click:"onClick",dblclick:"onDblClick",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mouseout:"onMouseOut",contextmenu:"onContextMenu",touchstart:"onTouchStart",touchend:"onTouchEnd",touchmove:"onTouchMove",touchcancel:"onTouchCancel"},xo={movestart:"onMoveStart",move:"onMove",moveend:"onMoveEnd",dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd",zoomstart:"onZoomStart",zoom:"onZoom",zoomend:"onZoomEnd",rotatestart:"onRotateStart",rotate:"onRotate",rotateend:"onRotateEnd",pitchstart:"onPitchStart",pitch:"onPitch",pitchend:"onPitchEnd"},bo={wheel:"onWheel",boxzoomstart:"onBoxZoomStart",boxzoomend:"onBoxZoomEnd",boxzoomcancel:"onBoxZoomCancel",resize:"onResize",load:"onLoad",render:"onRender",idle:"onIdle",remove:"onRemove",data:"onData",styledata:"onStyleData",sourcedata:"onSourceData",error:"onError"},wo=["minZoom","maxZoom","minPitch","maxPitch","maxBounds","projection","renderWorldCopies"],Eo=["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate","touchPitch"];class No{constructor(e,t,n){this._map=null,this._internalUpdate=!1,this._inRender=!1,this._hoveredFeatures=null,this._deferredEvents={move:!1,zoom:!1,pitch:!1,rotate:!1},this._onEvent=e=>{const t=this.props[bo[e.type]];t?t(e):"error"===e.type&&console.error(e.error)},this._onPointerEvent=e=>{"mousemove"!==e.type&&"mouseout"!==e.type||this._updateHover(e);const t=this.props[ko[e.type]];t&&(this.props.interactiveLayerIds&&"mouseover"!==e.type&&"mouseout"!==e.type&&(e.features=this._hoveredFeatures||this._queryRenderedFeatures(e.point)),t(e),delete e.features)},this._onCameraEvent=e=>{if(!this._internalUpdate){const t=this.props[xo[e.type]];t&&t(e)}e.type in this._deferredEvents&&(this._deferredEvents[e.type]=!1)},this._MapClass=e,this.props=t,this._initialize(n)}get map(){return this._map}get transform(){return this._renderTransform}setProps(e){const t=this.props;this.props=e;const n=this._updateSettings(e,t);n&&this._createShadowTransform(this._map);const r=this._updateSize(e),i=this._updateViewState(e,!0);this._updateStyle(e,t),this._updateStyleComponents(e,t),this._updateHandlers(e,t),(n||r||i&&!this._map.isMoving())&&this.redraw()}static reuse(e,t){const n=No.savedMaps.pop();if(!n)return null;const r=n.map,i=r.getContainer();for(t.className=i.className;i.childNodes.length>0;)t.appendChild(i.childNodes[0]);r._container=t;const o=r._resizeObserver;o&&(o.disconnect(),o.observe(t)),n.setProps({...e,styleDiffing:!1}),r.resize();const{initialViewState:a}=e;return a&&(a.bounds?r.fitBounds(a.bounds,{...a.fitBoundsOptions,duration:0}):n._updateViewState(a,!1)),r.isStyleLoaded()?r.fire("load"):r.once("styledata",(()=>r.fire("load"))),r._update(),n}_initialize(e){const{props:t}=this,{mapStyle:n=_o}=t,r={...t,...t.initialViewState,accessToken:t.mapboxAccessToken||So()||null,container:e,style:mo(n)},i=r.initialViewState||r.viewState||r;if(Object.assign(r,{center:[i.longitude||0,i.latitude||0],zoom:i.zoom||0,pitch:i.pitch||0,bearing:i.bearing||0}),t.gl){const e=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=()=>(HTMLCanvasElement.prototype.getContext=e,t.gl)}const o=new this._MapClass(r);i.padding&&o.setPadding(i.padding),t.cursor&&(o.getCanvas().style.cursor=t.cursor),this._createShadowTransform(o);const a=o._render;o._render=e=>{this._inRender=!0,a.call(o,e),this._inRender=!1};const s=o._renderTaskQueue.run;o._renderTaskQueue.run=e=>{s.call(o._renderTaskQueue,e),this._onBeforeRepaint()},o.on("render",(()=>this._onAfterRepaint()));const u=o.fire;o.fire=this._fireEvent.bind(this,u),o.on("resize",(()=>{this._renderTransform.resize(o.transform.width,o.transform.height)})),o.on("styledata",(()=>{this._updateStyleComponents(this.props,{}),po(o.transform,this._renderTransform)})),o.on("sourcedata",(()=>this._updateStyleComponents(this.props,{})));for(const l in ko)o.on(l,this._onPointerEvent);for(const l in xo)o.on(l,this._onCameraEvent);for(const l in bo)o.on(l,this._onEvent);this._map=o}recycle(){const e=this.map.getContainer().querySelector("[mapboxgl-children]");null===e||void 0===e||e.remove(),No.savedMaps.push(this)}destroy(){this._map.remove()}redraw(){const e=this._map;!this._inRender&&e.style&&(e._frame&&(e._frame.cancel(),e._frame=null),e._render())}_createShadowTransform(e){const t=function(e){const t=e.clone();return t.pixelsToGLUnits=e.pixelsToGLUnits,t}(e.transform);e.painter.transform=t,this._renderTransform=t}_updateSize(e){const{viewState:t}=e;if(t){const e=this._map;if(t.width!==e.transform.width||t.height!==e.transform.height)return e.resize(),!0}return!1}_updateViewState(e,t){if(this._internalUpdate)return!1;const n=this._map,r=this._renderTransform,{zoom:i,pitch:o,bearing:a}=r,s=n.isMoving();s&&(r.cameraElevationReference="sea");const u=vo(r,{...go(n.transform),...e});if(s&&(r.cameraElevationReference="ground"),u&&t){const e=this._deferredEvents;e.move=!0,e.zoom||(e.zoom=i!==r.zoom),e.rotate||(e.rotate=a!==r.bearing),e.pitch||(e.pitch=o!==r.pitch)}return s||vo(n.transform,e),u}_updateSettings(e,t){const n=this._map;let r=!1;for(const i of wo)if(i in e&&!fo(e[i],t[i])){r=!0;const t=n[`set${i[0].toUpperCase()}${i.slice(1)}`];null===t||void 0===t||t.call(n,e[i])}return r}_updateStyle(e,t){if(e.cursor!==t.cursor&&(this._map.getCanvas().style.cursor=e.cursor||""),e.mapStyle!==t.mapStyle){const{mapStyle:t=_o,styleDiffing:n=!0}=e,r={diff:n};return"localIdeographFontFamily"in e&&(r.localIdeographFontFamily=e.localIdeographFontFamily),this._map.setStyle(mo(t),r),!0}return!1}_updateStyleComponents(e,t){const n=this._map;let r=!1;return n.isStyleLoaded()&&("light"in e&&n.setLight&&!fo(e.light,t.light)&&(r=!0,n.setLight(e.light)),"fog"in e&&n.setFog&&!fo(e.fog,t.fog)&&(r=!0,n.setFog(e.fog)),"terrain"in e&&n.setTerrain&&!fo(e.terrain,t.terrain)&&(e.terrain&&!n.getSource(e.terrain.source)||(r=!0,n.setTerrain(e.terrain)))),r}_updateHandlers(e,t){var n,r;const i=this._map;let o=!1;for(const a of Eo){const s=null===(n=e[a])||void 0===n||n;fo(s,null===(r=t[a])||void 0===r||r)||(o=!0,s?i[a].enable(s):i[a].disable())}return o}_queryRenderedFeatures(e){const t=this._map,n=t.transform,{interactiveLayerIds:r=[]}=this.props;try{return t.transform=this._renderTransform,t.queryRenderedFeatures(e,{layers:r.filter(t.getLayer.bind(t))})}catch(i){return[]}finally{t.transform=n}}_updateHover(e){var t;const{props:n}=this;if(n.interactiveLayerIds&&(n.onMouseMove||n.onMouseEnter||n.onMouseLeave)){const n=e.type,r=(null===(t=this._hoveredFeatures)||void 0===t?void 0:t.length)>0,i=this._queryRenderedFeatures(e.point),o=i.length>0;!o&&r&&(e.type="mouseleave",this._onPointerEvent(e)),this._hoveredFeatures=i,o&&!r&&(e.type="mouseenter",this._onPointerEvent(e)),e.type=n}else this._hoveredFeatures=null}_fireEvent(e,t,n){const r=this._map,i=r.transform,o="string"===typeof t?t:t.type;return"move"===o&&this._updateViewState(this.props,!1),o in xo&&("object"===typeof t&&(t.viewState=go(i)),this._map.isMoving())?(r.transform=this._renderTransform,e.call(r,t,n),r.transform=i,r):(e.call(r,t,n),r)}_onBeforeRepaint(){const e=this._map;this._internalUpdate=!0;for(const n in this._deferredEvents)this._deferredEvents[n]&&e.fire(n);this._internalUpdate=!1;const t=this._map.transform;e.transform=this._renderTransform,this._onAfterRepaint=()=>{po(this._renderTransform,t),e.transform=t}}}function So(){let e=null;if("undefined"!==typeof location){const t=/access_token=([^&\/]*)/.exec(location.search);e=t&&t[1]}try{e=e||{NODE_ENV:"production",PUBLIC_URL:"/parcels",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"https://portfolio-api.urbangeometries.com",REACT_APP_MAPBOX_TOKEN:"pk.eyJ1IjoiaHZva2luZyIsImEiOiJja3F4YWMyNHMwODkxMm5vNzcxNWJrZXUzIn0.QCH37vNtXL1p2CfPYiVdgg"}.MapboxAccessToken}catch(t){}try{e=e||{NODE_ENV:"production",PUBLIC_URL:"/parcels",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"https://portfolio-api.urbangeometries.com",REACT_APP_MAPBOX_TOKEN:"pk.eyJ1IjoiaHZva2luZyIsImEiOiJja3F4YWMyNHMwODkxMm5vNzcxNWJrZXUzIn0.QCH37vNtXL1p2CfPYiVdgg"}.REACT_APP_MAPBOX_ACCESS_TOKEN}catch(n){}return e}No.savedMaps=[];const Io=["setMaxBounds","setMinZoom","setMaxZoom","setMinPitch","setMaxPitch","setRenderWorldCopies","setProjection","setStyle","addSource","removeSource","addLayer","removeLayer","setLayerZoomRange","setFilter","setPaintProperty","setLayoutProperty","setLight","setTerrain","setFog","remove"];function Co(e){if(!e)return null;const t=e.map,n={getMap:()=>t,getCenter:()=>e.transform.center,getZoom:()=>e.transform.zoom,getBearing:()=>e.transform.bearing,getPitch:()=>e.transform.pitch,getPadding:()=>e.transform.padding,getBounds:()=>e.transform.getBounds(),project:n=>{const r=t.transform;t.transform=e.transform;const i=t.project(n);return t.transform=r,i},unproject:n=>{const r=t.transform;t.transform=e.transform;const i=t.unproject(n);return t.transform=r,i},queryTerrainElevation:(n,r)=>{const i=t.transform;t.transform=e.transform;const o=t.queryTerrainElevation(n,r);return t.transform=i,o},queryRenderedFeatures:(n,r)=>{const i=t.transform;t.transform=e.transform;const o=t.queryRenderedFeatures(n,r);return t.transform=i,o}};for(const r of function(e){const t=new Set;let n=e;for(;n;){for(const r of Object.getOwnPropertyNames(n))"_"!==r[0]&&"function"===typeof e[r]&&"fire"!==r&&"setEventedParent"!==r&&t.add(r);n=Object.getPrototypeOf(n)}return Array.from(t)}(t))r in n||Io.includes(r)||(n[r]=t[r].bind(t));return n}const To="undefined"!==typeof document?e.useLayoutEffect:e.useEffect,Lo=["baseApiUrl","maxParallelImageRequests","workerClass","workerCount","workerUrl"];const Ro=e.createContext(null);function Po(t,n,r){const i=(0,e.useContext)(ho),[o,a]=(0,e.useState)(null),s=(0,e.useRef)(),{current:u}=(0,e.useRef)({mapLib:null,map:null});(0,e.useEffect)((()=>{const e=t.mapLib;let n,o=!0;return Promise.resolve(e||r).then((e=>{if(!o)return;if(!e)throw new Error("Invalid mapLib");const r="Map"in e?e:e.default;if(!r.Map)throw new Error("Invalid mapLib");if(function(e,t){for(const r of Lo)r in t&&(e[r]=t[r]);const{RTLTextPlugin:n="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.js"}=t;n&&e.getRTLTextPluginStatus&&"unavailable"===e.getRTLTextPluginStatus()&&e.setRTLTextPlugin(n,(e=>{e&&console.error(e)}),!0)}(r,t),r.supported&&!r.supported(t))throw new Error("Map is not supported by this browser");t.reuseMaps&&(n=No.reuse(t,s.current)),n||(n=new No(r.Map,t,s.current)),u.map=Co(n),u.mapLib=r,a(n),null===i||void 0===i||i.onMapMount(u.map,t.id)})).catch((e=>{const{onError:n}=t;n?n({type:"error",target:null,originalEvent:null,error:e}):console.error(e)})),()=>{o=!1,n&&(null===i||void 0===i||i.onMapUnmount(t.id),t.reuseMaps?n.recycle():n.destroy())}}),[]),To((()=>{o&&o.setProps(t)})),(0,e.useImperativeHandle)(n,(()=>u.map),[o]);const l=(0,e.useMemo)((()=>({position:"relative",width:"100%",height:"100%",...t.style})),[t.style]);return e.createElement("div",{id:t.id,ref:s,style:l},o&&e.createElement(Ro.Provider,{value:u},e.createElement("div",{"mapboxgl-children":"",style:{height:"100%"}},t.children)))}var Mo=n(950);const Oo=/box|flex|grid|column|lineHeight|fontWeight|opacity|order|tabSize|zIndex/;function Ao(e,t){if(!e||!t)return;const n=e.style;for(const r in t){const e=t[r];Number.isFinite(e)&&!Oo.test(r)?n[r]=`${e}px`:n[r]=e}}const Do=(0,e.memo)((0,e.forwardRef)((function(t,n){const{map:r,mapLib:i}=(0,e.useContext)(Ro),o=(0,e.useRef)({props:t});o.current.props=t;const a=(0,e.useMemo)((()=>{let n=!1;e.Children.forEach(t.children,(e=>{e&&(n=!0)}));const r={...t,element:n?document.createElement("div"):null},s=new i.Marker(r);return s.setLngLat([t.longitude,t.latitude]),s.getElement().addEventListener("click",(e=>{var t,n;null===(n=(t=o.current.props).onClick)||void 0===n||n.call(t,{type:"click",target:s,originalEvent:e})})),s.on("dragstart",(e=>{var t,n;const r=e;r.lngLat=a.getLngLat(),null===(n=(t=o.current.props).onDragStart)||void 0===n||n.call(t,r)})),s.on("drag",(e=>{var t,n;const r=e;r.lngLat=a.getLngLat(),null===(n=(t=o.current.props).onDrag)||void 0===n||n.call(t,r)})),s.on("dragend",(e=>{var t,n;const r=e;r.lngLat=a.getLngLat(),null===(n=(t=o.current.props).onDragEnd)||void 0===n||n.call(t,r)})),s}),[]);(0,e.useEffect)((()=>(a.addTo(r.getMap()),()=>{a.remove()})),[]);const{longitude:s,latitude:u,offset:l,style:c,draggable:h=!1,popup:f=null,rotation:d=0,rotationAlignment:p="auto",pitchAlignment:g="auto"}=t;return(0,e.useEffect)((()=>{Ao(a.getElement(),c)}),[c]),(0,e.useImperativeHandle)(n,(()=>a),[]),a.getLngLat().lng===s&&a.getLngLat().lat===u||a.setLngLat([s,u]),l&&!function(e,t){const n=Array.isArray(e)?e[0]:e?e.x:0,r=Array.isArray(e)?e[1]:e?e.y:0,i=Array.isArray(t)?t[0]:t?t.x:0,o=Array.isArray(t)?t[1]:t?t.y:0;return n===i&&r===o}(a.getOffset(),l)&&a.setOffset(l),a.isDraggable()!==h&&a.setDraggable(h),a.getRotation()!==d&&a.setRotation(d),a.getRotationAlignment()!==p&&a.setRotationAlignment(p),a.getPitchAlignment()!==g&&a.setPitchAlignment(g),a.getPopup()!==f&&a.setPopup(f),(0,Mo.createPortal)(t.children,a.getElement())})));function Fo(e){return new Set(e?e.trim().split(/\s+/):[])}(0,e.memo)((0,e.forwardRef)((function(t,n){const{map:r,mapLib:i}=(0,e.useContext)(Ro),o=(0,e.useMemo)((()=>document.createElement("div")),[]),a=(0,e.useRef)({props:t});a.current.props=t;const s=(0,e.useMemo)((()=>{const e={...t},n=new i.Popup(e);return n.setLngLat([t.longitude,t.latitude]),n.once("open",(e=>{var t,n;null===(n=(t=a.current.props).onOpen)||void 0===n||n.call(t,e)})),n}),[]);if((0,e.useEffect)((()=>{const e=e=>{var t,n;null===(n=(t=a.current.props).onClose)||void 0===n||n.call(t,e)};return s.on("close",e),s.setDOMContent(o).addTo(r.getMap()),()=>{s.off("close",e),s.isOpen()&&s.remove()}}),[]),(0,e.useEffect)((()=>{Ao(s.getElement(),t.style)}),[t.style]),(0,e.useImperativeHandle)(n,(()=>s),[]),s.isOpen()&&(s.getLngLat().lng===t.longitude&&s.getLngLat().lat===t.latitude||s.setLngLat([t.longitude,t.latitude]),t.offset&&!fo(s.options.offset,t.offset)&&s.setOffset(t.offset),s.options.anchor===t.anchor&&s.options.maxWidth===t.maxWidth||(s.options.anchor=t.anchor,s.setMaxWidth(t.maxWidth)),s.options.className!==t.className)){const e=Fo(s.options.className),n=Fo(t.className);for(const t of e)n.has(t)||s.removeClassName(t);for(const t of n)e.has(t)||s.addClassName(t);s.options.className=t.className}return(0,Mo.createPortal)(t.children,o)})));const zo=function(t,n,r,i){const o=(0,e.useContext)(Ro),a=(0,e.useMemo)((()=>t(o)),[]);return(0,e.useEffect)((()=>{const e=i||r||n,t="function"===typeof n&&"function"===typeof r?n:null,s="function"===typeof r?r:"function"===typeof n?n:null,{map:u}=o;return u.hasControl(a)||(u.addControl(a,null===e||void 0===e?void 0:e.position),t&&t(o)),()=>{s&&s(o),u.hasControl(a)&&u.removeControl(a)}}),[]),a};(0,e.memo)((function(t){const n=zo((e=>{let{mapLib:n}=e;return new n.AttributionControl(t)}),{position:t.position});return(0,e.useEffect)((()=>{Ao(n._container,t.style)}),[t.style]),null}));(0,e.memo)((function(t){const n=zo((e=>{let{mapLib:n}=e;return new n.FullscreenControl({container:t.containerId&&document.getElementById(t.containerId)})}),{position:t.position});return(0,e.useEffect)((()=>{Ao(n._controlContainer,t.style)}),[t.style]),null}));(0,e.memo)((0,e.forwardRef)((function(t,n){const r=(0,e.useRef)({props:t}),i=zo((e=>{let{mapLib:n}=e;const i=new n.GeolocateControl(t),o=i._setupUI;return i._setupUI=e=>{i._container.hasChildNodes()||o(e)},i.on("geolocate",(e=>{var t,n;null===(n=(t=r.current.props).onGeolocate)||void 0===n||n.call(t,e)})),i.on("error",(e=>{var t,n;null===(n=(t=r.current.props).onError)||void 0===n||n.call(t,e)})),i.on("outofmaxbounds",(e=>{var t,n;null===(n=(t=r.current.props).onOutOfMaxBounds)||void 0===n||n.call(t,e)})),i.on("trackuserlocationstart",(e=>{var t,n;null===(n=(t=r.current.props).onTrackUserLocationStart)||void 0===n||n.call(t,e)})),i.on("trackuserlocationend",(e=>{var t,n;null===(n=(t=r.current.props).onTrackUserLocationEnd)||void 0===n||n.call(t,e)})),i}),{position:t.position});return r.current.props=t,(0,e.useImperativeHandle)(n,(()=>i),[]),(0,e.useEffect)((()=>{Ao(i._container,t.style)}),[t.style]),null})));const jo=(0,e.memo)((function(t){const n=zo((e=>{let{mapLib:n}=e;return new n.NavigationControl(t)}),{position:t.position});return(0,e.useEffect)((()=>{Ao(n._container,t.style)}),[t.style]),null}));(0,e.memo)((function(t){const n=zo((e=>{let{mapLib:n}=e;return new n.ScaleControl(t)}),{position:t.position}),r=(0,e.useRef)(t),i=r.current;r.current=t;const{style:o}=t;return void 0!==t.maxWidth&&t.maxWidth!==i.maxWidth&&(n.options.maxWidth=t.maxWidth),void 0!==t.unit&&t.unit!==i.unit&&n.setUnit(t.unit),(0,e.useEffect)((()=>{Ao(n._container,o)}),[o]),null}));function Bo(e,t){if(!e)throw new Error(t)}let qo=0;const Uo=function(t){const n=(0,e.useContext)(Ro).map.getMap(),r=(0,e.useRef)(t),[,i]=(0,e.useState)(0),o=(0,e.useMemo)((()=>t.id||"jsx-layer-"+qo++),[]);if((0,e.useEffect)((()=>{if(n){const e=()=>i((e=>e+1));return n.on("styledata",e),e(),()=>{n.off("styledata",e),n.style&&n.style._loaded&&n.getLayer(o)&&n.removeLayer(o)}}}),[n]),n&&n.style&&n.getLayer(o))try{!function(e,t,n,r){if(Bo(n.id===r.id,"layer id changed"),Bo(n.type===r.type,"layer type changed"),"custom"===n.type||"custom"===r.type)return;const{layout:i={},paint:o={},filter:a,minzoom:s,maxzoom:u,beforeId:l}=n;if(l!==r.beforeId&&e.moveLayer(t,l),i!==r.layout){const n=r.layout||{};for(const r in i)fo(i[r],n[r])||e.setLayoutProperty(t,r,i[r]);for(const r in n)i.hasOwnProperty(r)||e.setLayoutProperty(t,r,void 0)}if(o!==r.paint){const n=r.paint||{};for(const r in o)fo(o[r],n[r])||e.setPaintProperty(t,r,o[r]);for(const r in n)o.hasOwnProperty(r)||e.setPaintProperty(t,r,void 0)}fo(a,r.filter)||e.setFilter(t,a),s===r.minzoom&&u===r.maxzoom||e.setLayerZoomRange(t,s,u)}(n,o,t,r.current)}catch(a){console.warn(a)}else!function(e,t,n){if(e.style&&e.style._loaded&&(!("source"in n)||e.getSource(n.source))){const r={...n,id:t};delete r.beforeId,e.addLayer(r,n.beforeId)}}(n,o,t);return r.current=t,null};let Go=0;const Yo=function(t){const n=(0,e.useContext)(Ro).map.getMap(),r=(0,e.useRef)(t),[,i]=(0,e.useState)(0),o=(0,e.useMemo)((()=>t.id||"jsx-source-"+Go++),[]);(0,e.useEffect)((()=>{if(n){const e=()=>setTimeout((()=>i((e=>e+1))),0);return n.on("styledata",e),e(),()=>{var t;if(n.off("styledata",e),n.style&&n.style._loaded&&n.getSource(o)){const e=null===(t=n.getStyle())||void 0===t?void 0:t.layers;if(e)for(const t of e)t.source===o&&n.removeLayer(t.id);n.removeSource(o)}}}}),[n]);let a=n&&n.style&&n.getSource(o);return a?function(e,t,n){Bo(t.id===n.id,"source id changed"),Bo(t.type===n.type,"source type changed");let r="",i=0;for(const a in t)"children"===a||"id"===a||fo(n[a],t[a])||(r=a,i++);if(!i)return;const o=t.type;if("geojson"===o)e.setData(t.data);else if("image"===o)e.updateImage({url:t.url,coordinates:t.coordinates});else if("setCoordinates"in e&&1===i&&"coordinates"===r)e.setCoordinates(t.coordinates);else if("setUrl"in e)switch(r){case"url":e.setUrl(t.url);break;case"tiles":e.setTiles(t.tiles)}else console.warn(`Unable to update <Source> prop: ${r}`)}(a,t,r.current):a=function(e,t,n){if(e.style&&e.style._loaded){const r={...n};return delete r.id,delete r.children,e.addSource(t,r),e.getSource(t)}return null}(n,o,t),r.current=t,a&&e.Children.map(t.children,(t=>t&&(0,e.cloneElement)(t,{source:o})))||null};const Ho=n.e(879).then(n.t.bind(n,879,23)),Xo=e.forwardRef((function(e,t){return Po(e,t,Ho)})),Vo=Do,Wo=jo,$o=Uo,Zo=Yo,Qo=()=>{const{viewport:e,setViewport:t,placeCoordinates:n}=h();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Wo,{}),(0,r.jsx)(co,{viewport:e,setViewport:t,placeCoordinates:n})]})};Qo.displayName="Controllers";const Ko=()=>{const{basemap:e,setBasemap:t}=h();return(0,r.jsx)("div",{className:"basemaps-wrapper",children:(0,r.jsx)("img",{className:"basemaps-image",src:"/parcels/static/icons/globe.svg",alt:"globe",onClick:()=>{t("mapbox://styles/hvoking/clrwzn1jo015q01nl53664m2c"===e?"mapbox://styles/mapbox/satellite-v9":"mapbox://styles/hvoking/clrwzn1jo015q01nl53664m2c")}})})};Ko.displayName="Basemaps";const Jo=e=>{let{children:t}=e;return(0,r.jsxs)("div",{className:"map-wrapper",children:[t,(0,r.jsx)(Ko,{})]})};Jo.displayName="Wrapper";const ea=(0,e.createContext)(null),ta=e=>{let{children:t}=e;return(0,r.jsx)(ea.Provider,{value:{fetchData:async e=>{const t=`\n\t    \thttps://portfolio-api.urbangeometries.com/\n\t    \tstyle/\n\t    \t${e}\n\t    `.replace(/\s/g,""),n=await fetch(t);return await n.json()},getTilesUrl:(e,t)=>`\n\t    \thttps://portfolio-api.urbangeometries.com\n\t    \t/tiles\n\t    \t?table_schema=${e}\n\t    \t&table_name=${t}\n\t    \t&x={x}\n\t    \t&y={y}\n\t    \t&z={z}\n\t    `.replace(/\s/g,"")},children:t})};ea.displayName="StylesContext";const na=()=>{const{fetchData:t,getTilesUrl:n}=(0,e.useContext)(ea),[i,o]=(0,e.useState)([]),a="parcels";(0,e.useEffect)((()=>{(async()=>{const e=await t(a);o(e)})()}),[]);const s=n("layers",a),u=i.map(((e,t)=>(0,r.jsx)($o,{...e},t)));return(0,r.jsx)(Zo,{id:"raster-style",type:"vector",tiles:[s],children:u})};na.displayName="Tiles";const ra=()=>{const{marker:t,setMarker:n,mapRef:i}=h(),[o,a]=(0,e.useState)("down"),[s,u]=(0,e.useState)(0);(0,e.useEffect)((()=>{const e=e=>{let r=.004,{latitude:i,longitude:o}=t;const s=()=>u((e=>(e+1)%4));switch(e.key){case"ArrowUp":case"W":case"w":n({latitude:i+r,longitude:o}),a("up"),s();break;case"ArrowDown":case"S":case"s":n({latitude:i-r,longitude:o}),a("down"),s();break;case"ArrowLeft":case"A":case"a":n({latitude:i,longitude:o-r}),a("left"),s();break;case"ArrowRight":case"D":case"d":n({latitude:i,longitude:o+r}),a("right"),s()}};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[t]),(0,e.useEffect)((()=>{var e;null===(e=i.current)||void 0===e||e.flyTo({center:[t.longitude,t.latitude],essential:!0,duration:300})}),[t]);return(0,r.jsx)(Vo,{latitude:t.latitude,longitude:t.longitude,anchor:"center",children:(0,r.jsx)("div",{style:{width:"64px",height:"64px",backgroundImage:"url(/parcels/static/sprite/sprite-boy.png)",backgroundPosition:(()=>{let e=-64*s,t=0;switch(o){case"down":t=0;break;case"left":t=-64;break;case"right":t=-128;break;case"up":t=-192}return`${e}px ${t}px`})()}})})};function ia(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null!=e.bbox&&!0!==t.recompute)return e.bbox;const n=[1/0,1/0,-1/0,-1/0];return L(e,(e=>{n[0]>e[0]&&(n[0]=e[0]),n[1]>e[1]&&(n[1]=e[1]),n[2]<e[0]&&(n[2]=e[0]),n[3]<e[1]&&(n[3]=e[1])})),n}ra.displayName="Avatar";function oa(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=ia(e);return v([(n[0]+n[2])/2,(n[1]+n[3])/2],t.properties,t)}var aa=n(207);function sa(){return new ua}function ua(){this.reset()}ua.prototype={constructor:ua,reset:function(){this.s=this.t=0},add:function(e){ca(la,e,this.t),ca(this,la.s,this.s),this.s?this.t+=la.t:this.s=la.t},valueOf:function(){return this.s}};var la=new ua;function ca(e,t,n){var r=e.s=t+n,i=r-t,o=r-i;e.t=t-o+(n-i)}var ha=1e-6,fa=Math.PI,da=fa/2,pa=fa/4,ga=2*fa,va=180/fa,ya=fa/180,ma=Math.abs,_a=Math.atan,ka=Math.atan2,xa=Math.cos,ba=(Math.ceil,Math.exp),wa=(Math.floor,Math.log),Ea=(Math.pow,Math.sin),Na=(Math.sign,Math.sqrt),Sa=Math.tan;function Ia(e){return e>1?0:e<-1?fa:Math.acos(e)}function Ca(e){return e>1?da:e<-1?-da:Math.asin(e)}function Ta(){}function La(e,t){e&&Pa.hasOwnProperty(e.type)&&Pa[e.type](e,t)}var Ra={Feature:function(e,t){La(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)La(n[r].geometry,t)}},Pa={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){Ma(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Ma(n[r],t,0)},Polygon:function(e,t){Oa(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Oa(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)La(n[r],t)}};function Ma(e,t,n){var r,i=-1,o=e.length-n;for(t.lineStart();++i<o;)r=e[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function Oa(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)Ma(e[n],t,1);t.polygonEnd()}function Aa(e,t){e&&Ra.hasOwnProperty(e.type)?Ra[e.type](e,t):La(e,t)}sa(),sa();function Da(e){return[ka(e[1],e[0]),Ca(e[2])]}function Fa(e){var t=e[0],n=e[1],r=xa(n);return[r*xa(t),r*Ea(t),Ea(n)]}function za(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function ja(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Ba(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function qa(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Ua(e){var t=Na(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}sa();function Ga(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return(n=t.invert(n,r))&&e.invert(n[0],n[1])}),n}function Ya(e,t){return[e>fa?e-ga:e<-fa?e+ga:e,t]}function Ha(e,t,n){return(e%=ga)?t||n?Ga(Va(e),Wa(t,n)):Va(e):t||n?Wa(t,n):Ya}function Xa(e){return function(t,n){return[(t+=e)>fa?t-ga:t<-fa?t+ga:t,n]}}function Va(e){var t=Xa(e);return t.invert=Xa(-e),t}function Wa(e,t){var n=xa(e),r=Ea(e),i=xa(t),o=Ea(t);function a(e,t){var a=xa(t),s=xa(e)*a,u=Ea(e)*a,l=Ea(t),c=l*n+s*r;return[ka(u*i-c*o,s*n-l*r),Ca(c*i+u*o)]}return a.invert=function(e,t){var a=xa(t),s=xa(e)*a,u=Ea(e)*a,l=Ea(t),c=l*i-u*o;return[ka(u*i+l*o,s*n+c*r),Ca(c*n-s*r)]},a}function $a(e,t,n,r,i,o){if(n){var a=xa(t),s=Ea(t),u=r*n;null==i?(i=t+r*ga,o=t-u/2):(i=Za(a,i),o=Za(a,o),(r>0?i<o:i>o)&&(i+=r*ga));for(var l,c=i;r>0?c>o:c<o;c-=u)l=Da([a,-s*xa(c),-s*Ea(c)]),e.point(l[0],l[1])}}function Za(e,t){(t=Fa(t))[0]-=e,Ua(t);var n=Ia(-t[1]);return((-t[2]<0?-n:n)+ga-ha)%ga}function Qa(){var e,t=[];return{point:function(t,n){e.push([t,n])},lineStart:function(){t.push(e=[])},lineEnd:Ta,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function Ka(e,t){return ma(e[0]-t[0])<ha&&ma(e[1]-t[1])<ha}function Ja(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function es(e,t,n,r,i){var o,a,s=[],u=[];if(e.forEach((function(e){if(!((t=e.length-1)<=0)){var t,n,r=e[0],a=e[t];if(Ka(r,a)){for(i.lineStart(),o=0;o<t;++o)i.point((r=e[o])[0],r[1]);i.lineEnd()}else s.push(n=new Ja(r,e,null,!0)),u.push(n.o=new Ja(r,null,n,!1)),s.push(n=new Ja(a,e,null,!1)),u.push(n.o=new Ja(a,null,n,!0))}})),s.length){for(u.sort(t),ts(s),ts(u),o=0,a=u.length;o<a;++o)u[o].e=n=!n;for(var l,c,h=s[0];;){for(var f=h,d=!0;f.v;)if((f=f.n)===h)return;l=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(d)for(o=0,a=l.length;o<a;++o)i.point((c=l[o])[0],c[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(d)for(l=f.p.z,o=l.length-1;o>=0;--o)i.point((c=l[o])[0],c[1]);else r(f.x,f.p.x,-1,i);f=f.p}l=(f=f.o).z,d=!d}while(!f.v);i.lineEnd()}}}function ts(e){if(t=e.length){for(var t,n,r=0,i=e[0];++r<t;)i.n=n=e[r],n.p=i,i=n;i.n=n=e[0],n.p=i}}function ns(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}Ya.invert=Ya;var rs=function(e){var t;return 1===e.length&&(t=e,e=function(e,n){return ns(t(e),n)}),{left:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}}(ns);rs.right,rs.left;var is=Array.prototype;is.slice,is.map,Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);function os(e){for(var t,n,r,i=e.length,o=-1,a=0;++o<i;)a+=e[o].length;for(n=new Array(a);--i>=0;)for(t=(r=e[i]).length;--t>=0;)n[--a]=r[t];return n}var as=1e9,ss=-as;function us(e,t,n,r){function i(i,o){return e<=i&&i<=n&&t<=o&&o<=r}function o(i,o,s,l){var c=0,h=0;if(null==i||(c=a(i,s))!==(h=a(o,s))||u(i,o)<0^s>0)do{l.point(0===c||3===c?e:n,c>1?r:t)}while((c=(c+s+4)%4)!==h);else l.point(o[0],o[1])}function a(r,i){return ma(r[0]-e)<ha?i>0?0:3:ma(r[0]-n)<ha?i>0?2:1:ma(r[1]-t)<ha?i>0?1:0:i>0?3:2}function s(e,t){return u(e.x,t.x)}function u(e,t){var n=a(e,1),r=a(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(a){var u,l,c,h,f,d,p,g,v,y,m,_=a,k=Qa(),x={point:b,lineStart:function(){x.point=w,l&&l.push(c=[]);y=!0,v=!1,p=g=NaN},lineEnd:function(){u&&(w(h,f),d&&v&&k.rejoin(),u.push(k.result()));x.point=b,v&&_.lineEnd()},polygonStart:function(){_=k,u=[],l=[],m=!0},polygonEnd:function(){var t=function(){for(var t=0,n=0,i=l.length;n<i;++n)for(var o,a,s=l[n],u=1,c=s.length,h=s[0],f=h[0],d=h[1];u<c;++u)o=f,a=d,f=(h=s[u])[0],d=h[1],a<=r?d>r&&(f-o)*(r-a)>(d-a)*(e-o)&&++t:d<=r&&(f-o)*(r-a)<(d-a)*(e-o)&&--t;return t}(),n=m&&t,i=(u=os(u)).length;(n||i)&&(a.polygonStart(),n&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&es(u,s,t,o,a),a.polygonEnd());_=a,u=l=c=null}};function b(e,t){i(e,t)&&_.point(e,t)}function w(o,a){var s=i(o,a);if(l&&c.push([o,a]),y)h=o,f=a,d=s,y=!1,s&&(_.lineStart(),_.point(o,a));else if(s&&v)_.point(o,a);else{var u=[p=Math.max(ss,Math.min(as,p)),g=Math.max(ss,Math.min(as,g))],k=[o=Math.max(ss,Math.min(as,o)),a=Math.max(ss,Math.min(as,a))];!function(e,t,n,r,i,o){var a,s=e[0],u=e[1],l=0,c=1,h=t[0]-s,f=t[1]-u;if(a=n-s,h||!(a>0)){if(a/=h,h<0){if(a<l)return;a<c&&(c=a)}else if(h>0){if(a>c)return;a>l&&(l=a)}if(a=i-s,h||!(a<0)){if(a/=h,h<0){if(a>c)return;a>l&&(l=a)}else if(h>0){if(a<l)return;a<c&&(c=a)}if(a=r-u,f||!(a>0)){if(a/=f,f<0){if(a<l)return;a<c&&(c=a)}else if(f>0){if(a>c)return;a>l&&(l=a)}if(a=o-u,f||!(a<0)){if(a/=f,f<0){if(a>c)return;a>l&&(l=a)}else if(f>0){if(a<l)return;a<c&&(c=a)}return l>0&&(e[0]=s+l*h,e[1]=u+l*f),c<1&&(t[0]=s+c*h,t[1]=u+c*f),!0}}}}}(u,k,e,t,n,r)?s&&(_.lineStart(),_.point(o,a),m=!1):(v||(_.lineStart(),_.point(u[0],u[1])),_.point(k[0],k[1]),s||_.lineEnd(),m=!1)}p=o,g=a,v=s}return x}}var ls=sa();function cs(e,t){var n=t[0],r=t[1],i=[Ea(n),-xa(n),0],o=0,a=0;ls.reset();for(var s=0,u=e.length;s<u;++s)if(c=(l=e[s]).length)for(var l,c,h=l[c-1],f=h[0],d=h[1]/2+pa,p=Ea(d),g=xa(d),v=0;v<c;++v,f=m,p=k,g=x,h=y){var y=l[v],m=y[0],_=y[1]/2+pa,k=Ea(_),x=xa(_),b=m-f,w=b>=0?1:-1,E=w*b,N=E>fa,S=p*k;if(ls.add(ka(S*w*Ea(E),g*x+S*xa(E))),o+=N?b+w*ga:b,N^f>=n^m>=n){var I=ja(Fa(h),Fa(y));Ua(I);var C=ja(i,I);Ua(C);var T=(N^b>=0?-1:1)*Ca(C[2]);(r>T||r===T&&(I[0]||I[1]))&&(a+=N^b>=0?1:-1)}}return(o<-1e-6||o<ha&&ls<-1e-6)^1&a}sa();sa(),sa();var hs=1/0,fs=hs,ds=-hs,ps=ds,gs={point:function(e,t){e<hs&&(hs=e);e>ds&&(ds=e);t<fs&&(fs=t);t>ps&&(ps=t)},lineStart:Ta,lineEnd:Ta,polygonStart:Ta,polygonEnd:Ta,result:function(){var e=[[hs,fs],[ds,ps]];return ds=ps=-(fs=hs=1/0),e}};const vs=gs;sa();function ys(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function ms(e,t,n,r){return function(i,o){var a,s,u,l=t(o),c=i.invert(r[0],r[1]),h=Qa(),f=t(h),d=!1,p={point:g,lineStart:y,lineEnd:m,polygonStart:function(){p.point=_,p.lineStart=k,p.lineEnd=x,s=[],a=[]},polygonEnd:function(){p.point=g,p.lineStart=y,p.lineEnd=m,s=os(s);var e=cs(a,c);s.length?(d||(o.polygonStart(),d=!0),es(s,ks,e,n,o)):e&&(d||(o.polygonStart(),d=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),d&&(o.polygonEnd(),d=!1),s=a=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function g(t,n){var r=i(t,n);e(t=r[0],n=r[1])&&o.point(t,n)}function v(e,t){var n=i(e,t);l.point(n[0],n[1])}function y(){p.point=v,l.lineStart()}function m(){p.point=g,l.lineEnd()}function _(e,t){u.push([e,t]);var n=i(e,t);f.point(n[0],n[1])}function k(){f.lineStart(),u=[]}function x(){_(u[0][0],u[0][1]),f.lineEnd();var e,t,n,r,i=f.clean(),l=h.result(),c=l.length;if(u.pop(),a.push(u),u=null,c)if(1&i){if((t=(n=l[0]).length-1)>0){for(d||(o.polygonStart(),d=!0),o.lineStart(),e=0;e<t;++e)o.point((r=n[e])[0],r[1]);o.lineEnd()}}else c>1&&2&i&&l.push(l.pop().concat(l.shift())),s.push(l.filter(_s))}return p}}function _s(e){return e.length>1}function ks(e,t){return((e=e.x)[0]<0?e[1]-da-ha:da-e[1])-((t=t.x)[0]<0?t[1]-da-ha:da-t[1])}ys(4.5);const xs=ms((function(){return!0}),(function(e){var t,n=NaN,r=NaN,i=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(o,a){var s=o>0?fa:-fa,u=ma(o-n);ma(u-fa)<ha?(e.point(n,r=(r+a)/2>0?da:-da),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),e.point(o,r),t=0):i!==s&&u>=fa&&(ma(n-i)<ha&&(n-=i*ha),ma(o-s)<ha&&(o-=s*ha),r=function(e,t,n,r){var i,o,a=Ea(e-n);return ma(a)>ha?_a((Ea(t)*(o=xa(r))*Ea(n)-Ea(r)*(i=xa(t))*Ea(e))/(i*o*a)):(t+r)/2}(n,r,o,a),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),t=0),e.point(n=o,r=a),i=s},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}}),(function(e,t,n,r){var i;if(null==e)i=n*da,r.point(-fa,i),r.point(0,i),r.point(fa,i),r.point(fa,0),r.point(fa,-i),r.point(0,-i),r.point(-fa,-i),r.point(-fa,0),r.point(-fa,i);else if(ma(e[0]-t[0])>ha){var o=e[0]<t[0]?fa:-fa;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}),[-fa,-da]);function bs(e){return e}function ws(e){return function(t){var n=new Es;for(var r in e)n[r]=e[r];return n.stream=t,n}}function Es(){}function Ns(e,t,n){var r=t[1][0]-t[0][0],i=t[1][1]-t[0][1],o=e.clipExtent&&e.clipExtent();e.scale(150).translate([0,0]),null!=o&&e.clipExtent(null),Aa(n,e.stream(vs));var a=vs.result(),s=Math.min(r/(a[1][0]-a[0][0]),i/(a[1][1]-a[0][1])),u=+t[0][0]+(r-s*(a[1][0]+a[0][0]))/2,l=+t[0][1]+(i-s*(a[1][1]+a[0][1]))/2;return null!=o&&e.clipExtent(o),e.scale(150*s).translate([u,l])}Es.prototype={constructor:Es,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Ss=xa(30*ya);function Is(e,t){return+t?function(e,t){function n(r,i,o,a,s,u,l,c,h,f,d,p,g,v){var y=l-r,m=c-i,_=y*y+m*m;if(_>4*t&&g--){var k=a+f,x=s+d,b=u+p,w=Na(k*k+x*x+b*b),E=Ca(b/=w),N=ma(ma(b)-1)<ha||ma(o-h)<ha?(o+h)/2:ka(x,k),S=e(N,E),I=S[0],C=S[1],T=I-r,L=C-i,R=m*T-y*L;(R*R/_>t||ma((y*T+m*L)/_-.5)>.3||a*f+s*d+u*p<Ss)&&(n(r,i,o,a,s,u,I,C,N,k/=w,x/=w,b,g,v),v.point(I,C),n(I,C,N,k,x,b,l,c,h,f,d,p,g,v))}}return function(t){var r,i,o,a,s,u,l,c,h,f,d,p,g={point:v,lineStart:y,lineEnd:_,polygonStart:function(){t.polygonStart(),g.lineStart=k},polygonEnd:function(){t.polygonEnd(),g.lineStart=y}};function v(n,r){n=e(n,r),t.point(n[0],n[1])}function y(){c=NaN,g.point=m,t.lineStart()}function m(r,i){var o=Fa([r,i]),a=e(r,i);n(c,h,l,f,d,p,c=a[0],h=a[1],l=r,f=o[0],d=o[1],p=o[2],16,t),t.point(c,h)}function _(){g.point=v,t.lineEnd()}function k(){y(),g.point=x,g.lineEnd=b}function x(e,t){m(r=e,t),i=c,o=h,a=f,s=d,u=p,g.point=m}function b(){n(c,h,l,f,d,p,i,o,r,a,s,u,16,t),g.lineEnd=_,_()}return g}}(e,t):function(e){return ws({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}(e)}var Cs=ws({point:function(e,t){this.stream.point(e*ya,t*ya)}});function Ts(e){return function(e){var t,n,r,i,o,a,s,u,l,c,h=150,f=480,d=250,p=0,g=0,v=0,y=0,m=0,_=null,k=xs,x=null,b=bs,w=.5,E=Is(I,w);function N(e){return[(e=o(e[0]*ya,e[1]*ya))[0]*h+n,r-e[1]*h]}function S(e){return(e=o.invert((e[0]-n)/h,(r-e[1])/h))&&[e[0]*va,e[1]*va]}function I(e,i){return[(e=t(e,i))[0]*h+n,r-e[1]*h]}function C(){o=Ga(i=Ha(v,y,m),t);var e=t(p,g);return n=f-e[0]*h,r=d+e[1]*h,T()}function T(){return l=c=null,N}return N.stream=function(e){return l&&c===e?l:l=Cs(k(i,E(b(c=e))))},N.clipAngle=function(e){return arguments.length?(k=+e?function(e,t){var n=xa(e),r=n>0,i=ma(n)>ha;function o(e,t){return xa(e)*xa(t)>n}function a(e,t,r){var i=[1,0,0],o=ja(Fa(e),Fa(t)),a=za(o,o),s=o[0],u=a-s*s;if(!u)return!r&&e;var l=n*a/u,c=-n*s/u,h=ja(i,o),f=qa(i,l);Ba(f,qa(o,c));var d=h,p=za(f,d),g=za(d,d),v=p*p-g*(za(f,f)-1);if(!(v<0)){var y=Na(v),m=qa(d,(-p-y)/g);if(Ba(m,f),m=Da(m),!r)return m;var _,k=e[0],x=t[0],b=e[1],w=t[1];x<k&&(_=k,k=x,x=_);var E=x-k,N=ma(E-fa)<ha;if(!N&&w<b&&(_=b,b=w,w=_),N||E<ha?N?b+w>0^m[1]<(ma(m[0]-k)<ha?b:w):b<=m[1]&&m[1]<=w:E>fa^(k<=m[0]&&m[0]<=x)){var S=qa(d,(-p+y)/g);return Ba(S,f),[m,Da(S)]}}}function s(t,n){var i=r?e:fa-e,o=0;return t<-i?o|=1:t>i&&(o|=2),n<-i?o|=4:n>i&&(o|=8),o}return ms(o,(function(e){var t,n,u,l,c;return{lineStart:function(){l=u=!1,c=1},point:function(h,f){var d,p=[h,f],g=o(h,f),v=r?g?0:s(h,f):g?s(h+(h<0?fa:-fa),f):0;if(!t&&(l=u=g)&&e.lineStart(),g!==u&&(!(d=a(t,p))||Ka(t,d)||Ka(p,d))&&(p[0]+=ha,p[1]+=ha,g=o(p[0],p[1])),g!==u)c=0,g?(e.lineStart(),d=a(p,t),e.point(d[0],d[1])):(d=a(t,p),e.point(d[0],d[1]),e.lineEnd()),t=d;else if(i&&t&&r^g){var y;v&n||!(y=a(p,t,!0))||(c=0,r?(e.lineStart(),e.point(y[0][0],y[0][1]),e.point(y[1][0],y[1][1]),e.lineEnd()):(e.point(y[1][0],y[1][1]),e.lineEnd(),e.lineStart(),e.point(y[0][0],y[0][1])))}!g||t&&Ka(t,p)||e.point(p[0],p[1]),t=p,u=g,n=v},lineEnd:function(){u&&e.lineEnd(),t=null},clean:function(){return c|(l&&u)<<1}}}),(function(n,r,i,o){$a(o,e,t,i,n,r)}),r?[0,-e]:[-fa,e-fa])}(_=e*ya,6*ya):(_=null,xs),T()):_*va},N.clipExtent=function(e){return arguments.length?(b=null==e?(x=a=s=u=null,bs):us(x=+e[0][0],a=+e[0][1],s=+e[1][0],u=+e[1][1]),T()):null==x?null:[[x,a],[s,u]]},N.scale=function(e){return arguments.length?(h=+e,C()):h},N.translate=function(e){return arguments.length?(f=+e[0],d=+e[1],C()):[f,d]},N.center=function(e){return arguments.length?(p=e[0]%360*ya,g=e[1]%360*ya,C()):[p*va,g*va]},N.rotate=function(e){return arguments.length?(v=e[0]%360*ya,y=e[1]%360*ya,m=e.length>2?e[2]%360*ya:0,C()):[v*va,y*va,m*va]},N.precision=function(e){return arguments.length?(E=Is(I,w=e*e),T()):Na(w)},N.fitExtent=function(e,t){return Ns(N,e,t)},N.fitSize=function(e,t){return function(e,t,n){return Ns(e,[[0,0],t],n)}(N,e,t)},function(){return t=e.apply(this,arguments),N.invert=t.invert&&S,C()}}((function(){return e}))()}function Ls(e){return function(t,n){var r=xa(t),i=xa(n),o=e(r*i);return[o*i*Ea(t),o*Ea(n)]}}function Rs(e){return function(t,n){var r=Na(t*t+n*n),i=e(r),o=Ea(i),a=xa(i);return[ka(t*o,r*a),Ca(r&&n*o/r)]}}var Ps=Ls((function(e){return Na(2/(1+e))}));Ps.invert=Rs((function(e){return 2*Ca(e/2)}));var Ms=Ls((function(e){return(e=Ia(e))&&e/Ea(e)}));function Os(e,t){return[e,wa(Sa((da+t)/2))]}function As(e,t){return[e,t]}function Ds(e,t){var n=xa(t),r=xa(e)*n;return[n*Ea(e)/r,Ea(t)/r]}function Fs(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),t*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}function zs(e,t){return[xa(t)*Ea(e),Ea(t)]}function js(e,t){var n=xa(t),r=1+xa(e)*n;return[n*Ea(e)/r,Ea(t)/r]}function Bs(e,t){return[wa(Sa((da+t)/2)),-e]}Ms.invert=Rs((function(e){return e})),Os.invert=function(e,t){return[e,2*_a(ba(t))-da]},As.invert=As,Ds.invert=Rs(_a),Fs.invert=function(e,t){var n,r=t,i=25;do{var o=r*r,a=o*o;r-=n=(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-t)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(ma(n)>ha&&--i>0);return[e/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]},zs.invert=Rs(Ca),js.invert=Rs((function(e){return 2*_a(e)})),Bs.invert=function(e,t){return[-t,2*_a(ba(e))-da]};var{BufferOp:qs,GeoJSONReader:Us,GeoJSONWriter:Gs}=aa;function Ys(e,t,n){var r=(n=n||{}).units||"kilometers",i=n.steps||8;if(!e)throw new Error("geojson is required");if("object"!==typeof n)throw new Error("options must be an object");if("number"!==typeof i)throw new Error("steps must be an number");if(void 0===t)throw new Error("radius is required");if(i<=0)throw new Error("steps must be greater than 0");var o=[];switch(e.type){case"GeometryCollection":return P(e,(function(e){var n=Hs(e,t,r,i);n&&o.push(n)})),m(o);case"FeatureCollection":return R(e,(function(e){var n=Hs(e,t,r,i);n&&R(n,(function(e){e&&o.push(e)}))})),m(o)}return Hs(e,t,r,i)}function Hs(e,t,n,r){var i=e.properties||{},o="Feature"===e.type?e.geometry:e;if("GeometryCollection"===o.type){var a=[];return P(e,(function(e){var i=Hs(e,t,n,r);i&&a.push(i)})),m(a)}var s=function(e){var t=oa(e).geometry.coordinates,n=[-t[0],-t[1]];return Ts(Ms).scale(79.4188).clipAngle(179.999).rotate(n).scale(d)}(o),u={type:o.type,coordinates:Vs(o.coordinates,s)},l=(new Us).read(u),c=_(k(t,n),"meters"),h=qs.bufferOp(l,c,r);if(!Xs((h=(new Gs).write(h)).coordinates))return g({type:h.type,coordinates:Ws(h.coordinates,s)},i)}function Xs(e){return Array.isArray(e[0])?Xs(e[0]):isNaN(e[0])}function Vs(e,t){return"object"!==typeof e[0]?t(e):e.map((function(e){return Vs(e,t)}))}function Ws(e,t){return"object"!==typeof e[0]?t.invert(e):e.map((function(e){return Ws(e,t)}))}function $s(e){return function(e,t,n){var r=n;return P(e,(function(e,i,o,a,s){r=0===i&&void 0===n?e:t(r,e,i,o,a,s)})),r}(e,((e,t)=>e+function(e){let t,n=0;switch(e.type){case"Polygon":return Zs(e.coordinates);case"MultiPolygon":for(t=0;t<e.coordinates.length;t++)n+=Zs(e.coordinates[t]);return n;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}(t)),0)}function Zs(e){let t=0;if(e&&e.length>0){t+=Math.abs(Js(e[0]));for(let n=1;n<e.length;n++)t-=Math.abs(Js(e[n]))}return t}var Qs=20294876564838.72,Ks=Math.PI/180;function Js(e){const t=e.length-1;if(t<=2)return 0;let n=0,r=0;for(;r<t;){const i=e[r],o=e[r+1===t?0:r+1],a=e[r+2>=t?(r+2)%t:r+2],s=i[0]*Ks,u=o[1]*Ks;n+=(a[0]*Ks-s)*Math.sin(u),r++}return n*Qs}const eu=(()=>{const e=new Map;return(t,n)=>{const r=`${t}-${n}`;if(e.has(r))return e.get(r);if(t){t=t.replace(/^#/,"");const[i,o,a]=[0,2,4].map((e=>parseInt(t.substring(e,e+2),16))),s=`rgba(${i}, ${o}, ${a}, ${n})`;return e.set(r,s),s}return"rgba(0, 0, 0, 0)"}})(),tu=()=>{const{maskProperties:t}=F(),{parcelAreaFrom:n,parcelAreaTo:i}=di(),{builtAreaFrom:o,builtAreaTo:a}=$i(),s=(0,e.useMemo)((()=>{if(!t||0===t.length)return null;const e=t.flatMap((e=>{const t=[];let{geometry:r,properties:s}=e;const{area_carto:u,constructed_area:l="",occupancy_rate:c=1,plot_ratio_max:h=1,height:f=10,height_max:d=50,front_setback:p=4,colors:g="#FFFFFF"}=s;if(u<=n||u>=i)return[];const v=l.replace(/[{}]/g,"").split(",").map(Number).reduce(((e,t)=>e+t),0);if(v<o||v>a)return[];const y=h||1,m=f||10,_=Math.min(d||50,m*y*(c||1))/5,k=p||4;let x=Ys(r,-k,{units:"meters"});for(let n=0;n<5&&(x&&!($s(x)<=0));n++){const e=_*(n+1),r=eu(g||"#FFFFFF",1);t.push({type:"Feature",geometry:{type:"Polygon",coordinates:x.geometry.coordinates},properties:{"zone-color":r,"extrusion-height":e}}),x=Ys(x,-k,{units:"meters"})}return t}));return e.length>0?{type:"FeatureCollection",features:e}:null}),[t,n,i,o,a]);return s?(0,r.jsx)(Zo,{id:"mask-buildings",type:"geojson",data:s,children:(0,r.jsx)($o,{id:"extruded-buildings",type:"fill-extrusion",paint:{"fill-extrusion-color":["get","zone-color"],"fill-extrusion-base":2,"fill-extrusion-height":["get","extrusion-height"],"fill-extrusion-opacity":.8}})}):null};tu.displayName="Mask";const nu=()=>{const{circleGeometry:e}=C();return(0,r.jsx)(Zo,{id:"polygon",type:"geojson",data:e,children:(0,r.jsx)($o,{id:"layer-mask",type:"fill",source:"polygon",paint:{"fill-color":"rgb(126, 126, 132)","fill-opacity":.2}})})};nu.displayName="Circle";const ru=(0,e.createContext)(null),iu=t=>{let{children:n}=t;const{mapRef:i,marker:o,setMarker:a}=h(),[s,u]=(0,e.useState)(!1),[l,c]=(0,e.useState)({x:0,y:0}),f=(0,e.useCallback)((e=>{var t;const n=null===(t=i.current)||void 0===t?void 0:t.queryRenderedFeatures(e,{layers:["layer-mask"]});return n&&n.length>0}),[i]),d=(0,e.useCallback)((e=>{if(f(e.point)){u(!0);const{x:t,y:n}=e.point,r=i.current.project([o.longitude,o.latitude]);c({x:t-r.x,y:n-r.y})}}),[f,o,i]),p=(0,e.useCallback)((e=>{if(s){const t=i.current.unproject({x:e.point.x-l.x,y:e.point.y-l.y});a({longitude:t.lng,latitude:t.lat})}}),[s,l,i,a]),g=(0,e.useCallback)((()=>{u(!1)}),[]);return(0,r.jsx)(ru.Provider,{value:{isDragging:s,onDragStart:d,onMouseMove:p,onDragEnd:g},children:n})};ru.displayName="EventsContext";const ou=()=>{const{mapRef:t,basemap:n,viewport:i,setViewport:o}=h(),{isDragging:a,onDragStart:s,onMouseMove:u,onDragEnd:l}=(0,e.useContext)(ru),{circleGeometry:c}=C(),f=(0,e.useCallback)((e=>{const t=e.lngLat.lng,n=e.lngLat.lat;o((e=>({...e,longitude:t,latitude:n})))}),[]);return(0,e.useEffect)((()=>{var e;const n=null===(e=t.current)||void 0===e?void 0:e.getMap();n&&n.getSource("eraser")&&n.getSource("eraser").setData(c.geometry)}),[c]),(0,r.jsx)(Jo,{children:(0,r.jsxs)(Xo,{ref:t,mapStyle:n,initialViewState:i,mapboxAccessToken:"pk.eyJ1IjoiaHZva2luZyIsImEiOiJja3F4YWMyNHMwODkxMm5vNzcxNWJrZXUzIn0.QCH37vNtXL1p2CfPYiVdgg",onLoad:()=>{var e;const n=null===(e=t.current)||void 0===e?void 0:e.getMap();n&&(n.addSource("eraser",{type:"geojson",data:c.geometry}),n.addLayer({id:"eraser",type:"clip",source:"eraser",layout:{"clip-layer":["building-extrusion"]},minzoom:14}))},doubleClickZoom:!1,onDblClick:f,onMouseDown:s,onMouseMove:u,onMouseUp:l,onTouchStart:s,onTouchMove:u,onTouchEnd:l,dragPan:!a,children:[(0,r.jsx)(Qo,{}),(0,r.jsx)(nu,{}),(0,r.jsx)(na,{}),(0,r.jsx)(ra,{}),(0,r.jsx)(tu,{})]})})};ou.displayName="Maps";const au=()=>(0,r.jsx)("div",{className:"logo-wrapper",children:(0,r.jsx)("img",{src:"/parcels/static/logos/logo.svg",alt:"logo",height:"45px"})});au.displayName="Logo";const su=()=>(0,r.jsx)("div",{className:"wrapper-header",children:(0,r.jsx)(au,{})});su.displayName="Header";const uu=e=>{let{children:t}=e,n=.01*window.innerHeight;return document.documentElement.style.setProperty("--vh",`${n}px`),window.addEventListener("resize",(()=>{let e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${e}px`)})),(0,r.jsxs)("div",{className:"wrapper",children:[(0,r.jsx)(su,{}),t]})};uu.displayName="Wrapper";const lu=e=>{let{children:t}=e;return(0,r.jsx)(pi,{children:(0,r.jsx)(Zi,{children:t})})};lu.displayName="AreasProvider";const cu=e=>{let{children:t}=e;return(0,r.jsx)(f,{children:(0,r.jsx)(T,{children:(0,r.jsx)(lu,{children:t})})})};cu.displayName="FiltersProvider";const hu=e=>{let{children:t}=e;return(0,r.jsx)(mi,{children:(0,r.jsx)(eo,{children:t})})};hu.displayName="SliderSizesProvider";const fu=e=>{let{children:t}=e;return(0,r.jsx)(Ti,{children:(0,r.jsx)(hu,{children:(0,r.jsx)(s,{children:(0,r.jsx)(Oi,{children:t})})})})};fu.displayName="SizesProvider";const du=e=>{let{children:t}=e;return(0,r.jsx)(iu,{children:(0,r.jsx)(ta,{children:(0,r.jsx)(z,{children:t})})})};du.displayName="MapsProvider";const pu=e=>{let{children:t}=e;return(0,r.jsx)(cu,{children:(0,r.jsx)(du,{children:(0,r.jsx)(fu,{children:t})})})};pu.displayName="MainProvider";const gu=()=>(0,r.jsx)(pu,{children:(0,r.jsx)(uu,{children:(0,r.jsxs)("div",{className:"main",children:[(0,r.jsx)(lo,{}),(0,r.jsx)(ou,{})]})})});gu.displayName="Main";const vu=()=>(0,r.jsx)("div",{className:"App",children:(0,r.jsx)(gu,{})});vu.displayName="App";const yu=document.getElementById("root");(0,t.H)(yu).render((0,r.jsx)(e.StrictMode,{children:(0,r.jsx)(vu,{})}))})()})();
//# sourceMappingURL=main.b1f0aa08.js.map